var pB=Object.create;var yu=Object.defineProperty;var fB=Object.getOwnPropertyDescriptor;var mB=Object.getOwnPropertyNames;var hB=Object.getPrototypeOf,gB=Object.prototype.hasOwnProperty;var ue=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var _=(t,e)=>()=>(t&&(e=t(t=0)),e);var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),at=(t,e)=>{for(var r in e)yu(t,r,{get:e[r],enumerable:!0})},z_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of mB(e))!gB.call(t,s)&&s!==r&&yu(t,s,{get:()=>e[s],enumerable:!(n=fB(e,s))||n.enumerable});return t};var T=(t,e,r)=>(r=t!=null?pB(hB(t)):{},z_(e||!t||!t.__esModule?yu(r,"default",{value:t,enumerable:!0}):r,t)),ie=t=>z_(yu({},"__esModule",{value:!0}),t);var jn=R(ke=>{"use strict";ke.HttpAuthLocation=void 0;(function(t){t.HEADER="header",t.QUERY="query"})(ke.HttpAuthLocation||(ke.HttpAuthLocation={}));ke.HttpApiKeyAuthLocation=void 0;(function(t){t.HEADER="header",t.QUERY="query"})(ke.HttpApiKeyAuthLocation||(ke.HttpApiKeyAuthLocation={}));ke.EndpointURLScheme=void 0;(function(t){t.HTTP="http",t.HTTPS="https"})(ke.EndpointURLScheme||(ke.EndpointURLScheme={}));ke.AlgorithmId=void 0;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(ke.AlgorithmId||(ke.AlgorithmId={}));var yB=t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>ke.AlgorithmId.SHA256,checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>ke.AlgorithmId.MD5,checksumConstructor:()=>t.md5}),{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},EB=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},SB=t=>yB(t),_B=t=>EB(t);ke.FieldPosition=void 0;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(ke.FieldPosition||(ke.FieldPosition={}));var bB="__smithy_context";ke.IniSectionType=void 0;(function(t){t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services"})(ke.IniSectionType||(ke.IniSectionType={}));ke.RequestHandlerProtocol=void 0;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(ke.RequestHandlerProtocol||(ke.RequestHandlerProtocol={}));ke.SMITHY_CONTEXT_KEY=bB;ke.getDefaultClientConfiguration=SB;ke.resolveDefaultRuntimeConfig=_B});var ct=R(Cm=>{"use strict";var W_=jn(),TB=t=>t[W_.SMITHY_CONTEXT_KEY]||(t[W_.SMITHY_CONTEXT_KEY]={}),vB=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};Cm.getSmithyContext=TB;Cm.normalizeProvider=vB});function Go(t){return K_.includes(t)}var da,K_,Eu=_(()=>{da="preferred",K_=["disabled","preferred","required"]});var Y_,wB,X_=_(()=>{Y_=T(ct());Eu();wB=t=>{let{accountIdEndpointMode:e}=t,r=(0,Y_.normalizeProvider)(e??da);return Object.assign(t,{accountIdEndpointMode:async()=>{let n=await r();if(!Go(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var Q_,Z_,J_,eb,xB,tb=_(()=>{Eu();Q_="Invalid AccountIdEndpointMode value",Z_=t=>{throw new Error(t)},J_="AWS_ACCOUNT_ID_ENDPOINT_MODE",eb="account_id_endpoint_mode",xB={environmentVariableSelector:t=>{let e=t[J_];return e&&!Go(e)&&Z_(Q_),e},configFileSelector:t=>{let e=t[eb];return e&&!Go(e)&&Z_(Q_),e},default:da}});var Am={};at(Am,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>K_,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>eb,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>da,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>J_,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>xB,resolveAccountIdEndpointModeConfig:()=>wB,validateAccountIdEndpointMode:()=>Go});var Rm=_(()=>{X_();Eu();tb()});var Re=R(Gn=>{"use strict";var IB=jn(),CB=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),AB=t=>({httpHandler:t.httpHandler()}),Pm=class{name;kind;values;constructor({name:e,kind:r=IB.FieldPosition.HEADER,values:n=[]}){this.name=e,this.kind=r,this.values=n}add(e){this.values.push(e)}set(e){this.values=e}remove(e){this.values=this.values.filter(r=>r!==e)}toString(){return this.values.map(e=>e.includes(",")||e.includes(" ")?`"${e}"`:e).join(", ")}get(){return this.values}},Dm=class{entries={};encoding;constructor({fields:e=[],encoding:r="utf-8"}){e.forEach(this.setField.bind(this)),this.encoding=r}setField(e){this.entries[e.name.toLowerCase()]=e}getField(e){return this.entries[e.toLowerCase()]}removeField(e){delete this.entries[e.toLowerCase()]}getByType(e){return Object.values(this.entries).filter(r=>r.kind===e)}},Nm=class t{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new t({...e,headers:{...e.headers}});return r.query&&(r.query=RB(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return t.clone(this)}};function RB(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var Om=class{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function PB(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}Gn.Field=Pm;Gn.Fields=Dm;Gn.HttpRequest=Nm;Gn.HttpResponse=Om;Gn.getHttpHandlerExtensionConfiguration=CB;Gn.isValidHostname=PB;Gn.resolveHttpHandlerRuntimeConfig=AB});var nb=R((uue,rb)=>{function sn(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}sn.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(sn.prototype[Symbol.iterator]=function(){return this});sn.of=function(){var t=arguments,e=t.length,r=0;return new sn(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};sn.empty=function(){var t=new sn(null);return t.done=!0,t};sn.is=function(t){return t instanceof sn?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};rb.exports=sn});var km=R((lue,ab)=>{var sb=typeof ArrayBuffer<"u",ob=typeof Symbol<"u";function ib(t,e){var r,n,s,o,i;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||sb&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(s=0,o=t.length;s<o;s++)e(t[s],s);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(ob&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,s=0;i=r.next(),i.done!==!0;)e(i.value,s),s++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}ib.forEachWithNullKeys=function(t,e){var r,n,s,o,i;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||sb&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(s=0,o=t.length;s<o;s++)e(t[s],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(ob&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,s=0;i=r.next(),i.done!==!0;)e(i.value,null),s++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};ab.exports=ib});var Lm=R(Rr=>{var DB=Math.pow(2,8)-1,NB=Math.pow(2,16)-1,OB=Math.pow(2,32)-1,kB=Math.pow(2,7)-1,LB=Math.pow(2,15)-1,MB=Math.pow(2,31)-1;Rr.getPointerArray=function(t){var e=t-1;return e<=DB?Uint8Array:e<=NB?Uint16Array:e<=OB?Uint32Array:Float64Array};Rr.getSignedPointerArray=function(t){var e=t-1;return e<=kB?Int8Array:e<=LB?Int16Array:e<=MB?Int32Array:Float64Array};Rr.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var UB={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Rr.getMinimalRepresentation=function(t,e){var r=null,n=0,s,o,i,a,c;for(a=0,c=t.length;a<c;a++)i=e?e(t[a]):t[a],o=Rr.getNumberType(i),s=UB[o.name],s>n&&(n=s,r=o);return r};Rr.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};Rr.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var s=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)s.set(arguments[e],r),r+=arguments[e].length;return s};Rr.indices=function(t){for(var e=Rr.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var lb=R(pa=>{var cb=km(),ub=Lm();function BB(t){return Array.isArray(t)||ub.isTypedArray(t)}function Mm(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function FB(t){var e=Mm(t),r=typeof e=="number"?new Array(e):[],n=0;return cb(t,function(s){r[n++]=s}),r}function $B(t){var e=Mm(t),r=typeof e=="number"?ub.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],s=typeof e=="number"?new r(e):[],o=0;return cb(t,function(i){n[o]=i,s[o]=o++}),[n,s]}pa.isArrayLike=BB;pa.guessLength=Mm;pa.toArray=FB;pa.toArrayWithIndices=$B});var pb=R((fue,db)=>{var Um=nb(),jB=km(),GB=Lm(),qB=lb();function Ye(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=GB.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Ye.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Ye.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};Ye.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Ye.prototype.setpop=function(t,e){var r=null,n=null,s=this.items[t];return typeof s<"u"?(this.splayOnTop(s),r=this.V[s],this.V[s]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],r=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[t]=s,this.K[s]=t,this.V[s]=e,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:r}:null)};Ye.prototype.has=function(t){return t in this.items};Ye.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};Ye.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};Ye.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,s=this.head,o=this.K,i=this.V,a=this.forward;r<n;)t.call(e,i[s],o[s],this),s=a[s],r++};Ye.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,s=this.forward;return new Um(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=s[r]),{done:!1,value:o}})};Ye.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,s=this.forward;return new Um(function(){if(t>=e)return{done:!0};var o=n[r];return t++,t<e&&(r=s[r]),{done:!1,value:o}})};Ye.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,s=this.V,o=this.forward;return new Um(function(){if(t>=e)return{done:!0};var i=n[r],a=s[r];return t++,t<e&&(r=o[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Ye.prototype[Symbol.iterator]=Ye.prototype.entries);Ye.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:Ye,enumerable:!1}),t};typeof Symbol<"u"&&(Ye.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ye.prototype.inspect);Ye.from=function(t,e,r,n){if(arguments.length<2){if(n=qB.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var s=new Ye(e,r,n);return jB(t,function(o,i){s.set(i,o)}),s};db.exports=Ye});var gb=R((mue,hb)=>{"use strict";var HB=Object.create,fa=Object.defineProperty,VB=Object.getOwnPropertyDescriptor,zB=Object.getOwnPropertyNames,WB=Object.getPrototypeOf,KB=Object.prototype.hasOwnProperty,YB=(t,e)=>fa(t,"name",{value:e,configurable:!0}),XB=(t,e)=>{for(var r in e)fa(t,r,{get:e[r],enumerable:!0})},fb=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of zB(e))!KB.call(t,s)&&s!==r&&fa(t,s,{get:()=>e[s],enumerable:!(n=VB(e,s))||n.enumerable});return t},QB=(t,e,r)=>(r=t!=null?HB(WB(t)):{},fb(e||!t||!t.__esModule?fa(r,"default",{value:t,enumerable:!0}):r,t)),ZB=t=>fb(fa({},"__esModule",{value:!0}),t),mb={};XB(mb,{EndpointCache:()=>eF});hb.exports=ZB(mb);var JB=QB(pb()),eF=class{static{YB(this,"EndpointCache")}cache;constructor(t){this.cache=new JB.default(t)}getEndpoint(t){let e=this.get(t);if(!e||e.length===0)return;let r=e.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(t){if(!this.has(t))return;let e=this.cache.get(t);if(!e)return;let r=Date.now(),n=e.filter(s=>r<s.Expires);if(n.length===0){this.delete(t);return}return n}set(t,e){let r=Date.now();this.cache.set(t,e.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:r+s*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let e=this.cache.peek(t);return e?e.length>0:!1}clear(){this.cache.clear()}}});var $m=R(Gs=>{"use strict";var tF=Re(),rF=gb(),yb=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Bm="endpoint_discovery_enabled",Eb=t=>["false","0"].indexOf(t)>=0,nF={environmentVariableSelector:t=>{for(let e=0;e<yb.length;e++){let r=yb[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!Eb(n)}}},configFileSelector:t=>{if(Bm in t){let e=t[Bm];if(e===void 0)throw Error(`Shared config entry ${Bm} can't be undefined, got "${e}"`);return!Eb(e)}},default:void 0},sF=async(t,e,r)=>{let{accessKeyId:n}=await e.credentials(),{identifiers:s}=r;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:t,identifiers:Object.entries(s).sort().reduce((o,[i,a])=>({...o,[i]:a}),{})}})},on={},Sb=async(t,e)=>new Promise((r,n)=>{let{endpointCache:s}=t,{cacheKey:o,commandName:i,identifiers:a}=e,c=s.get(o);if(c&&c.length===1&&c[0].Address==="")e.isDiscoveredEndpointRequired?(on[o]||(on[o]=[]),on[o].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let u=[{Address:"",CachePeriodInMinutes:1}];s.set(o,u);let f=new e.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});f.resolveMiddleware(e.clientStack,t,e.options)(f).then(g=>{s.set(o,g.output.Endpoints),on[o]&&(on[o].forEach(({resolve:h})=>{h()}),delete on[o]),r()}).catch(g=>{s.delete(o);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:g});on[o]&&(on[o].forEach(({reject:E})=>{E(h)}),delete on[o]),e.isDiscoveredEndpointRequired?n(h):(s.set(o,u),r())})}}),Fm=(t,e)=>(r,n)=>async s=>{if(t.isCustomEndpoint){if(t.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(s)}let{endpointDiscoveryCommandCtor:o}=t,{isDiscoveredEndpointRequired:i,identifiers:a}=e,c=n.clientName,u=n.commandName,f=await t.endpointDiscoveryEnabled(),m=await sF(u,t,{identifiers:a});if(i){if(f===!1)throw new Error(`Endpoint Discovery is disabled but ${u} on ${c} requires it. Please check your configurations.`);await Sb(t,{...e,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:o})}else f&&Sb(t,{...e,commandName:u,cacheKey:m,endpointDiscoveryCommandCtor:o});let{request:g}=s;if(m&&tF.HttpRequest.isInstance(g)){let h=t.endpointCache.getEndpoint(m);h&&(g.hostname=h)}return r(s)},Su={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},oF=(t,e)=>({applyToStack:r=>{r.add(Fm(t,e),Su)}}),iF=(t,e)=>({applyToStack:r=>{r.add(Fm(t,{...e,isDiscoveredEndpointRequired:!0}),Su)}}),aF=(t,e)=>({applyToStack:r=>{r.add(Fm(t,{...e,isDiscoveredEndpointRequired:!1}),Su)}}),cF=(t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new rF.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})};Gs.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=nF;Gs.endpointDiscoveryMiddlewareOptions=Su;Gs.getEndpointDiscoveryOptionalPlugin=aF;Gs.getEndpointDiscoveryPlugin=oF;Gs.getEndpointDiscoveryRequiredPlugin=iF;Gs.resolveEndpointDiscoveryConfig=cF});var qo=R(ma=>{"use strict";var uF=Re();function lF(t){return t}var _b=t=>e=>async r=>{if(!uF.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},bb={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},dF=t=>({applyToStack:e=>{e.add(_b(t),bb)}});ma.getHostHeaderPlugin=dF;ma.hostHeaderMiddleware=_b;ma.hostHeaderMiddlewareOptions=bb;ma.resolveHostHeaderConfig=lF});var Ho=R(_u=>{"use strict";var Tb=()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:u}=a,f=c??e.inputFilterSensitiveLog,m=u??e.outputFilterSensitiveLog,{$metadata:g,...h}=n.output;return i?.info?.({clientName:s,commandName:o,input:f(r.input),output:m(h),metadata:g}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,u=c??e.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:u(r.input),error:n,metadata:n.$metadata}),n}},vb={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},pF=t=>({applyToStack:e=>{e.add(Tb(),vb)}});_u.getLoggerPlugin=pF;_u.loggerMiddleware=Tb;_u.loggerMiddlewareOptions=vb});var wb={};at(wb,{InvokeStore:()=>Hm,InvokeStoreBase:()=>ga});var ha,jm,ga,Gm,qm,Hm,xb=_(()=>{ha={REQUEST_ID:Symbol.for("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol.for("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol.for("_AWS_LAMBDA_TENANT_ID")},jm=["true","1"].includes(process.env?.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA??"");jm||(globalThis.awslambda=globalThis.awslambda||{});ga=class{static PROTECTED_KEYS=ha;isProtectedKey(e){return Object.values(ha).includes(e)}getRequestId(){return this.get(ha.REQUEST_ID)??"-"}getXRayTraceId(){return this.get(ha.X_RAY_TRACE_ID)}getTenantId(){return this.get(ha.TENANT_ID)}},Gm=class extends ga{currentContext;getContext(){return this.currentContext}hasContext(){return this.currentContext!==void 0}get(e){return this.currentContext?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);this.currentContext=this.currentContext||{},this.currentContext[e]=r}run(e,r){return this.currentContext=e,r()}},qm=class t extends ga{als;static async create(){let e=new t,r=await import("node:async_hooks");return e.als=new r.AsyncLocalStorage,e}getContext(){return this.als.getStore()}hasContext(){return this.als.getStore()!==void 0}get(e){return this.als.getStore()?.[e]}set(e,r){if(this.isProtectedKey(e))throw new Error(`Cannot modify protected Lambda context field: ${String(e)}`);let n=this.als.getStore();if(!n)throw new Error("No context available");n[e]=r}run(e,r){return this.als.run(e,r)}};(function(t){let e=null;async function r(){return e||(e=(async()=>{let s="AWS_LAMBDA_MAX_CONCURRENCY"in process.env?await qm.create():new Gm;return!jm&&globalThis.awslambda?.InvokeStore?globalThis.awslambda.InvokeStore:(!jm&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=s),s)})()),e}t.getInstanceAsync=r,t._testing=process.env.AWS_LAMBDA_BENCHMARK_MODE==="1"?{reset:()=>{e=null,globalThis.awslambda?.InvokeStore&&delete globalThis.awslambda.InvokeStore,globalThis.awslambda={}}}:void 0})(Hm||(Hm={}))});var Ib=R(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.recursionDetectionMiddleware=void 0;var fF=(xb(),ie(wb)),mF=Re(),Vm="X-Amzn-Trace-Id",hF="AWS_LAMBDA_FUNCTION_NAME",gF="_X_AMZN_TRACE_ID",yF=()=>t=>async e=>{let{request:r}=e;if(!mF.HttpRequest.isInstance(r))return t(e);let n=Object.keys(r.headers??{}).find(f=>f.toLowerCase()===Vm.toLowerCase())??Vm;if(r.headers.hasOwnProperty(n))return t(e);let s=process.env[hF],o=process.env[gF],c=(await fF.InvokeStore.getInstanceAsync())?.getXRayTraceId()??o,u=f=>typeof f=="string"&&f.length>0;return u(s)&&u(c)&&(r.headers[Vm]=c),t({...e,request:r})};bu.recursionDetectionMiddleware=yF});var Vo=R(Tu=>{"use strict";var zm=Ib(),EF={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},SF=t=>({applyToStack:e=>{e.add(zm.recursionDetectionMiddleware(),EF)}});Tu.getRecursionDetectionPlugin=SF;Object.keys(zm).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Tu,t)&&Object.defineProperty(Tu,t,{enumerable:!0,get:function(){return zm[t]}})})});var Wm,_F,Cb=_(()=>{Wm=T(jn()),_F=t=>t[Wm.SMITHY_CONTEXT_KEY]||(t[Wm.SMITHY_CONTEXT_KEY]={})});var Ab,Rb=_(()=>{Ab=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let s of t)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of t)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function bF(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var Pb,ya,vu=_(()=>{Pb=T(ct());Rb();ya=(t,e)=>(r,n)=>async s=>{let o=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,s.input)),i=t.authSchemePreference?await t.authSchemePreference():[],a=Ab(o,i),c=bF(t.httpAuthSchemes),u=(0,Pb.getSmithyContext)(n),f=[];for(let m of a){let g=c.get(m.schemeId);if(!g){f.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await e.identityProviderConfigProvider(t));if(!h){f.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:E={},signingProperties:w={}}=m.propertiesExtractor?.(t,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},E),m.signingProperties=Object.assign(m.signingProperties||{},w),u.selectedHttpAuthScheme={httpAuthOption:m,identity:await h(m.identityProperties),signer:g.signer};break}if(!u.selectedHttpAuthScheme)throw new Error(f.join(`
`));return r(s)}});var Db,qs,Nb=_(()=>{vu();Db={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},qs=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ya(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Db)}})});var Ym=R(zo=>{"use strict";var TF=Re(),Ob=(t,e)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(TF.HttpResponse.isInstance(o)){let{headers:c={}}=o,u=Object.entries(c);i.$metadata={httpStatusCode:o.statusCode,requestId:Km(/^x-[\w-]+-request-?id$/,u),extendedRequestId:Km(/^x-[\w-]+-id-2$/,u),cfId:Km(/^x-[\w-]+-cf-id$/,u)}}}catch{}}throw i}},Km=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],kb=(t,e)=>(r,n)=>async s=>{let o=t,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await e(s.input,{...t,endpoint:i});return r({...s,request:a})},Lb={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Mb={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function vF(t,e,r){return{applyToStack:n=>{n.add(Ob(t,r),Lb),n.add(kb(t,e),Mb)}}}zo.deserializerMiddleware=Ob;zo.deserializerMiddlewareOption=Lb;zo.getSerdePlugin=vF;zo.serializerMiddleware=kb;zo.serializerMiddlewareOption=Mb});var Ub,Bb,wF,Fb=_(()=>{Ub=T(Ym());vu();Bb={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Ub.serializerMiddlewareOption.name},wF=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(ya(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Bb)}})});var $b=_(()=>{vu();Nb();Fb()});var jb,Gb,xF,IF,Xm,Qm=_(()=>{jb=T(Re()),Gb=T(ct()),xF=t=>e=>{throw e},IF=(t,e)=>{},Xm=t=>(e,r)=>async n=>{if(!jb.HttpRequest.isInstance(n.request))return e(n);let o=(0,Gb.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:c}=o,u=await e({...n,request:await c.sign(n.request,a,i)}).catch((c.errorHandler||xF)(i));return(c.successHandler||IF)(u.response,i),u}});var qb,Hs,Hb=_(()=>{Qm();qb={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Hs=t=>({applyToStack:e=>{e.addRelativeTo(Xm(t),qb)}})});var Vb=_(()=>{Qm();Hb()});var qn,zb=_(()=>{qn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function Wb(t,e,r,n,s){return async function*(i,a,...c){let u=a,f=i.startingToken??u[r],m=!0,g;for(;m;){if(u[r]=f,s&&(u[s]=u[s]??i.pageSize),i.client instanceof t)g=await CF(e,i.client,a,i.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield g;let h=f;f=AF(g,n),m=!!(f&&(!i.stopOnSameToken||f!==h))}return void 0}}var CF,AF,Kb=_(()=>{CF=async(t,e,r,n=o=>o,...s)=>{let o=new t(r);return o=n(o)??o,await e.send(o,...s)};AF=(t,e)=>{let r=t,n=e.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var Zm=R(Yb=>{"use strict";var RF=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";Yb.isArrayBuffer=RF});var Wo=R(eh=>{"use strict";var PF=Zm(),Jm=ue("buffer"),DF=(t,e=0,r=t.byteLength-e)=>{if(!PF.isArrayBuffer(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Jm.Buffer.from(t,e,r)},NF=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Jm.Buffer.from(t,e):Jm.Buffer.from(t)};eh.fromArrayBuffer=DF;eh.fromString=NF});var Xb=R(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.fromBase64=void 0;var OF=Wo(),kF=/^[A-Za-z0-9+/]*={0,2}$/,LF=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!kF.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,OF.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};wu.fromBase64=LF});var Je=R(xu=>{"use strict";var Qb=Wo(),Zb=t=>{let e=Qb.fromString(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},MF=t=>typeof t=="string"?Zb(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),UF=t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Qb.fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength).toString("utf8")};xu.fromUtf8=Zb;xu.toUint8Array=MF;xu.toUtf8=UF});var Jb=R(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.toBase64=void 0;var BF=Wo(),FF=Je(),$F=t=>{let e;if(typeof t=="string"?e=(0,FF.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,BF.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};Iu.toBase64=$F});var Qe=R(Ea=>{"use strict";var eT=Xb(),tT=Jb();Object.keys(eT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ea,t)&&Object.defineProperty(Ea,t,{enumerable:!0,get:function(){return eT[t]}})});Object.keys(tT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ea,t)&&Object.defineProperty(Ea,t,{enumerable:!0,get:function(){return tT[t]}})})});var rh=R(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.ChecksumStream=void 0;var jF=Qe(),GF=ue("stream"),th=class extends GF.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:e,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??jF.toBase64,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(e){}_write(e,r,n){try{this.checksum.update(e),this.push(e)}catch(s){return n(s)}return n()}async _final(e){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}};Cu.ChecksumStream=th});var Hn=R(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.isBlob=Ko.isReadableStream=void 0;var qF=t=>typeof ReadableStream=="function"&&(t?.constructor?.name===ReadableStream.name||t instanceof ReadableStream);Ko.isReadableStream=qF;var HF=t=>typeof Blob=="function"&&(t?.constructor?.name===Blob.name||t instanceof Blob);Ko.isBlob=HF});var rT=R(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.ChecksumStream=void 0;var VF=typeof ReadableStream=="function"?ReadableStream:function(){},nh=class extends VF{};Au.ChecksumStream=nh});var nT=R(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.createChecksumStream=void 0;var zF=Qe(),WF=Hn(),KF=rT(),YF=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,WF.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??zF.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(c,u){e.update(c),u.enqueue(c)},async flush(c){let u=await e.digest(),f=o(u);if(t!==f){let m=new Error(`Checksum mismatch: expected "${t}" but received "${f}" in response header "${n}".`);c.error(m)}else c.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,KF.ChecksumStream.prototype),a};Ru.createChecksumStream=YF});var sT=R(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.createChecksumStream=JF;var XF=Hn(),QF=rh(),ZF=nT();function JF(t){return typeof ReadableStream=="function"&&(0,XF.isReadableStream)(t.source)?(0,ZF.createChecksumStream)(t):new QF.ChecksumStream(t)}});var ih=R(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ByteArrayCollector=void 0;var oh=class{allocByteArray;byteLength=0;byteArrays=[];constructor(e){this.allocByteArray=e}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let e=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];e.set(s,r),r+=s.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}};Pu.ByteArrayCollector=oh});var cT=R(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.createBufferedReadable=void 0;an.createBufferedReadableStream=oT;an.merge=iT;an.flush=Du;an.sizeOf=Yo;an.modeOf=aT;var e$=ih();function oT(t,e,r){let n=t.getReader(),s=!1,o=0,i=["",new e$.ByteArrayCollector(u=>new Uint8Array(u))],a=-1,c=async u=>{let{value:f,done:m}=await n.read(),g=f;if(m){if(a!==-1){let h=Du(i,a);Yo(h)>0&&u.enqueue(h)}u.close()}else{let h=aT(g,!1);if(a!==h&&(a>=0&&u.enqueue(Du(i,a)),a=h),a===-1){u.enqueue(g);return}let E=Yo(g);o+=E;let w=Yo(i[a]);if(E>=e&&w===0)u.enqueue(g);else{let I=iT(i,a,g);!s&&o>e*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${e}, automatically buffering.`)),I>=e?u.enqueue(Du(i,a)):await c(u)}}};return new ReadableStream({pull:c})}an.createBufferedReadable=oT;function iT(t,e,r){switch(e){case 0:return t[0]+=r,Yo(t[0]);case 1:case 2:return t[e].push(r),Yo(t[e])}}function Du(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}function Yo(t){return t?.byteLength??t?.length??0}function aT(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}});var lT=R(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.createBufferedReadable=n$;var t$=ue("node:stream"),uT=ih(),cn=cT(),r$=Hn();function n$(t,e,r){if((0,r$.isReadableStream)(t))return(0,cn.createBufferedReadableStream)(t,e,r);let n=new t$.Readable({read(){}}),s=!1,o=0,i=["",new uT.ByteArrayCollector(c=>new Uint8Array(c)),new uT.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return t.on("data",c=>{let u=(0,cn.modeOf)(c,!0);if(a!==u&&(a>=0&&n.push((0,cn.flush)(i,a)),a=u),a===-1){n.push(c);return}let f=(0,cn.sizeOf)(c);o+=f;let m=(0,cn.sizeOf)(i[a]);if(f>=e&&m===0)n.push(c);else{let g=(0,cn.merge)(i,a,c);!s&&o>e*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${f} is below threshold of ${e}, automatically buffering.`)),g>=e&&n.push((0,cn.flush)(i,a))}}),t.on("end",()=>{if(a!==-1){let c=(0,cn.flush)(i,a);(0,cn.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}});var dT=R(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.getAwsChunkedEncodingStream=void 0;var s$=ue("stream"),o$=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=e,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,t):void 0,u=new s$.Readable({read:()=>{}});return t.on("data",f=>{let m=n(f)||0;u.push(`${m.toString(16)}\r
`),u.push(f),u.push(`\r
`)}),t.on("end",async()=>{if(u.push(`0\r
`),a){let f=r(await c);u.push(`${o}:${f}\r
`),u.push(`\r
`)}u.push(null)}),u};Nu.getAwsChunkedEncodingStream=o$});var pT=R(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.headStream=i$;async function i$(t,e){let r=0,n=[],s=t.getReader(),o=!1;for(;!o;){let{done:c,value:u}=await s.read();if(u&&(n.push(u),r+=u?.byteLength??0),r>=e)break;o=c}s.releaseLock();let i=new Uint8Array(Math.min(e,r)),a=0;for(let c of n){if(c.byteLength>i.byteLength-a){i.set(c.subarray(0,i.byteLength-a),a);break}else i.set(c,a);a+=c.length}return i}});var fT=R(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.headStream=void 0;var a$=ue("stream"),c$=pT(),u$=Hn(),l$=(t,e)=>(0,u$.isReadableStream)(t)?(0,c$.headStream)(t,e):new Promise((r,n)=>{let s=new uh;s.limit=e,t.pipe(s),t.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});Ou.headStream=l$;var uh=class extends a$.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(e,r,n){if(this.buffers.push(e),this.bytesBuffered+=e.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var dh=R(lh=>{"use strict";var mT=t=>encodeURIComponent(t).replace(/[!'()*]/g,d$),d$=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,p$=t=>t.split("/").map(mT).join("/");lh.escapeUri=mT;lh.escapeUriPath=p$});var fh=R(hT=>{"use strict";var ph=dh();function f$(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=ph.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)e.push(`${r}=${ph.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${ph.escapeUri(n)}`),e.push(s)}}return e.join("&")}hT.buildQueryString=f$});var Vn=R(Sa=>{"use strict";var ST=Re(),_T=fh(),ku=ue("http"),Lu=ue("https"),bT=ue("stream"),mh=ue("http2"),m$=["ECONNRESET","EPIPE","ETIMEDOUT"],TT=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},wt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},gT=1e3,h$=(t,e,r=0)=>{if(!r)return-1;let n=s=>{let o=wt.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a?.connecting?a.on("connect",()=>{wt.clearTimeout(o)}):wt.clearTimeout(o)};t.socket?i(t.socket):t.on("socket",i)};return r<2e3?(n(0),0):wt.setTimeout(n.bind(null,gT),gT)},g$=(t,e,r=0,n,s)=>r?wt.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});t.destroy(i),e(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,y$=3e3,E$=(t,{keepAlive:e,keepAliveMsecs:r},n=y$)=>{if(e!==!0)return-1;let s=()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",o=>{o.setKeepAlive(e,r||0)})};return n===0?(s(),0):wt.setTimeout(s,n)},yT=3e3,S$=(t,e,r=0)=>{let n=s=>{let o=r-s,i=()=>{t.destroy(),e(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};t.socket?(t.socket.setTimeout(o,i),t.on("close",()=>t.socket?.removeListener("timeout",i))):t.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):wt.setTimeout(n.bind(null,r===0?0:yT),yT)},ET=6e3;async function vT(t,e,r=ET,n=!1){let s=e.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!n&&o==="100-continue"&&(a=await Promise.race([new Promise(c=>{i=Number(wt.setTimeout(()=>c(!0),Math.max(ET,r)))}),new Promise(c=>{t.on("continue",()=>{wt.clearTimeout(i),c(!0)}),t.on("response",()=>{wt.clearTimeout(i),c(!1)}),t.on("error",()=>{wt.clearTimeout(i),c(!1)})})])),a&&_$(t,e.body)}function _$(t,e){if(e instanceof bT.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}var b$=0,hh=class t{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(e){return typeof e?.handle=="function"?e:new t(e)}static checkSocketUsage(e,r,n=console){let{sockets:s,requests:o,maxSockets:i}=e;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let c in s){let u=s[c]?.length??0,f=o[c]?.length??0;if(u>=i&&f>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${u} and ${f} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:c}=e||{},u=!0,f=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:c,httpAgent:i instanceof ku.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new ku.Agent({keepAlive:u,maxSockets:f,...i}),httpsAgent:a instanceof Lu.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Lu.Agent({keepAlive:u,maxSockets:f,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,c=[],u=async le=>{await a,c.forEach(wt.clearTimeout),s(le)},f=async le=>{await a,c.forEach(wt.clearTimeout),o(le)};if(r?.aborted){let le=new Error("Request aborted");le.name="AbortError",f(le);return}let m=e.protocol==="https:",g=e.headers??{},h=(g.Expect??g.expect)==="100-continue",E=m?i.httpsAgent:i.httpAgent;h&&!this.externalAgent&&(E=new(m?Lu.Agent:ku.Agent)({keepAlive:!1,maxSockets:1/0})),c.push(wt.setTimeout(()=>{this.socketWarningTimestamp=t.checkSocketUsage(E,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let w=_T.buildQueryString(e.query||{}),I;if(e.username!=null||e.password!=null){let le=e.username??"",Ee=e.password??"";I=`${le}:${Ee}`}let A=e.path;w&&(A+=`?${w}`),e.fragment&&(A+=`#${e.fragment}`);let N=e.hostname??"";N[0]==="["&&N.endsWith("]")?N=e.hostname.slice(1,-1):N=e.hostname;let U={headers:e.headers,host:N,method:e.method,path:A,port:e.port,agent:E,auth:I},re=(m?Lu.request:ku.request)(U,le=>{let Ee=new ST.HttpResponse({statusCode:le.statusCode||-1,reason:le.statusMessage,headers:TT(le.headers),body:le});u({response:Ee})});if(re.on("error",le=>{m$.includes(le.code)?f(Object.assign(le,{name:"TimeoutError"})):f(le)}),r){let le=()=>{re.destroy();let Ee=new Error("Request aborted");Ee.name="AbortError",f(Ee)};if(typeof r.addEventListener=="function"){let Ee=r;Ee.addEventListener("abort",le,{once:!0}),re.once("close",()=>Ee.removeEventListener("abort",le))}else r.onabort=le}let ge=n??i.requestTimeout;c.push(h$(re,f,i.connectionTimeout)),c.push(g$(re,f,ge,i.throwOnRequestTimeout,i.logger??console)),c.push(S$(re,f,i.socketTimeout));let qe=U.agent;typeof qe=="object"&&"keepAlive"in qe&&c.push(E$(re,{keepAlive:qe.keepAlive,keepAliveMsecs:qe.keepAliveMsecs})),a=vT(re,e,ge,this.externalAgent).catch(le=>(c.forEach(wt.clearTimeout),o(le)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}},gh=class{sessions=[];constructor(e){this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}},yh=class{constructor(e){if(this.config=e,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(e,r){let n=this.getUrlString(e),s=this.sessionCache.get(n);if(s){let c=s.poll();if(c&&!this.config.disableConcurrency)return c}let o=mh.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},c=>{if(c)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+e.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new gh;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(e,r){let n=this.sessionCache.get(e);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(e,n))}release(e,r){let n=this.getUrlString(e);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[e,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(e)}}setMaxConcurrentStreams(e){if(e&&e<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=e}setDisableConcurrentStreams(e){this.config.disableConcurrency=e}getUrlString(e){return e.destination.toString()}},Eh=class t{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new yh({});static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(s||{})}).catch(n):r(e||{})})}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,c)=>{let u=!1,f,m=async Ne=>{await f,a(Ne)},g=async Ne=>{await f,c(Ne)};if(r?.aborted){u=!0;let Ne=new Error("Request aborted");Ne.name="AbortError",g(Ne);return}let{hostname:h,method:E,port:w,protocol:I,query:A}=e,N="";if(e.username!=null||e.password!=null){let Ne=e.username??"",He=e.password??"";N=`${Ne}:${He}@`}let U=`${I}//${N}${h}${w?`:${w}`:""}`,z={destination:new URL(U)},re=this.connectionManager.lease(z,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),ge=Ne=>{o&&this.destroySession(re),u=!0,g(Ne)},qe=_T.buildQueryString(A||{}),le=e.path;qe&&(le+=`?${qe}`),e.fragment&&(le+=`#${e.fragment}`);let Ee=re.request({...e.headers,[mh.constants.HTTP2_HEADER_PATH]:le,[mh.constants.HTTP2_HEADER_METHOD]:E});if(re.ref(),Ee.on("response",Ne=>{let He=new ST.HttpResponse({statusCode:Ne[":status"]||-1,headers:TT(Ne),body:Ee});u=!0,m({response:He}),o&&(re.close(),this.connectionManager.deleteSession(U,re))}),i&&Ee.setTimeout(i,()=>{Ee.close();let Ne=new Error(`Stream timed out because of no activity for ${i} ms`);Ne.name="TimeoutError",ge(Ne)}),r){let Ne=()=>{Ee.close();let He=new Error("Request aborted");He.name="AbortError",ge(He)};if(typeof r.addEventListener=="function"){let He=r;He.addEventListener("abort",Ne,{once:!0}),Ee.once("close",()=>He.removeEventListener("abort",Ne))}else r.onabort=Ne}Ee.on("frameError",(Ne,He,jo)=>{ge(new Error(`Frame type id ${Ne} in stream id ${jo} has failed with code ${He}.`))}),Ee.on("error",ge),Ee.on("aborted",()=>{ge(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Ee.rstCode}.`))}),Ee.on("close",()=>{re.unref(),o&&re.destroy(),u||ge(new Error("Unexpected error: http2 request did not get a response"))}),f=vT(Ee,e,i)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},Sh=class extends bT.Writable{bufferedBytes=[];_write(e,r,n){this.bufferedBytes.push(e),n()}},T$=t=>v$(t)?w$(t):new Promise((e,r)=>{let n=new Sh;t.pipe(n),t.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));e(s)})}),v$=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream;async function w$(t){let e=[],r=t.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of e)o.set(a,i),i+=a.length;return o}Sa.DEFAULT_REQUEST_TIMEOUT=b$;Sa.NodeHttp2Handler=Eh;Sa.NodeHttpHandler=hh;Sa.streamCollector=T$});var IT=R(Uu=>{"use strict";var wT=Re(),x$=fh(),I$=Qe();function xT(t,e){return new Request(t,e)}function C$(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}var Mu={supported:void 0},_h=class t{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new t(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Mu.supported===void 0&&(Mu.supported=typeof Request<"u"&&"keepalive"in xT("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let N=new Error("Request aborted");return N.name="AbortError",Promise.reject(N)}let a=e.path,c=x$.buildQueryString(e.query||{});c&&(a+=`?${c}`),e.fragment&&(a+=`#${e.fragment}`);let u="";if(e.username!=null||e.password!=null){let N=e.username??"",U=e.password??"";u=`${N}:${U}@`}let{port:f,method:m}=e,g=`${e.protocol}//${u}${e.hostname}${f?`:${f}`:""}${a}`,h=m==="GET"||m==="HEAD"?void 0:e.body,E={body:h,headers:new Headers(e.headers),method:m,credentials:i};this.config?.cache&&(E.cache=this.config.cache),h&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=r),Mu.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(e));let w=()=>{},I=xT(g,E),A=[fetch(I).then(N=>{let U=N.headers,z={};for(let ge of U.entries())z[ge[0]]=ge[1];return N.body!=null?{response:new wT.HttpResponse({headers:z,reason:N.statusText,statusCode:N.status,body:N.body})}:N.blob().then(ge=>({response:new wT.HttpResponse({headers:z,reason:N.statusText,statusCode:N.status,body:ge})}))}),C$(s)];return r&&A.push(new Promise((N,U)=>{let z=()=>{let re=new Error("Request aborted");re.name="AbortError",U(re)};if(typeof r.addEventListener=="function"){let re=r;re.addEventListener("abort",z,{once:!0}),w=()=>re.removeEventListener("abort",z)}else r.onabort=z})),Promise.race(A).finally(w)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}},A$=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):R$(t):P$(t);async function R$(t){let e=await D$(t),r=I$.fromBase64(e);return new Uint8Array(r)}async function P$(t){let e=[],r=t.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),s+=c.length),n=a}let o=new Uint8Array(s),i=0;for(let a of e)o.set(a,i),i+=a.length;return o}function D$(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;e(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}Uu.FetchHttpHandler=_h;Uu.keepAliveSupport=Mu;Uu.streamCollector=A$});var vh=R(Th=>{"use strict";var CT={},bh={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),CT[t]=e,bh[e]=t}function N$(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in bh)e[r/2]=bh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function O$(t){let e="";for(let r=0;r<t.byteLength;r++)e+=CT[t[r]];return e}Th.fromHex=N$;Th.toHex=O$});var DT=R(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.sdkStreamMixin=void 0;var k$=IT(),L$=Qe(),M$=vh(),U$=Je(),AT=Hn(),RT="The stream has already been transformed.",B$=t=>{if(!PT(t)&&!(0,AT.isReadableStream)(t)){let s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let e=!1,r=async()=>{if(e)throw new Error(RT);return e=!0,await(0,k$.streamCollector)(t)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,L$.toBase64)(o);if(s==="hex")return(0,M$.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,U$.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(RT);if(e=!0,PT(t))return n(t);if((0,AT.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};Bu.sdkStreamMixin=B$;var PT=t=>typeof Blob=="function"&&t instanceof Blob});var OT=R(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.sdkStreamMixin=void 0;var F$=Vn(),$$=Wo(),wh=ue("stream"),j$=DT(),NT="The stream has already been transformed.",G$=t=>{if(!(t instanceof wh.Readable))try{return(0,j$.sdkStreamMixin)(t)}catch{let s=t?.__proto__?.constructor?.name||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let e=!1,r=async()=>{if(e)throw new Error(NT);return e=!0,await(0,F$.streamCollector)(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,$$.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(e)throw new Error(NT);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof wh.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return e=!0,wh.Readable.toWeb(t)}})};Fu.sdkStreamMixin=G$});var kT=R(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});xh.splitStream=q$;async function q$(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}});var UT=R(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});Ih.splitStream=V$;var LT=ue("stream"),H$=kT(),MT=Hn();async function V$(t){if((0,MT.isReadableStream)(t)||(0,MT.isBlob)(t))return(0,H$.splitStream)(t);let e=new LT.PassThrough,r=new LT.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}});var $u=R(et=>{"use strict";var BT=Qe(),FT=Je(),$T=rh(),jT=sT(),GT=lT(),qT=dT(),HT=fT(),VT=OT(),zT=UT(),WT=Hn(),Ch=class t extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?t.mutate(BT.fromBase64(e)):t.mutate(FT.fromUtf8(e));throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,t.prototype),e}transformToString(e="utf-8"){return e==="base64"?BT.toBase64(this):FT.toUtf8(this)}};et.Uint8ArrayBlobAdapter=Ch;Object.keys($T).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return $T[t]}})});Object.keys(jT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return jT[t]}})});Object.keys(GT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return GT[t]}})});Object.keys(qT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return qT[t]}})});Object.keys(HT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return HT[t]}})});Object.keys(VT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return VT[t]}})});Object.keys(zT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return zT[t]}})});Object.keys(WT).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(et,t)&&Object.defineProperty(et,t,{enumerable:!0,get:function(){return WT[t]}})})});var ju,Kt,Gu=_(()=>{ju=T($u()),Kt=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return ju.Uint8ArrayBlobAdapter.mutate(t);if(!t)return ju.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return ju.Uint8ArrayBlobAdapter.mutate(await r)}});function Pr(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var qu=_(()=>{});var dr,Ah=_(()=>{dr=t=>typeof t=="function"?t():t});var _a,Hu=_(()=>{_a=(t,e,r,n,s)=>({name:e,namespace:t,traits:r,input:n,output:s})});var KT,YT,XT,Rh,QT=_(()=>{KT=T(Re()),YT=T(ct());Hu();XT=t=>(e,r)=>async n=>{let{response:s}=await e(n),{operationSchema:o}=(0,YT.getSmithyContext)(r),[,i,a,c,u,f]=o??[];try{let m=await t.protocol.deserializeResponse(_a(i,a,c,u,f),{...t,...r},s);return{response:s,output:m}}catch(m){if(Object.defineProperty(m,"$response",{value:s,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in m)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{m.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof m.$responseBodyText<"u"&&m.$response&&(m.$response.body=m.$responseBodyText);try{if(KT.HttpResponse.isInstance(s)){let{headers:h={}}=s,E=Object.entries(h);m.$metadata={httpStatusCode:s.statusCode,requestId:Rh(/^x-[\w-]+-request-?id$/,E),extendedRequestId:Rh(/^x-[\w-]+-id-2$/,E),cfId:Rh(/^x-[\w-]+-cf-id$/,E)}}}catch{}}throw m}},Rh=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1]});var ZT,JT,ev=_(()=>{ZT=T(ct());Hu();JT=t=>(e,r)=>async n=>{let{operationSchema:s}=(0,ZT.getSmithyContext)(r),[,o,i,a,c,u]=s??[],f=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,m=await t.protocol.serializeRequest(_a(o,i,a,c,u),n.input,{...t,...r,endpoint:f});return e({...n,request:m})}});function Vs(t){return{applyToStack:e=>{e.add(JT(t),rv),e.add(XT(t),tv),t.protocol.setSerdeContext(t)}}}var tv,rv,nv=_(()=>{QT();ev();tv={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},rv={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ve,zn=_(()=>{Ve=class{name;namespace;traits;static assign(e,r){return Object.assign(e,r)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var Vu,z$,sv=_(()=>{zn();Vu=class t extends Ve{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=t.symbol},z$=(t,e,r,n)=>Ve.assign(new Vu,{name:e,namespace:t,traits:r,valueSchema:n})});var zu,W$,ov=_(()=>{zn();zu=class t extends Ve{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=t.symbol},W$=(t,e,r,n,s)=>Ve.assign(new zu,{name:e,namespace:t,traits:r,keySchema:n,valueSchema:s})});var Wu,K$,iv=_(()=>{zn();Wu=class t extends Ve{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=t.symbol},K$=(t,e,r,n,s)=>Ve.assign(new Wu,{name:e,namespace:t,traits:r,input:n,output:s})});var Xo,Y$,Ph=_(()=>{zn();Xo=class t extends Ve{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=t.symbol},Y$=(t,e,r,n,s)=>Ve.assign(new Xo,{name:e,namespace:t,traits:r,memberNames:n,memberList:s})});var Ku,X$,av=_(()=>{zn();Ph();Ku=class t extends Xo{static symbol=Symbol.for("@smithy/err");ctor;symbol=t.symbol},X$=(t,e,r,n,s,o)=>Ve.assign(new Ku,{name:e,namespace:t,traits:r,memberNames:n,memberList:s,ctor:null})});function Dr(t){if(typeof t=="object")return t;t=t|0;let e={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(t>>r++&1)===1&&(e[n]=1);return e}var Dh=_(()=>{});function ba(t,e){if(t instanceof $)return Object.assign(t,{memberName:e,_isMemberSchema:!0});let r=$;return new r(t,e)}var $,Nh,cv,uv=_(()=>{Ah();Dh();$=class t{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=t.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(e,r){this.ref=e,this.memberName=r;let n=[],s=e,o=e;for(this._isMemberSchema=!1;Nh(s);)n.push(s[1]),s=s[0],o=dr(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,Dr(a))}}else this.memberTraits=0;if(o instanceof t){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=dr(o),cv(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](e){let r=this.prototype.isPrototypeOf(e);return!r&&typeof e=="object"&&e!==null?e.symbol===this.symbol:r}static of(e){let r=dr(e);if(r instanceof t)return r;if(Nh(r)){let[n,s]=r;if(n instanceof t)return Object.assign(n.getMergedTraits(),Dr(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(e,null,2)}.`)}return new t(r)}getSchema(){let e=this.schema;return e[0]===0?e[4]:e}getName(e=!1){let{name:r}=this;return!e&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let e=this.getSchema();return typeof e=="number"?e>=64&&e<128:e[0]===1}isMapSchema(){let e=this.getSchema();return typeof e=="number"?e>=128&&e<=255:e[0]===2}isStructSchema(){let e=this.getSchema();return e[0]===3||e[0]===-3}isBlobSchema(){let e=this.getSchema();return e===21||e===42}isTimestampSchema(){let e=this.getSchema();return typeof e=="number"&&e>=4&&e<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:e}=this.getMergedTraits();return!!e||this.getSchema()===42}isIdempotencyToken(){let e=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return e(r)||e(n)||e(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Dr(this.memberTraits)}getOwnTraits(){return Dr(this.traits)}getKeySchema(){let[e,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!e&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=e?15:n[4]??0;return ba([s,0],"key")}getValueSchema(){let e=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof e=="number"?63&e:e&&typeof e=="object"&&(n||s)?e[3+e[0]]:r?15:void 0;if(o!=null)return ba([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(e){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(e)){let n=r[4].indexOf(e),s=r[5][n];return ba(Nh(s)?s:[s,0],e)}if(this.isDocumentSchema())return ba([15,0],e);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${e}.`)}getMemberSchemas(){let e={};try{for(let[r,n]of this.structIterator())e[r]=n}catch{}return e}getEventStreamMember(){if(this.isStructSchema()){for(let[e,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return e}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let e=this.getSchema();for(let r=0;r<e[4].length;++r)yield[e[4][r],ba([e[5][r],0],e[4][r])]}};Nh=t=>Array.isArray(t)&&t.length===2,cv=t=>Array.isArray(t)&&t.length>=5});var Ta,Q$,Z$,lv=_(()=>{zn();Ta=class t extends Ve{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=t.symbol},Q$=(t,e,r,n)=>Ve.assign(new Ta,{name:e,namespace:t,traits:n,schemaRef:r}),Z$=(t,e,r,n)=>Ve.assign(new Ta,{name:e,namespace:t,traits:r,schemaRef:n})});var J$,dv=_(()=>{J$={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Q,pv=_(()=>{Q=class t{namespace;schemas;exceptions;static registries=new Map;constructor(e,r=new Map,n=new Map){this.namespace=e,this.schemas=r,this.exceptions=n}static for(e){return t.registries.has(e)||t.registries.set(e,new t(e)),t.registries.get(e)}register(e,r){let n=this.normalizeShapeId(e);t.for(n.split("#")[0]).schemas.set(n,r)}getSchema(e){let r=this.normalizeShapeId(e);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(e,r){let n=e,s=t.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(e){let r=e;return t.for(r[1]).exceptions.get(r)}getBaseException(){for(let e of this.exceptions.keys())if(Array.isArray(e)){let[,r,n]=e,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return e}}find(e){return[...this.schemas.values()].find(e)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(e){return e.includes("#")?e:this.namespace+"#"+e}}});var va={};at(va,{ErrorSchema:()=>Ku,ListSchema:()=>Vu,MapSchema:()=>zu,NormalizedSchema:()=>$,OperationSchema:()=>Wu,SCHEMA:()=>J$,Schema:()=>Ve,SimpleSchema:()=>Ta,StructureSchema:()=>Xo,TypeRegistry:()=>Q,deref:()=>dr,deserializerMiddlewareOption:()=>tv,error:()=>X$,getSchemaSerdePlugin:()=>Vs,isStaticSchema:()=>cv,list:()=>z$,map:()=>W$,op:()=>K$,operation:()=>_a,serializerMiddlewareOption:()=>rv,sim:()=>Q$,simAdapter:()=>Z$,struct:()=>Y$,translateTraits:()=>Dr});var Te=_(()=>{Ah();nv();sv();ov();iv();Hu();av();uv();zn();lv();Ph();dv();Dh();pv()});var e2,fv=_(()=>{e2=(t,e,r=n=>n)=>t});var t2,r2,wa,n2,Yu,xa,s2,Oh,kh,Lh,Mh,o2,i2,mv,a2,c2,Qu,u2,Uh,l2,Qo,Bh,d2,p2,f2,hv,gv,m2,h2,zs,Fh,Xu,Ia,$h=_(()=>{t2=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},r2=t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Ia.warn(Xu(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&Ia.warn(Xu(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},wa=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Ia.warn(Xu(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},n2=Math.ceil(34028234663852886e22),Yu=t=>{let e=wa(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>n2)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},xa=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},s2=xa,Oh=t=>Mh(t,32),kh=t=>Mh(t,16),Lh=t=>Mh(t,8),Mh=(t,e)=>{let r=xa(t);if(r!==void 0&&o2(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},o2=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},i2=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},mv=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},a2=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Ia.warn(Xu(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},c2=t=>{if(t==null)return;let e=mv(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},Qu=t=>wa(typeof t=="string"?Qo(t):t),u2=Qu,Uh=t=>Yu(typeof t=="string"?Qo(t):t),l2=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Qo=t=>{let e=t.match(l2);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},Bh=t=>typeof t=="string"?hv(t):wa(t),d2=Bh,p2=Bh,f2=t=>typeof t=="string"?hv(t):Yu(t),hv=t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},gv=t=>xa(typeof t=="string"?Qo(t):t),m2=gv,h2=t=>Oh(typeof t=="string"?Qo(t):t),zs=t=>kh(typeof t=="string"?Qo(t):t),Fh=t=>Lh(typeof t=="string"?Qo(t):t),Xu=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),Ia={warn:console.warn}});function Aa(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),o=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=o<10?`0${o}`:`${o}`,f=i<10?`0${i}`:`${i}`,m=a<10?`0${a}`:`${a}`;return`${g2[n]}, ${c} ${Gh[r]} ${e} ${u}:${f}:${m} GMT`}var g2,Gh,y2,E2,S2,qh,_2,b2,T2,Hh,Vh,Ca,v2,w2,x2,jh,I2,C2,A2,Nr,R2,P2,Zo,yv=_(()=>{$h();g2=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];y2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),E2=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=y2.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u]=e,f=zs(Zo(n)),m=Nr(s,"month",1,12),g=Nr(o,"day",1,31);return Ca(f,m,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})},S2=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),qh=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=S2.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,u,f]=e,m=zs(Zo(n)),g=Nr(s,"month",1,12),h=Nr(o,"day",1,31),E=Ca(m,g,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u});return f.toUpperCase()!="Z"&&E.setTime(E.getTime()-P2(f)),E},_2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),b2=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),T2=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Hh=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=_2.exec(t);if(e){let[r,n,s,o,i,a,c,u]=e;return Ca(zs(Zo(o)),jh(s),Nr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u})}if(e=b2.exec(t),e){let[r,n,s,o,i,a,c,u]=e;return x2(Ca(v2(o),jh(s),Nr(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:u}))}if(e=T2.exec(t),e){let[r,n,s,o,i,a,c,u]=e;return Ca(zs(Zo(u)),jh(n),Nr(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},Vh=t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=Qu(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},Ca=(t,e,r,n)=>{let s=e-1;return C2(t,s,r),new Date(Date.UTC(t,s,r,Nr(n.hours,"hour",0,23),Nr(n.minutes,"minute",0,59),Nr(n.seconds,"seconds",0,60),R2(n.fractionalMilliseconds)))},v2=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+zs(Zo(t));return r<e?r+100:r},w2=50*365*24*60*60*1e3,x2=t=>t.getTime()-new Date().getTime()>w2?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,jh=t=>{let e=Gh.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},I2=[31,28,31,30,31,30,31,31,30,31,30,31],C2=(t,e,r)=>{let n=I2[e];if(e===1&&A2(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Gh[e]} in ${t}: ${r}`)},A2=t=>t%4===0&&(t%100!==0||t%400===0),Nr=(t,e,r,n)=>{let s=Fh(Zo(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},R2=t=>t==null?0:Uh("0."+t)*1e3,P2=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},Zo=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)}});var Ra={};at(Ra,{__addDisposableResource:()=>Gv,__assign:()=>Zu,__asyncDelegator:()=>kv,__asyncGenerator:()=>Ov,__asyncValues:()=>Lv,__await:()=>Jo,__awaiter:()=>Cv,__classPrivateFieldGet:()=>Fv,__classPrivateFieldIn:()=>jv,__classPrivateFieldSet:()=>$v,__createBinding:()=>el,__decorate:()=>_v,__disposeResources:()=>qv,__esDecorate:()=>Tv,__exportStar:()=>Rv,__extends:()=>Ev,__generator:()=>Av,__importDefault:()=>Bv,__importStar:()=>Uv,__makeTemplateObject:()=>Mv,__metadata:()=>Iv,__param:()=>bv,__propKey:()=>wv,__read:()=>Kh,__rest:()=>Sv,__rewriteRelativeImportExtension:()=>Hv,__runInitializers:()=>vv,__setFunctionName:()=>xv,__spread:()=>Pv,__spreadArray:()=>Nv,__spreadArrays:()=>Dv,__values:()=>Ju,default:()=>O2});function Ev(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zh(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Sv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function _v(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function bv(t,e){return function(r,n){e(r,n,t)}}function Tv(t,e,r,n,s,o){function i(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,g=!1,h=r.length-1;h>=0;h--){var E={};for(var w in n)E[w]=w==="access"?{}:n[w];for(var w in n.access)E.access[w]=n.access[w];E.addInitializer=function(A){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(A||null))};var I=(0,r[h])(a==="accessor"?{get:f.get,set:f.set}:f[c],E);if(a==="accessor"){if(I===void 0)continue;if(I===null||typeof I!="object")throw new TypeError("Object expected");(m=i(I.get))&&(f.get=m),(m=i(I.set))&&(f.set=m),(m=i(I.init))&&s.unshift(m)}else(m=i(I))&&(a==="field"?s.unshift(m):f[c]=m)}u&&Object.defineProperty(u,n.name,f),g=!0}function vv(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function wv(t){return typeof t=="symbol"?t:"".concat(t)}function xv(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Iv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Cv(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(f){try{u(n.next(f))}catch(m){i(m)}}function c(f){try{u(n.throw(f))}catch(m){i(m)}}function u(f){f.done?o(f.value):s(f.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Av(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(o=u[0]&2?s.return:u[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,u[1])).done)return o;switch(s=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],s=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Rv(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&el(e,t,r)}function Ju(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kh(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function Pv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kh(arguments[e]));return t}function Dv(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Nv(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Jo(t){return this instanceof Jo?(this.v=t,this):new Jo(t)}function Ov(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(E){return Promise.resolve(E).then(h,m)}}function a(h,E){n[h]&&(s[h]=function(w){return new Promise(function(I,A){o.push([h,w,I,A])>1||c(h,w)})},E&&(s[h]=E(s[h])))}function c(h,E){try{u(n[h](E))}catch(w){g(o[0][3],w)}}function u(h){h.value instanceof Jo?Promise.resolve(h.value.v).then(f,m):g(o[0][2],h)}function f(h){c("next",h)}function m(h){c("throw",h)}function g(h,E){h(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function kv(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:Jo(t[s](i)),done:!1}:o?o(i):i}:o}}function Lv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ju=="function"?Ju(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},i)}}function Mv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Uv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Wh(t),n=0;n<r.length;n++)r[n]!=="default"&&el(e,t,r[n]);return D2(e,t),e}function Bv(t){return t&&t.__esModule?t:{default:t}}function Fv(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $v(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function jv(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Gv(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function qv(t){function e(o){t.error=t.hasError?new N2(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return e(i),s()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Hv(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?e?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):t}var zh,Zu,el,D2,Wh,N2,O2,Pa=_(()=>{zh=function(t,e){return zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},zh(t,e)};Zu=function(){return Zu=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Zu.apply(this,arguments)};el=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};D2=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Wh=function(t){return Wh=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Wh(t)};N2=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};O2={__extends:Ev,__assign:Zu,__rest:Sv,__decorate:_v,__param:bv,__esDecorate:Tv,__runInitializers:vv,__propKey:wv,__setFunctionName:xv,__metadata:Iv,__awaiter:Cv,__generator:Av,__createBinding:el,__exportStar:Rv,__values:Ju,__read:Kh,__spread:Pv,__spreadArrays:Dv,__spreadArray:Nv,__await:Jo,__asyncGenerator:Ov,__asyncDelegator:kv,__asyncValues:Lv,__makeTemplateObject:Mv,__importStar:Uv,__importDefault:Bv,__classPrivateFieldGet:Fv,__classPrivateFieldSet:$v,__classPrivateFieldIn:jv,__addDisposableResource:Gv,__disposeResources:qv,__rewriteRelativeImportExtension:Hv}});var zv=R(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.randomUUID=void 0;var k2=(Pa(),ie(Ra)),Vv=k2.__importDefault(ue("crypto"));tl.randomUUID=Vv.default.randomUUID.bind(Vv.default)});var Yh=R(Kv=>{"use strict";var Wv=zv(),ut=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),L2=()=>{if(Wv.randomUUID)return Wv.randomUUID();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128,ut[t[0]]+ut[t[1]]+ut[t[2]]+ut[t[3]]+"-"+ut[t[4]]+ut[t[5]]+"-"+ut[t[6]]+ut[t[7]]+"-"+ut[t[8]]+ut[t[9]]+"-"+ut[t[10]]+ut[t[11]]+ut[t[12]]+ut[t[13]]+ut[t[14]]+ut[t[15]]};Kv.v4=L2});var Yt,Yv=_(()=>{Yt=T(Yh())});var xt,Xv=_(()=>{xt=function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})};xt.from=t=>t&&typeof t=="object"&&(t instanceof xt||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?xt(String(t)):xt(JSON.stringify(t));xt.fromObject=xt.from});function Xh(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}var Qv=_(()=>{});function un(t,e,r){let n=Number(t);if(n<e||n>r)throw new Error(`Value ${n} out of range [${e}, ${r}]`)}var Qh,Zh,Jh,Zv,Jv,M2,U2,B2,F2,$2,ei,eg,tg,ew=_(()=>{Qh="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",Zh="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",Jh="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Zv="(\\d?\\d)",Jv="(\\d{4})",M2=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),U2=new RegExp(`^${Qh}, ${Zv} ${Zh} ${Jv} ${Jh} GMT$`),B2=new RegExp(`^${Qh}, ${Zv}-${Zh}-(\\d\\d) ${Jh} GMT$`),F2=new RegExp(`^${Qh} ${Zh} ( [1-9]|\\d\\d) ${Jh} ${Jv}$`),$2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ei=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw new TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(e*1e3))},eg=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC3339 timestamps must be strings");let e=M2.exec(t);if(!e)throw new TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,n,s,o,i,a,,c,u]=e;un(n,1,12),un(s,1,31),un(o,0,23),un(i,0,59),un(a,0,60);let f=new Date(Date.UTC(Number(r),Number(n)-1,Number(s),Number(o),Number(i),Number(a),Number(c)?Math.round(parseFloat(`0.${c}`)*1e3):0));if(f.setUTCFullYear(Number(r)),u.toUpperCase()!="Z"){let[,m,g,h]=/([+-])(\d\d):(\d\d)/.exec(u)||[void 0,"+",0,0],E=m==="-"?1:-1;f.setTime(f.getTime()+E*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return f},tg=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC7231 timestamps must be strings.");let e,r,n,s,o,i,a,c;if((c=U2.exec(t))?[,e,r,n,s,o,i,a]=c:(c=B2.exec(t))?([,e,r,n,s,o,i,a]=c,n=(Number(n)+1900).toString()):(c=F2.exec(t))&&([,r,e,s,o,i,a,n]=c),n&&i){let u=Date.UTC(Number(n),$2.indexOf(r),Number(e),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);un(e,1,31),un(s,0,23),un(o,0,59),un(i,0,60);let f=new Date(u);return f.setUTCFullYear(Number(n)),f}throw new TypeError(`Invalid RFC7231 date-time value ${t}.`)}});function rg(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=e+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var tw=_(()=>{});var Da,rw=_(()=>{Da=t=>{let e=t.length,r=[],n=!1,s,o=0;for(let i=0;i<e;++i){let a=t[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(o,i)),o=i+1);break;default:}s=a}return r.push(t.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function ng(t){return new Me(String(t),"bigDecimal")}var nw,Me,sw=_(()=>{nw=/^-?\d*(\.\d+)?$/,Me=class t{string;type;constructor(e,r){if(this.string=e,this.type=r,!nw.test(e))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){if(!e||typeof e!="object")return!1;let r=e;return t.prototype.isPrototypeOf(e)||r.type==="bigDecimal"&&nw.test(r.string)}}});var ow={};at(ow,{LazyJsonString:()=>xt,NumericValue:()=>Me,_parseEpochTimestamp:()=>ei,_parseRfc3339DateTimeWithOffset:()=>eg,_parseRfc7231DateTime:()=>tg,copyDocumentWithTransform:()=>e2,dateToUtcString:()=>Aa,expectBoolean:()=>r2,expectByte:()=>Lh,expectFloat32:()=>Yu,expectInt:()=>s2,expectInt32:()=>Oh,expectLong:()=>xa,expectNonNull:()=>i2,expectNumber:()=>wa,expectObject:()=>mv,expectShort:()=>kh,expectString:()=>a2,expectUnion:()=>c2,generateIdempotencyToken:()=>Yt.v4,handleFloat:()=>d2,limitedParseDouble:()=>Bh,limitedParseFloat:()=>p2,limitedParseFloat32:()=>f2,logger:()=>Ia,nv:()=>ng,parseBoolean:()=>t2,parseEpochTimestamp:()=>Vh,parseRfc3339DateTime:()=>E2,parseRfc3339DateTimeWithOffset:()=>qh,parseRfc7231DateTime:()=>Hh,quoteHeader:()=>Xh,splitEvery:()=>rg,splitHeader:()=>Da,strictParseByte:()=>Fh,strictParseDouble:()=>Qu,strictParseFloat:()=>u2,strictParseFloat32:()=>Uh,strictParseInt:()=>m2,strictParseInt32:()=>h2,strictParseLong:()=>gv,strictParseShort:()=>zs});var Dt=_(()=>{fv();yv();Yv();Xv();$h();Qv();ew();tw();rw();sw()});var It,ti=_(()=>{It=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});var rl,sg,iw=_(()=>{rl=T(Je()),sg=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:e,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=e,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,c=this.defaultContentType,u=Symbol("initialRequestMarker"),f={async*[Symbol.asyncIterator](){if(n){let m={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:c}};a.write(r,n);let g=a.flush();yield{[u]:!0,headers:m,body:g}}for await(let m of e)yield m}};return s.serialize(f,m=>{if(m[u])return{headers:m.headers,body:m.body};let g=Object.keys(m).find(N=>N!=="__type")??"",{additionalHeaders:h,body:E,eventType:w,explicitPayloadContentType:I}=this.writeEventBody(g,i,m);return{headers:{":event-type":{type:"string",value:w},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:I??c},...h},body:E}})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),c=Symbol("initialResponseMarker"),u=s.deserialize(e.body,async g=>{let h=Object.keys(g).find(w=>w!=="__type")??"",E=g[h].body;if(h==="initial-response"){let w=await this.deserializer.read(r,E);return delete w[o],{[c]:!0,...w}}else if(h in a){let w=a[h];if(w.isStructSchema()){let I={},A=!1;for(let[N,U]of w.structIterator()){let{eventHeader:z,eventPayload:re}=U.getMergedTraits();if(A=A||!!(z||re),re)U.isBlobSchema()?I[N]=E:U.isStringSchema()?I[N]=(this.serdeContext?.utf8Encoder??rl.toUtf8)(E):U.isStructSchema()&&(I[N]=await this.deserializer.read(U,E));else if(z){let ge=g[h].headers[N]?.value;ge!=null&&(U.isNumericSchema()?ge&&typeof ge=="object"&&"bytes"in ge?I[N]=BigInt(ge.toString()):I[N]=Number(ge):I[N]=ge)}}if(A)return{[h]:I}}return{[h]:await this.deserializer.read(w,E)}}else return{$unknown:g}}),f=u[Symbol.asyncIterator](),m=await f.next();if(m.done)return u;if(m.value?.[c]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(m.value))n[g]=h}return{async*[Symbol.asyncIterator](){for(m?.value?.[c]||(yield m.value);;){let{done:g,value:h}=await f.next();if(g)break;yield h}}}}writeEventBody(e,r,n){let s=this.serializer,o=e,i=null,a,c=r.getSchema()[4].includes(e),u={};if(c){let g=r.getMemberSchema(e);if(g.isStructSchema()){for(let[h,E]of g.structIterator()){let{eventHeader:w,eventPayload:I}=E.getMergedTraits();if(I)i=h;else if(w){let A=n[e][h],N="binary";E.isNumericSchema()?(-2)**31<=A&&A<=2**31-1?N="integer":N="long":E.isTimestampSchema()?N="timestamp":E.isStringSchema()?N="string":E.isBooleanSchema()&&(N="boolean"),A!=null&&(u[h]={type:N,value:A},delete n[e][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),s.write(h,n[e][i])}else s.write(g,n[e])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=n[e];o=g,s.write(15,h)}let f=s.flush();return{body:typeof f=="string"?(this.serdeContext?.utf8Decoder??rl.fromUtf8)(f):f,eventType:o,explicitPayloadContentType:a,additionalHeaders:u}}}});var aw={};at(aw,{EventStreamSerde:()=>sg});var cw=_(()=>{iw()});var nl,Ws,sl=_(()=>{Te();nl=T(Re());ti();Ws=class extends It{options;constructor(e){super(),this.options=e}getRequestType(){return nl.HttpRequest}getResponseType(){return nl.HttpResponse}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if("url"in r){e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={});for(let[n,s]of r.url.searchParams.entries())e.query[n]=s;return e}else return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e}setHostPrefix(e,r,n){let s=$.of(r.input),o=Dr(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,c])=>c.getMergedTraits().hostLabel);for(let[c]of a){let u=n[c];if(typeof u!="string")throw new Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);i=i.replace(`{${c}}`,u)}e.hostname=i+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(()=>(cw(),aw));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,n,s,o){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}});var uw,lw,Ks,dw=_(()=>{Te();Dt();uw=T(Re()),lw=T($u());Gu();qu();sl();Ks=class extends Ws{async serializeRequest(e,r,n){let s={...r??{}},o=this.serializer,i={},a={},c=await n.endpoint(),u=$.of(e?.input),f=u.getSchema(),m=!1,g,h=new uw.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(c){this.updateServiceEndpoint(h,c),this.setHostPrefix(h,e,s);let E=Dr(e.traits);if(E.http){h.method=E.http[0];let[w,I]=E.http[1].split("?");h.path=="/"?h.path=w:h.path+=w;let A=new URLSearchParams(I??"");Object.assign(i,Object.fromEntries(A))}}for(let[E,w]of u.structIterator()){let I=w.getMergedTraits()??{},A=s[E];if(!(A==null&&!w.isIdempotencyToken()))if(I.httpPayload)w.isStreaming()?w.isStructSchema()?s[E]&&(g=await this.serializeEventStream({eventStream:s[E],requestSchema:u})):g=A:(o.write(w,A),g=o.flush()),delete s[E];else if(I.httpLabel){o.write(w,A);let N=o.flush();h.path.includes(`{${E}+}`)?h.path=h.path.replace(`{${E}+}`,N.split("/").map(Pr).join("/")):h.path.includes(`{${E}}`)&&(h.path=h.path.replace(`{${E}}`,Pr(N))),delete s[E]}else if(I.httpHeader)o.write(w,A),a[I.httpHeader.toLowerCase()]=String(o.flush()),delete s[E];else if(typeof I.httpPrefixHeaders=="string"){for(let[N,U]of Object.entries(A)){let z=I.httpPrefixHeaders+N;o.write([w.getValueSchema(),{httpHeader:z}],U),a[z.toLowerCase()]=o.flush()}delete s[E]}else I.httpQuery||I.httpQueryParams?(this.serializeQuery(w,A,i),delete s[E]):m=!0}return m&&s&&(o.write(f,s),g=o.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(e,r,n){let s=this.serializer,o=e.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let c=e.getValueSchema();Object.assign(c.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(c,a,n)}return}if(e.isListSchema()){let i=!!e.getMergedTraits().sparse,a=[];for(let c of r){s.write([e.getValueSchema(),o],c);let u=s.flush();(i||u!==void 0)&&a.push(u)}n[o.httpQuery]=a}else s.write([e,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(e,r,n){let s=this.deserializer,o=$.of(e.output),i={};if(n.statusCode>=300){let c=await Kt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(e,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let c=await Kt(n.body,r);if(c.byteLength>0){let u=await s.read(o,c);for(let f of a)i[f]=u[f]}}else a.discardResponseBody&&await Kt(n.body,r);return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(e,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=!0,c=this.deserializer,u=$.of(e),f=[];for(let[m,g]of u.structIterator()){let h=g.getMemberTraits();if(h.httpPayload){if(a=!1,g.isStreaming())g.isStructSchema()?i[m]=await this.deserializeEventStream({response:n,responseSchema:u}):i[m]=(0,lw.sdkStreamMixin)(n.body);else if(n.body){let w=await Kt(n.body,r);w.byteLength>0&&(i[m]=await c.read(g,w))}}else if(h.httpHeader){let E=String(h.httpHeader).toLowerCase(),w=n.headers[E];if(w!=null)if(g.isListSchema()){let I=g.getValueSchema();I.getMergedTraits().httpHeader=E;let A;I.isTimestampSchema()&&I.getSchema()===4?A=rg(w,",",2):A=Da(w);let N=[];for(let U of A)N.push(await c.read(I,U.trim()));i[m]=N}else i[m]=await c.read(g,w)}else if(h.httpPrefixHeaders!==void 0){i[m]={};for(let[E,w]of Object.entries(n.headers))if(E.startsWith(h.httpPrefixHeaders)){let I=g.getValueSchema();I.getMergedTraits().httpHeader=E,i[m][E.slice(h.httpPrefixHeaders.length)]=await c.read(I,w)}}else h.httpResponseCode?i[m]=n.statusCode:f.push(m)}return f.discardResponseBody=a,f}}});var pw,ln,fw=_(()=>{Te();pw=T(Re());Gu();sl();ln=class extends Ws{async serializeRequest(e,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),c=$.of(e?.input),u=c.getSchema(),f,m=new pw.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(m,a),this.setHostPrefix(m,e,r));let g={...r};if(r){let h=c.getEventStreamMember();if(h){if(g[h]){let E={};for(let[w,I]of c.structIterator())w!==h&&g[w]&&(s.write(I,g[w]),E[w]=s.flush());f=await this.serializeEventStream({eventStream:g[h],requestSchema:c,initialRequest:E})}}else s.write(u,g),f=s.flush()}return m.headers=i,m.query=o,m.body=f,m.method="POST",m}async deserializeResponse(e,r,n){let s=this.deserializer,o=$.of(e.output),i={};if(n.statusCode>=300){let c=await Kt(n.body,r);throw c.byteLength>0&&Object.assign(i,await s.read(15,c)),await this.handleError(e,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let c in n.headers){let u=n.headers[c];delete n.headers[c],n.headers[c.toLowerCase()]=u}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let c=await Kt(n.body,r);c.byteLength>0&&Object.assign(i,await s.read(o,c))}return i.$metadata=this.deserializeMetadata(n),i}}});var og,ig=_(()=>{qu();og=(t,e,r,n,s,o)=>{if(e!=null&&e[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,o?i.split("/").map(a=>Pr(a)).join("/"):Pr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return t}});function ag(t,e){return new ol(t,e)}var mw,ol,hw=_(()=>{mw=T(Re());ig();ol=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(e,r){this.input=e,this.context=r}async build(){let{hostname:e,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new mw.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,s){return this.resolvePathStack.push(o=>{this.path=og(o,this.input,e,r,n,s)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});function $t(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=t.getMergedTraits();return(e.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??e.timestampFormat.default}var il=_(()=>{});var cg,gw,Ys,ug=_(()=>{Te();Dt();cg=T(Qe()),gw=T(Je());ti();il();Ys=class extends It{settings;constructor(e){super(),this.settings=e}read(e,r){let n=$.of(e);if(n.isListSchema())return Da(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??cg.fromBase64)(r);if(n.isTimestampSchema())switch($t(n,this.settings)){case 5:return eg(r);case 6:return tg(r);case 7:return ei(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=xt.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new Me(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??gw.toUtf8)((this.serdeContext?.base64Decoder??cg.fromBase64)(e))}}});var al,Xs,yw=_(()=>{Te();al=T(Je());ti();ug();Xs=class extends It{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new Ys(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let n=$.of(e),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??al.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??al.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var lg,Na,dg=_(()=>{Te();Dt();lg=T(Qe());ti();il();Na=class extends It{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let n=$.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch($t(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=Aa(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??lg.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let c=this.flush(),u=n.getValueSchema().isTimestampSchema()?c:Xh(c);i!==""&&(i+=", "),i+=u}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=xt.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??lg.toBase64)(o.toString());return}this.stringBuffer=r;break;default:n.isIdempotencyToken()?this.stringBuffer=(0,Yt.v4)():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}});var Qs,Ew=_(()=>{Te();dg();Qs=class{codecSerializer;stringSerializer;buffer;constructor(e,r,n=new Na(r)){this.codecSerializer=e,this.stringSerializer=n}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let n=$.of(e),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}});var Sw={};at(Sw,{FromStringShapeDeserializer:()=>Ys,HttpBindingProtocol:()=>Ks,HttpInterceptingShapeDeserializer:()=>Xs,HttpInterceptingShapeSerializer:()=>Qs,HttpProtocol:()=>Ws,RequestBuilder:()=>ol,RpcProtocol:()=>ln,SerdeContext:()=>It,ToStringShapeSerializer:()=>Na,collectBody:()=>Kt,determineTimestampFormat:()=>$t,extendedEncodeURIComponent:()=>Pr,requestBuilder:()=>ag,resolvedPath:()=>og});var Nt=_(()=>{Gu();qu();dw();sl();fw();hw();ig();ug();yw();Ew();dg();il();ti()});var _w=_(()=>{Nt()});function j2(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var bw=_(()=>{});var dn,Tw=_(()=>{dn=class{authSchemes=new Map;constructor(e){for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var vw,pg,fg,ww=_(()=>{vw=T(Re()),pg=T(jn()),fg=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=vw.HttpRequest.clone(e);if(n.in===pg.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===pg.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var xw,mg,Iw=_(()=>{xw=T(Re()),mg=class{async sign(e,r,n){let s=xw.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var pr,Cw=_(()=>{pr=class{async sign(e,r,n){return e}}});var Aw=_(()=>{ww();Iw();Cw()});var Rw,G2,hg,cl,gg,Pw=_(()=>{Rw=t=>function(r){return cl(r)&&r.expiration.getTime()-Date.now()<t},G2=3e5,hg=Rw(3e5),cl=t=>t.expiration!==void 0,gg=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,s,o,i,a=!1,c=async u=>{o||(o=n(u));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return e===void 0?async u=>((!i||u?.forceRefresh)&&(s=await c(u)),s):async u=>((!i||u?.forceRefresh)&&(s=await c(u)),a?s:r(s)?(e(s)&&await c(u),s):(a=!0,s))}});var Dw=_(()=>{Tw();Aw();Pw()});var Zs={};at(Zs,{DefaultIdentityProviderConfig:()=>dn,EXPIRATION_MS:()=>G2,HttpApiKeyAuthSigner:()=>fg,HttpBearerAuthSigner:()=>mg,NoAuthSigner:()=>pr,createIsIdentityExpiredFunction:()=>Rw,createPaginator:()=>Wb,doesIdentityRequireRefresh:()=>cl,getHttpAuthSchemeEndpointRuleSetPlugin:()=>qs,getHttpAuthSchemePlugin:()=>wF,getHttpSigningPlugin:()=>Hs,getSmithyContext:()=>_F,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Db,httpAuthSchemeMiddleware:()=>ya,httpAuthSchemeMiddlewareOptions:()=>Bb,httpSigningMiddleware:()=>Xm,httpSigningMiddlewareOptions:()=>qb,isIdentityExpired:()=>hg,memoizeIdentityProvider:()=>gg,normalizeProvider:()=>qn,requestBuilder:()=>ag,setFeature:()=>j2});var lt=_(()=>{Cb();$b();Vb();zb();Kb();_w();bw();Dw()});var Kn=R(Js=>{"use strict";var Eg=jn(),Sg=class{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let n=this.hash(e);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(e){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(e[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},q2=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Nw=t=>q2.test(t)||t.startsWith("[")&&t.endsWith("]"),H2=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),bg=(t,e=!1)=>{if(!e)return H2.test(t);let r=t.split(".");for(let n of r)if(!bg(n))return!1;return!0},_g={},Oa="endpoints";function Wn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Wn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Wn).join(", ")})`:JSON.stringify(t,null,2)}var dt=class extends Error{constructor(e){super(e),this.name="EndpointError"}},V2=(t,e)=>t===e,z2=t=>{let e=t.split("."),r=[];for(let n of e){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new dt(`Path: '${t}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new dt(`Invalid array index: '${o}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},Ow=(t,e)=>z2(e).reduce((r,n)=>{if(typeof r!="object")throw new dt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),W2=t=>t!=null,K2=t=>!t,yg={[Eg.EndpointURLScheme.HTTP]:80,[Eg.EndpointURLScheme.HTTPS]:443},Y2=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:g,port:h,protocol:E="",path:w="",query:I={}}=t,A=new URL(`${E}//${g}${h?`:${h}`:""}${w}`);return A.search=Object.entries(I).map(([N,U])=>`${N}=${U}`).join("&"),A}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Eg.EndpointURLScheme).includes(c))return null;let u=Nw(s),f=r.includes(`${n}:${yg[c]}`)||typeof t=="string"&&t.includes(`${n}:${yg[c]}`),m=`${n}${f?`:${yg[c]}`:""}`;return{scheme:c,authority:m,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:u}},X2=(t,e)=>t===e,Q2=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),Z2=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),J2={booleanEquals:V2,getAttr:Ow,isSet:W2,isValidHostLabel:bg,not:K2,parseURL:Y2,stringEquals:X2,substring:Q2,uriEncode:Z2},kw=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},s=0;for(;s<t.length;){let o=t.indexOf("{",s);if(o===-1){r.push(t.slice(s));break}r.push(t.slice(s,o));let i=t.indexOf("}",o);if(i===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(o+1,i)),s=i+2);let a=t.substring(o+1,i);if(a.includes("#")){let[c,u]=a.split("#");r.push(Ow(n[c],u))}else r.push(n[a]);s=i+1}return r.join("")},ej=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],ul=(t,e,r)=>{if(typeof t=="string")return kw(t,r);if(t.fn)return Mw.callFunction(t,r);if(t.ref)return ej(t,r);throw new dt(`'${e}': ${String(t)} is not a string, function or reference.`)},Lw=({fn:t,argv:e},r)=>{let n=e.map(o=>["boolean","number"].includes(typeof o)?o:Mw.evaluateExpression(o,"arg",r)),s=t.split(".");return s[0]in _g&&s[1]!=null?_g[s[0]][s[1]](...n):J2[t](...n)},Mw={evaluateExpression:ul,callFunction:Lw},tj=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new dt(`'${t}' is already defined in Reference Record.`);let n=Lw(e,r);return r.logger?.debug?.(`${Oa} evaluateCondition: ${Wn(e)} = ${Wn(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},Tg=(t=[],e)=>{let r={};for(let n of t){let{result:s,toAssign:o}=tj(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,e.logger?.debug?.(`${Oa} assign: ${o.name} := ${Wn(o.value)}`))}return{result:!0,referenceRecord:r}},rj=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=ul(o,"Header value entry",e);if(typeof i!="string")throw new dt(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Uw=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Fw.getEndpointProperty(s,e)}),{}),Bw=(t,e)=>{if(Array.isArray(t))return t.map(r=>Bw(r,e));switch(typeof t){case"string":return kw(t,e);case"object":if(t===null)throw new dt(`Unexpected endpoint property: ${t}`);return Fw.getEndpointProperties(t,e);case"boolean":return t;default:throw new dt(`Unexpected endpoint property type: ${typeof t}`)}},Fw={getEndpointProperty:Bw,getEndpointProperties:Uw},nj=(t,e)=>{let r=ul(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new dt(`Endpoint URL must be a string, got ${typeof r}`)},sj=(t,e)=>{let{conditions:r,endpoint:n}=t,{result:s,referenceRecord:o}=Tg(r,e);if(!s)return;let i={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:u}=n;return e.logger?.debug?.(`${Oa} Resolving endpoint from template: ${Wn(n)}`),{...u!=null&&{headers:rj(u,i)},...c!=null&&{properties:Uw(c,i)},url:nj(a,i)}},oj=(t,e)=>{let{conditions:r,error:n}=t,{result:s,referenceRecord:o}=Tg(r,e);if(s)throw new dt(ul(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))},$w=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=sj(r,e);if(n)return n}else if(r.type==="error")oj(r,e);else if(r.type==="tree"){let n=jw.evaluateTreeRule(r,e);if(n)return n}else throw new dt(`Unknown endpoint rule: ${r}`);throw new dt("Rules evaluation failed")},ij=(t,e)=>{let{conditions:r,rules:n}=t,{result:s,referenceRecord:o}=Tg(r,e);if(s)return jw.evaluateRules(n,{...e,referenceRecord:{...e.referenceRecord,...o}})},jw={evaluateRules:$w,evaluateTreeRule:ij},aj=(t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:s,rules:o}=t;e.logger?.debug?.(`${Oa} Initial EndpointParams: ${Wn(r)}`);let i=Object.entries(s).filter(([,u])=>u.default!=null).map(([u,f])=>[u,f.default]);if(i.length>0)for(let[u,f]of i)r[u]=r[u]??f;let a=Object.entries(s).filter(([,u])=>u.required).map(([u])=>u);for(let u of a)if(r[u]==null)throw new dt(`Missing required parameter: '${u}'`);let c=$w(o,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${Oa} Resolved endpoint: ${Wn(c)}`),c};Js.EndpointCache=Sg;Js.EndpointError=dt;Js.customEndpointFunctions=_g;Js.isIpAddress=Nw;Js.isValidHostLabel=bg;Js.resolveEndpoint=aj});var qw=R(Gw=>{"use strict";function cj(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}Gw.parseQueryString=cj});var pn=R(Vw=>{"use strict";var uj=qw(),Hw=t=>{if(typeof t=="string")return Hw(new URL(t));let{hostname:e,pathname:r,port:n,protocol:s,search:o}=t,i;return o&&(i=uj.parseQueryString(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};Vw.parseUrl=Hw});var eo=R(fr=>{"use strict";var ri=Kn(),lj=pn(),Ww=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!Ww(r))return!1;return!0}return!(!ri.isValidHostLabel(t)||t.length<3||t.length>63||t!==t.toLowerCase()||ri.isIpAddress(t))},zw=":",dj="/",pj=t=>{let e=t.split(zw);if(e.length<6)return null;let[r,n,s,o,i,...a]=e;if(r!=="arn"||n===""||s===""||a.join(zw)==="")return null;let c=a.map(u=>u.split(dj)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:c}},fj=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],mj="1.1",Kw={partitions:fj,version:mj},Yw=Kw,Xw="",Qw=t=>{let{partitions:e}=Yw;for(let n of e){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===t)return{...o,...a}}for(let n of e){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Zw=(t,e="")=>{Yw=t,Xw=e},hj=()=>{Zw(Kw,"")},gj=()=>Xw,Jw={isVirtualHostableS3Bucket:Ww,parseArn:pj,partition:Qw};ri.customEndpointFunctions.aws=Jw;var yj=t=>{if(typeof t.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>ex(t.endpointProvider({Region:typeof t.region=="function"?await t.region():t.region,UseDualStack:typeof t.useDualstackEndpoint=="function"?await t.useDualstackEndpoint():t.useDualstackEndpoint,UseFIPS:typeof t.useFipsEndpoint=="function"?await t.useFipsEndpoint():t.useFipsEndpoint,Endpoint:void 0},{logger:t.logger}))),t},ex=t=>lj.parseUrl(t.url);Object.defineProperty(fr,"EndpointError",{enumerable:!0,get:function(){return ri.EndpointError}});Object.defineProperty(fr,"isIpAddress",{enumerable:!0,get:function(){return ri.isIpAddress}});Object.defineProperty(fr,"resolveEndpoint",{enumerable:!0,get:function(){return ri.resolveEndpoint}});fr.awsEndpointFunctions=Jw;fr.getUserAgentPrefix=gj;fr.partition=Qw;fr.resolveDefaultAwsRegionalEndpointsConfig=yj;fr.setPartitionInfo=Zw;fr.toEndpointV1=ex;fr.useDefaultPartitionInfo=hj});var ll,Yn,tx=_(()=>{ll={warningEmitted:!1},Yn=t=>{t&&!ll.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<18&&(ll.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function Xn(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var rx=_(()=>{});function nx(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var sx=_(()=>{});function ox(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var ix=_(()=>{});var fn={};at(fn,{emitWarningIfUnsupportedVersion:()=>Yn,setCredentialFeature:()=>Xn,setFeature:()=>nx,setTokenFeature:()=>ox,state:()=>ll});var Xt=_(()=>{tx();rx();sx();ix()});var ax,vg,cx=_(()=>{ax=T(Re()),vg=t=>ax.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var ni,wg=_(()=>{ni=t=>new Date(Date.now()+t)});var ux,lx=_(()=>{wg();ux=(t,e)=>Math.abs(ni(e).getTime()-t)>=3e5});var xg,dx=_(()=>{lx();xg=(t,e)=>{let r=Date.parse(t);return ux(r,e)?r-Date.now():e}});var Ig=_(()=>{cx();wg();dx()});var px,ka,si,pt,Cg,Ag=_(()=>{px=T(Re());Ig();ka=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},si=async t=>{let e=ka("context",t.context),r=ka("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],o=await ka("signer",r.signer)(n),i=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}},pt=class{async sign(e,r,n){if(!px.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await si(n),{config:o,signer:i}=s,{signingRegion:a,signingName:c}=s,u=n.context;if(u?.authSchemes?.length??!1){let[m,g]=u.authSchemes;m?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,c=g?.signingName??c)}return await i.sign(e,{signingDate:ni(o.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??vg(r.$response);if(n){let s=ka("config",e.config),o=s.systemClockOffset;s.systemClockOffset=xg(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=vg(e);if(n){let s=ka("config",r.config);s.systemClockOffset=xg(n,s.systemClockOffset)}}},Cg=pt});var fx,La,mx=_(()=>{fx=T(Re());Ig();Ag();La=class extends pt{async sign(e,r,n){if(!fx.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:c}=await si(n),f=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(e,{signingDate:ni(s.systemClockOffset),signingRegion:f,signingService:c})}}});var Rg,hx=_(()=>{Rg=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var dl,Pg=_(()=>{dl=t=>`AWS_BEARER_TOKEN_${t.replace(/[\s-]/g,"_").toUpperCase()}`});var gx,yx,Qn,Ex=_(()=>{hx();Pg();gx="AWS_AUTH_SCHEME_PREFERENCE",yx="auth_scheme_preference",Qn={environmentVariableSelector:(t,e)=>{if(e?.signingName&&dl(e.signingName)in t)return["httpBearerAuth"];if(gx in t)return Rg(t[gx])},configFileSelector:t=>{if(yx in t)return Rg(t[yx])},default:[]}});var ft=R(to=>{"use strict";var oi=class t extends Error{name="ProviderError";tryNextLink;constructor(e,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(e),this.tryNextLink=s,Object.setPrototypeOf(this,t.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${e}`)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}},Dg=class t extends oi{name="CredentialsProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}},Ng=class t extends oi{name="TokenProviderError";constructor(e,r=!0){super(e,r),Object.setPrototypeOf(this,t.prototype)}},Ej=(...t)=>async()=>{if(t.length===0)throw new oi("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e},Sj=t=>()=>Promise.resolve(t),_j=(t,e,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=t());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return e===void 0?async c=>((!o||c?.forceRefresh)&&(n=await a()),n):async c=>((!o||c?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(e(n)&&await a(),n))};to.CredentialsProviderError=Dg;to.ProviderError=oi;to.TokenProviderError=Ng;to.chain=Ej;to.fromStatic=Sj;to.memoize=_j});var Og,Sx,_x,bx=_(()=>{lt();Og=T(ft()),Sx=t=>(t.sigv4aSigningRegionSet=qn(t.sigv4aSigningRegionSet),t),_x={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new Og.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new Og.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Vx=R(ae=>{"use strict";var Zn=vh(),ro=Je(),bj=Zm(),xx=Re(),Tx=ct(),pl=dh(),Ix="X-Amz-Algorithm",Cx="X-Amz-Credential",Fg="X-Amz-Date",Ax="X-Amz-SignedHeaders",Rx="X-Amz-Expires",$g="X-Amz-Signature",jg="X-Amz-Security-Token",Tj="X-Amz-Region-Set",Gg="authorization",qg=Fg.toLowerCase(),Px="date",Dx=[Gg,qg,Px],Nx=$g.toLowerCase(),yl="x-amz-content-sha256",Ox=jg.toLowerCase(),vj="host",kx={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Lx=/^proxy-/,Mx=/^sec-/,wj=[/^proxy-/i,/^sec-/i],fl="AWS4-HMAC-SHA256",xj="AWS4-ECDSA-P256-SHA256",Ux="AWS4-HMAC-SHA256-PAYLOAD",Bx="UNSIGNED-PAYLOAD",Fx=50,Hg="aws4_request",$x=60*60*24*7,ii={},ml=[],hl=(t,e,r)=>`${t}/${e}/${r}/${Hg}`,jx=async(t,e,r,n,s)=>{let o=await vx(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${n}:${s}:${Zn.toHex(o)}:${e.sessionToken}`;if(i in ii)return ii[i];for(ml.push(i);ml.length>Fx;)delete ii[ml.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,s,Hg])a=await vx(t,a,c);return ii[i]=a},Ij=()=>{ml.length=0,Object.keys(ii).forEach(t=>{delete ii[t]})},vx=(t,e,r)=>{let n=new t(e);return n.update(ro.toUint8Array(r)),n.digest()},kg=({headers:t},e,r)=>{let n={};for(let s of Object.keys(t).sort()){if(t[s]==null)continue;let o=s.toLowerCase();(o in kx||e?.has(o)||Lx.test(o)||Mx.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[s].trim().replace(/\s+/g," "))}return n},gl=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===yl)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||bj.isArrayBuffer(e)){let n=new r;return n.update(ro.toUint8Array(e)),Zn.toHex(await n.digest())}return Bx},Lg=class{format(e){let r=[];for(let o of Object.keys(e)){let i=ro.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":let a=ro.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":let f=new Uint8Array(9);return f[0]=8,f.set(Mg.fromNumber(e.value.valueOf()).bytes,1),f;case"uuid":if(!Cj.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(Zn.fromHex(e.value.replace(/\-/g,"")),1),m}}},Cj=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Mg=class t{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&wx(r),new t(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&wx(e),parseInt(Zn.toHex(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function wx(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var Gx=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},qx=(t,e={})=>{let{headers:r,query:n={}}=xx.HttpRequest.clone(t);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(o)||e.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...t,headers:r,query:n}},Ug=t=>{t=xx.HttpRequest.clone(t);for(let e of Object.keys(t.headers))Dx.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},Hx=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===Nx)continue;let s=pl.escapeUri(n);e.push(s);let o=t[n];typeof o=="string"?r[s]=`${s}=${pl.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${pl.escapeUri(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},Aj=t=>Rj(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Rj=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,El=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Tx.normalizeProvider(n),this.credentialProvider=Tx.normalizeProvider(r)}createCanonicalRequest(e,r,n){let s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Hx(e)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n,s){let o=new this.sha256;o.update(ro.toUint8Array(n));let i=await o.digest();return`${s}
${e}
${r}
${Zn.toHex(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return pl.escapeUri(n).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(e){let r=Aj(e).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}},Bg=class extends El{headerFormatter=new Lg;constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:c,signingRegion:u,signingService:f}=r,m=await this.credentialProvider();this.validateResolvedCredentials(m);let g=u??await this.regionProvider(),{longDate:h,shortDate:E}=this.formatDate(n);if(s>$x)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let w=hl(E,g,f??this.service),I=qx(Ug(e),{unhoistableHeaders:i,hoistableHeaders:c});m.sessionToken&&(I.query[jg]=m.sessionToken),I.query[Ix]=fl,I.query[Cx]=`${m.accessKeyId}/${w}`,I.query[Fg]=h,I.query[Rx]=s.toString(10);let A=kg(I,o,a);return I.query[Ax]=this.getCanonicalHeaderList(A),I.query[$g]=await this.getSignature(h,w,this.getSigningKey(m,g,E,f),this.createCanonicalRequest(I,A,await gl(e,this.sha256))),I}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:u}=this.formatDate(n),f=hl(c,a,i??this.service),m=await gl({headers:{},body:r},this.sha256),g=new this.sha256;g.update(e);let h=Zn.toHex(await g.digest()),E=[Ux,u,f,s,h,m].join(`
`);return this.signString(E,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(ro.toUint8Array(e)),Zn.toHex(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),u=Ug(e),{longDate:f,shortDate:m}=this.formatDate(r),g=hl(m,c,i??this.service);u.headers[qg]=f,a.sessionToken&&(u.headers[Ox]=a.sessionToken);let h=await gl(u,this.sha256);!Gx(yl,u.headers)&&this.applyChecksum&&(u.headers[yl]=h);let E=kg(u,s,n),w=await this.getSignature(f,g,this.getSigningKey(a,c,m,i),this.createCanonicalRequest(u,E,h));return u.headers[Gg]=`${fl} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${w}`,u}async getSignature(e,r,n,s){let o=await this.createStringToSign(e,r,s,fl),i=new this.sha256(await n);return i.update(ro.toUint8Array(o)),Zn.toHex(await i.digest())}getSigningKey(e,r,n,s){return jx(this.sha256,e,n,r,s||this.service)}},Pj={SignatureV4a:null};ae.ALGORITHM_IDENTIFIER=fl;ae.ALGORITHM_IDENTIFIER_V4A=xj;ae.ALGORITHM_QUERY_PARAM=Ix;ae.ALWAYS_UNSIGNABLE_HEADERS=kx;ae.AMZ_DATE_HEADER=qg;ae.AMZ_DATE_QUERY_PARAM=Fg;ae.AUTH_HEADER=Gg;ae.CREDENTIAL_QUERY_PARAM=Cx;ae.DATE_HEADER=Px;ae.EVENT_ALGORITHM_IDENTIFIER=Ux;ae.EXPIRES_QUERY_PARAM=Rx;ae.GENERATED_HEADERS=Dx;ae.HOST_HEADER=vj;ae.KEY_TYPE_IDENTIFIER=Hg;ae.MAX_CACHE_SIZE=Fx;ae.MAX_PRESIGNED_TTL=$x;ae.PROXY_HEADER_PATTERN=Lx;ae.REGION_SET_PARAM=Tj;ae.SEC_HEADER_PATTERN=Mx;ae.SHA256_HEADER=yl;ae.SIGNATURE_HEADER=Nx;ae.SIGNATURE_QUERY_PARAM=$g;ae.SIGNED_HEADERS_QUERY_PARAM=Ax;ae.SignatureV4=Bg;ae.SignatureV4Base=El;ae.TOKEN_HEADER=Ox;ae.TOKEN_QUERY_PARAM=jg;ae.UNSIGNABLE_PATTERNS=wj;ae.UNSIGNED_PAYLOAD=Bx;ae.clearCredentialCache=Ij;ae.createScope=hl;ae.getCanonicalHeaders=kg;ae.getCanonicalQuery=Hx;ae.getPayloadHash=gl;ae.getSigningKey=jx;ae.hasHeader=Gx;ae.moveHeadersToQuery=qx;ae.prepareRequest=Ug;ae.signatureV4aContainer=Pj});function Dj(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=gg(e,hg,cl):r?n=qn(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Nj(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var Vg,mn,zx,Wx=_(()=>{Xt();lt();Vg=T(Vx()),mn=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(u){u&&u!==e&&u!==n&&(r=!0),e=u;let f=Dj(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),m=Nj(t,f);r&&!m.attributed?(n=async g=>m(g).then(h=>Xn(h,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:s=!0,systemClockOffset:o=t.systemClockOffset||0,sha256:i}=t,a;return t.signer?a=qn(t.signer):t.regionInfoProvider?a=()=>qn(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,f])=>{let{signingRegion:m,signingService:g}=u;t.signingRegion=t.signingRegion||m||f,t.signingName=t.signingName||g||t.serviceId;let h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:s},E=t.signerConstructor||Vg.SignatureV4;return new E(h)}):a=async u=>{u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await qn(t.region)(),properties:{}},u);let f=u.signingRegion,m=u.signingName;t.signingRegion=t.signingRegion||f,t.signingName=t.signingName||m||t.serviceId;let g={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:s},h=t.signerConstructor||Vg.SignatureV4;return new h(g)},Object.assign(t,{systemClockOffset:o,signingEscapePath:s,signer:a})},zx=mn});var Kx=_(()=>{Ag();mx();Ex();bx();Wx()});var Yx={};at(Yx,{AWSSDKSigV4Signer:()=>Cg,AwsSdkSigV4ASigner:()=>La,AwsSdkSigV4Signer:()=>pt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Qn,NODE_SIGV4A_CONFIG_OPTIONS:()=>_x,getBearerTokenEnvKey:()=>dl,resolveAWSSDKSigV4Config:()=>zx,resolveAwsSdkSigV4AConfig:()=>Sx,resolveAwsSdkSigV4Config:()=>mn,validateSigningProperties:()=>si});var zg=_(()=>{Kx();Pg()});function Jn(t){return typeof Buffer<"u"?Buffer.alloc(t):new Uint8Array(t)}function Sl(t){return t[Wg]=!0,t}var Wg,_l=_(()=>{Wg=Symbol("@smithy/core/cbor::tagSymbol")});function Zx(t){Oe=t,gn=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength)}function Or(t,e){if(t>=e)throw new Error("unexpected end of (decode) payload.");let r=(Oe[t]&224)>>5,n=Oe[t]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=eI[n],a=i+1;if(o=a,e-t<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let c=t+1;i===1?s=Oe[c]:i===2?s=gn.getUint16(c):i===4?s=gn.getUint32(c):s=gn.getBigUint64(c);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return de=o,Kg(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,de=o,Kg(i)}else if(n===2||n===3){let i=Fa(t+o,e),a=BigInt(0),c=t+o+de;for(let u=c;u<c+i;++u)a=a<<BigInt(8)|BigInt(Oe[u]);return de=o+de+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Or(t+o,e),[a,c]=i,u=c<0?-1:1,f="0".repeat(Math.abs(a)+1)+String(BigInt(u)*BigInt(c)),m,g=c<0?"-":"";return m=a===0?f:f.slice(0,f.length+a)+"."+f.slice(a),m=m.replace(/^0+/g,""),m===""&&(m="0"),m[0]==="."&&(m="0"+m),m=g+m,de=o+de,ng(m)}else{let i=Or(t+o,e);return de=o+de,Sl({tag:Kg(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return Fj(t,e);case 5:return Hj(t,e);case 4:return Gj(t,e);case 2:return $j(t,e)}else switch(r){case 3:return Bj(t,e);case 5:return qj(t,e);case 4:return jj(t,e);case 2:return ey(t,e)}default:return Vj(t,e)}}function Jx(t,e,r){return Lj&&t.constructor?.name==="Buffer"?t.toString("utf-8",e,r):Xx?Xx.decode(t.subarray(e,r)):(0,Qx.toUtf8)(t.subarray(e,r))}function Mj(t){let e=Number(t);return(e<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<e)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${t}) to ${e} with loss of precision.`)),e}function Uj(t,e){let r=t>>7,n=(t&124)>>2,s=(t&3)<<8|e,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function Fa(t,e){let r=Oe[t]&31;if(r<24)return de=1,r;if(r===24||r===25||r===26||r===27){let n=eI[r];if(de=n+1,e-t<de)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=t+1;return n===1?Oe[s]:n===2?gn.getUint16(s):n===4?gn.getUint32(s):Mj(gn.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function Bj(t,e){let r=Fa(t,e),n=de;if(t+=n,e-t<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=Jx(Oe,t,t+r);return de=n+r,s}function Fj(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Oe[t]===255){let c=Jn(r.length);return c.set(r,0),de=t-n+2,Jx(c,0,c.length)}let s=(Oe[t]&224)>>5,o=Oe[t]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=ey(t,e);t+=de;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function ey(t,e){let r=Fa(t,e),n=de;if(t+=n,e-t<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=Oe.subarray(t,t+r);return de=n+r,s}function $j(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Oe[t]===255){let c=Jn(r.length);return c.set(r,0),de=t-n+2,c}let s=(Oe[t]&224)>>5,o=Oe[t]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=ey(t,e);t+=de;for(let c=0;c<i.length;++c)r.push(i[c])}throw new Error("expected break marker.")}function jj(t,e){let r=Fa(t,e),n=de;t+=n;let s=t,o=Array(r);for(let i=0;i<r;++i){let a=Or(t,e),c=de;o[i]=a,t+=c}return de=n+(t-s),o}function Gj(t,e){t+=1;let r=[];for(let n=t;t<e;){if(Oe[t]===255)return de=t-n+2,r;let s=Or(t,e);t+=de,r.push(s)}throw new Error("expected break marker.")}function qj(t,e){let r=Fa(t,e),n=de;t+=n;let s=t,o={};for(let i=0;i<r;++i){if(t>=e)throw new Error("unexpected end of map payload.");let a=(Oe[t]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${t}.`);let c=Or(t,e);t+=de;let u=Or(t,e);t+=de,o[c]=u}return de=n+(t-s),o}function Hj(t,e){t+=1;let r=t,n={};for(;t<e;){if(t>=e)throw new Error("unexpected end of map payload.");if(Oe[t]===255)return de=t-r+2,n;let s=(Oe[t]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Or(t,e);t+=de;let i=Or(t,e);t+=de,n[o]=i}throw new Error("expected break marker.")}function Vj(t,e){let r=Oe[t]&31;switch(r){case 21:case 20:return de=1,r===21;case 22:return de=1,null;case 23:return de=1,null;case 25:if(e-t<3)throw new Error("incomplete float16 at end of buf.");return de=3,Uj(Oe[t+1],Oe[t+2]);case 26:if(e-t<5)throw new Error("incomplete float32 at end of buf.");return de=5,gn.getFloat32(t+1);case 27:if(e-t<9)throw new Error("incomplete float64 at end of buf.");return de=9,gn.getFloat64(t+1);default:throw new Error(`unexpected minor value ${r}.`)}}function Kg(t){if(typeof t=="number")return t;let e=Number(t);return Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:t}var Qx,kj,Lj,Oe,gn,Xx,de,eI,tI=_(()=>{Dt();Qx=T(Je());_l();kj=typeof TextDecoder<"u",Lj=typeof Buffer<"u",Oe=Jn(0),gn=new DataView(Oe.buffer,Oe.byteOffset,Oe.byteLength),Xx=kj?new TextDecoder:null,de=0;eI={[24]:1,[25]:2,[26]:4,[27]:8}});function ry(t){Z.byteLength-V<t&&(V<16e6?Tl(Math.max(Z.byteLength*4,Z.byteLength+t)):Tl(Z.byteLength+t+16e6))}function ny(){let t=Jn(V);return t.set(Z.subarray(0,V),0),V=0,t}function Tl(t){let e=Z;Z=Jn(t),e&&(e.copy?e.copy(Z,0,0,e.byteLength):Z.set(e,0)),Sn=new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}function En(t,e){e<24?Z[V++]=t<<5|e:e<256?(Z[V++]=t<<5|24,Z[V++]=e):e<65536?(Z[V++]=t<<5|25,Sn.setUint16(V,e),V+=2):e<2**32?(Z[V++]=t<<5|26,Sn.setUint32(V,e),V+=4):(Z[V++]=t<<5|27,Sn.setBigUint64(V,typeof e=="bigint"?e:BigInt(e)),V+=8)}function sI(t){let e=[t];for(;e.length;){let r=e.pop();if(ry(typeof r=="string"?r.length*4:64),typeof r=="string"){if(rI)En(3,Buffer.byteLength(r)),V+=Z.write(r,V);else{let n=(0,nI.fromUtf8)(r);En(3,n.byteLength),Z.set(n,V),V+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,o=n?r:-r-1;o<24?Z[V++]=s<<5|o:o<256?(Z[V++]=s<<5|24,Z[V++]=o):o<65536?(Z[V++]=s<<5|25,Z[V++]=o>>8,Z[V++]=o):o<4294967296?(Z[V++]=s<<5|26,Sn.setUint32(V,o),V+=4):(Z[V++]=s<<5|27,Sn.setBigUint64(V,BigInt(o)),V+=8);continue}Z[V++]=251,Sn.setFloat64(V,r),V+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,o=n?r:-r-BigInt(1),i=Number(o);if(i<24)Z[V++]=s<<5|i;else if(i<256)Z[V++]=s<<5|24,Z[V++]=i;else if(i<65536)Z[V++]=s<<5|25,Z[V++]=i>>8,Z[V++]=i&255;else if(i<4294967296)Z[V++]=s<<5|26,Sn.setUint32(V,i),V+=4;else if(o<BigInt("18446744073709551616"))Z[V++]=s<<5|27,Sn.setBigUint64(V,o),V+=8;else{let a=o.toString(2),c=new Uint8Array(Math.ceil(a.length/8)),u=o,f=0;for(;c.byteLength-++f>=0;)c[c.byteLength-f]=Number(u&BigInt(255)),u>>=BigInt(8);ry(c.byteLength*2),Z[V++]=n?194:195,rI?En(2,Buffer.byteLength(c)):En(2,c.byteLength),Z.set(c,V),V+=c.byteLength}continue}else if(r===null){Z[V++]=246;continue}else if(typeof r=="boolean"){Z[V++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)e.push(r[n]);En(4,r.length);continue}else if(typeof r.byteLength=="number"){ry(r.length*2),En(2,r.length),Z.set(r,V),V+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof Me){let s=r.string.indexOf("."),o=s===-1?0:s-r.string.length+1,i=BigInt(r.string.replace(".",""));Z[V++]=196,e.push(i),e.push(o),En(4,2);continue}if(r[Wg])if("tag"in r&&"value"in r){e.push(r.value),En(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let o=n[s];e.push(r[o]),e.push(o)}En(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var nI,rI,zj,Z,Sn,V,oI=_(()=>{Dt();nI=T(Je());_l();rI=typeof Buffer<"u",zj=2048,Z=Jn(zj),Sn=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),V=0});var sy,iI=_(()=>{tI();oI();sy={deserialize(t){return Zx(t),Or(0,t.length)},serialize(t){try{return sI(t),ny()}catch(e){throw ny(),e}},resizeEncodingBuffer(t){Tl(t)}}});var vl,wl,xl=_(()=>{_l();vl=t=>Sl({tag:1,value:t.getTime()/1e3}),wl=(t,e)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(e.__type!==void 0)return r(e.__type);let n=Object.keys(e).find(s=>s.toLowerCase()==="code");if(n&&e[n]!==void 0)return r(e[n])}});var ay,Il,oy,iy,cy=_(()=>{Nt();Te();Dt();ay=T(Qe());iI();xl();Il=class extends It{createSerializer(){let e=new oy;return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new iy;return e.setSerdeContext(this.serdeContext),e}},oy=class extends It{value;write(e,r){this.value=this.serialize(e,r)}serialize(e,r){let n=$.of(e);if(r==null)return n.isIdempotencyToken()?(0,Yt.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??ay.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?vl(new Date(Number(r)/1e3|0)):vl(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,a=[],c=0;for(let u of s){let f=this.serialize(n.getValueSchema(),u);(f!=null||i)&&(a[c++]=f)}return a}if(s instanceof Date)return vl(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let c=this.serialize(n.getValueSchema(),s[a]);(c!=null||i)&&(o[a]=c)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let c=this.serialize(a,s[i]);c!=null&&(o[i]=c)}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return r}flush(){let e=sy.serialize(this.value);return this.value=void 0,e}},iy=class extends It{read(e,r){let n=sy.deserialize(r);return this.readValue(e,n)}readValue(e,r){let n=$.of(e);if(n.isTimestampSchema()){if(typeof r=="number")return ei(r);if(typeof r=="object"&&r.tag===1&&"value"in r)return ei(r.value)}if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??ay.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let c of r){let u=this.readValue(i,c);(u!=null||a)&&o.push(u)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let c=this.readValue(i,r[a]);(c!=null||o)&&(s[a]=c)}}else if(n.isStructSchema())for(let[o,i]of n.structIterator()){let a=this.readValue(i,r[o]);a!=null&&(s[o]=a)}return s}else return r}}});var aI,Cl,cI=_(()=>{Nt();Te();aI=T(ct());cy();xl();Cl=class extends ln{codec=new Il;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:e}){super({defaultNamespace:e})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),dr(e.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,aI.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,s,o){let i=wl(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let c={$metadata:o,$fault:n.statusCode<=500?"client":"server"},u=Q.for(a),f;try{f=u.getSchema(i)}catch{s.Message&&(s.message=s.Message);let A=Q.for("smithy.ts.sdk.synthetic."+a),N=A.getBaseException();if(N){let U=A.getErrorCtor(N);throw Object.assign(new U({name:i}),c,s)}throw Object.assign(new Error(i),c,s)}let m=$.of(f),g=u.getErrorCtor(f),h=s.message??s.Message??"Unknown",E=new g(h),w={};for(let[I,A]of m.structIterator())w[I]=this.deserializer.readValue(A,s[I]);throw Object.assign(E,c,{$fault:m.getMergedTraits().error,message:h},w)}getDefaultContentType(){return"application/cbor"}}});var uI=_(()=>{xl();cI();cy()});var fI=R(pI=>{"use strict";var no=(t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},ns=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,uy=()=>{let t=[],e=[],r=!1,n=new Set,s=m=>m.sort((g,h)=>lI[h.step]-lI[g.step]||dI[h.priority||"normal"]-dI[g.priority||"normal"]),o=m=>{let g=!1,h=E=>{let w=no(E.name,E.aliases);if(w.includes(m)){g=!0;for(let I of w)n.delete(I);return!1}return!0};return t=t.filter(h),e=e.filter(h),g},i=m=>{let g=!1,h=E=>{if(E.middleware===m){g=!0;for(let w of no(E.name,E.aliases))n.delete(w);return!1}return!0};return t=t.filter(h),e=e.filter(h),g},a=m=>(t.forEach(g=>{m.add(g.middleware,{...g})}),e.forEach(g=>{m.addRelativeTo(g.middleware,{...g})}),m.identifyOnResolve?.(f.identifyOnResolve()),m),c=m=>{let g=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...c(h))}),g},u=(m=!1)=>{let g=[],h=[],E={};return t.forEach(I=>{let A={...I,before:[],after:[]};for(let N of no(A.name,A.aliases))E[N]=A;g.push(A)}),e.forEach(I=>{let A={...I,before:[],after:[]};for(let N of no(A.name,A.aliases))E[N]=A;h.push(A)}),h.forEach(I=>{if(I.toMiddleware){let A=E[I.toMiddleware];if(A===void 0){if(m)return;throw new Error(`${I.toMiddleware} is not found when adding ${ns(I.name,I.aliases)} middleware ${I.relation} ${I.toMiddleware}`)}I.relation==="after"&&A.after.push(I),I.relation==="before"&&A.before.push(I)}}),s(g).map(c).reduce((I,A)=>(I.push(...A),I),[])},f={add:(m,g={})=>{let{name:h,override:E,aliases:w}=g,I={step:"initialize",priority:"normal",middleware:m,...g},A=no(h,w);if(A.length>0){if(A.some(N=>n.has(N))){if(!E)throw new Error(`Duplicate middleware name '${ns(h,w)}'`);for(let N of A){let U=t.findIndex(re=>re.name===N||re.aliases?.some(ge=>ge===N));if(U===-1)continue;let z=t[U];if(z.step!==I.step||I.priority!==z.priority)throw new Error(`"${ns(z.name,z.aliases)}" middleware with ${z.priority} priority in ${z.step} step cannot be overridden by "${ns(h,w)}" middleware with ${I.priority} priority in ${I.step} step.`);t.splice(U,1)}}for(let N of A)n.add(N)}t.push(I)},addRelativeTo:(m,g)=>{let{name:h,override:E,aliases:w}=g,I={middleware:m,...g},A=no(h,w);if(A.length>0){if(A.some(N=>n.has(N))){if(!E)throw new Error(`Duplicate middleware name '${ns(h,w)}'`);for(let N of A){let U=e.findIndex(re=>re.name===N||re.aliases?.some(ge=>ge===N));if(U===-1)continue;let z=e[U];if(z.toMiddleware!==I.toMiddleware||z.relation!==I.relation)throw new Error(`"${ns(z.name,z.aliases)}" middleware ${z.relation} "${z.toMiddleware}" middleware cannot be overridden by "${ns(h,w)}" middleware ${I.relation} "${I.toMiddleware}" middleware.`);e.splice(U,1)}}for(let N of A)n.add(N)}e.push(I)},clone:()=>a(uy()),use:m=>{m.applyToStack(f)},remove:m=>typeof m=="string"?o(m):i(m),removeByTag:m=>{let g=!1,h=E=>{let{tags:w,name:I,aliases:A}=E;if(w&&w.includes(m)){let N=no(I,A);for(let U of N)n.delete(U);return g=!0,!1}return!0};return t=t.filter(h),e=e.filter(h),g},concat:m=>{let g=a(uy());return g.use(m),g.identifyOnResolve(r||g.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>u(!0).map(m=>{let g=m.step??m.relation+" "+m.toMiddleware;return ns(m.name,m.aliases)+" - "+g}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,g)=>{for(let h of u().map(E=>E.middleware).reverse())m=h(m,g);return r&&console.log(f.identify()),m}};return f},lI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},dI={high:3,normal:2,low:1};pI.constructStack=uy});var te=R(Pe=>{"use strict";var gI=fI(),Ey=(Nt(),ie(Sw)),dy=jn(),Wj=(Te(),ie(va)),mI=(Dt(),ie(ow)),py=class{config;middlewareStack=gI.constructStack();initConfig;handlers;constructor(e){this.config=e}send(e,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?a=c.get(e.constructor):(a=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,a))}else delete this.handlers,a=e.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(e).then(c=>o(null,c.output),c=>o(c)).catch(()=>{});else return a(e).then(c=>c.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},ly="***SensitiveInformation***";function fy(t,e){if(e==null)return e;let r=Wj.NormalizedSchema.of(t);if(r.getMergedTraits().sensitive)return ly;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return ly}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return ly}else if(r.isStructSchema()&&typeof e=="object"){let n=e,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=fy(i,n[o]));return s}return e}var Al=class{middlewareStack=gI.constructStack();schema;static classBuilder(){return new my}resolveMiddlewareWithContext(e,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,smithyContext:u,additionalContext:f,CommandCtor:m}){for(let I of s.bind(this)(m,e,r,n))this.middlewareStack.use(I);let g=e.concat(this.middlewareStack),{logger:h}=r,E={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:c,[dy.SMITHY_CONTEXT_KEY]:{commandInstance:this,...u},...f},{requestHandler:w}=r;return g.resolve(I=>w.handle(I.request,n||{}),E)}},my=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,n={}){return this._smithyContext={service:e,operation:r,...n},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=n=>n,r=n=>n){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e=this,r;return r=class extends Al{input;static getEndpointParameterInstructions(){return e._ep}constructor(...[n]){super(),this.input=n??{},e._init(this),this.schema=e._operationSchema}resolveMiddleware(n,s,o){let i=e._operationSchema,a=i?.[4]??i?.input,c=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog??(i?fy.bind(null,a):u=>u),outputFilterSensitiveLog:e._outputFilterSensitiveLog??(i?fy.bind(null,c):u=>u),smithyContext:e._smithyContext,additionalContext:e._additionalContext})}serialize=e._serializer;deserialize=e._deserializer}}},Kj="***SensitiveInformation***",Yj=(t,e)=>{for(let r of Object.keys(t)){let n=t[r],s=async function(i,a,c){let u=new n(i);if(typeof a=="function")this.send(u,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(u,a||{},c)}else return this.send(u,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[o]=s}},hy=class t extends Error{$fault;$response;$retryable;$metadata;constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return t.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===t?t.isInstance(e):t.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},yI=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},EI=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let s=Qj(t),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:e?.code||e?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw yI(i,e)},Xj=t=>({output:e,parsedBody:r,errorCode:n})=>{EI({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Qj=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Zj=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},hI=!1,Jj=t=>{t&&!hI&&parseInt(t.substring(1,t.indexOf(".")))<16&&(hI=!0)},e3=t=>{let e=[];for(let r in dy.AlgorithmId){let n=dy.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},t3=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},r3=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),n3=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},SI=t=>Object.assign(e3(t),r3(t)),s3=SI,o3=t=>Object.assign(t3(t),n3(t)),i3=t=>Array.isArray(t)?t:[t],_I=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=_I(t[r]));return t},a3=t=>t!=null,gy=class{trace(){}debug(){}info(){}warn(){}error(){}};function bI(t,e,r){let n,s,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return s=e,o=r,l3(n,s,o);o=e}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}TI(n,null,o,i)}return n}var c3=t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},u3=(t,e)=>{let r={};for(let n in e)TI(r,t,e,n);return r},l3=(t,e,r)=>bI(t,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[e,o()]:n[s]=[e,o],n),{})),TI=(t,e,r,n)=>{if(e!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=d3,c=p3,u=n]=i;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=c(e[u]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=i:c&&(t[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(t[n]=o)}},d3=t=>t!=null,p3=t=>t,f3=t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},m3=t=>t.toISOString().replace(".000Z","Z"),yy=t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(yy);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=yy(t[r]));return e}return t};Object.defineProperty(Pe,"collectBody",{enumerable:!0,get:function(){return Ey.collectBody}});Object.defineProperty(Pe,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return Ey.extendedEncodeURIComponent}});Object.defineProperty(Pe,"resolvedPath",{enumerable:!0,get:function(){return Ey.resolvedPath}});Pe.Client=py;Pe.Command=Al;Pe.NoOpLogger=gy;Pe.SENSITIVE_STRING=Kj;Pe.ServiceException=hy;Pe._json=yy;Pe.convertMap=c3;Pe.createAggregatedClient=Yj;Pe.decorateServiceException=yI;Pe.emitWarningIfUnsupportedVersion=Jj;Pe.getArrayIfSingleItem=i3;Pe.getDefaultClientConfiguration=s3;Pe.getDefaultExtensionConfiguration=SI;Pe.getValueFromTextNode=_I;Pe.isSerializableHeaderValue=a3;Pe.loadConfigsForDefaultMode=Zj;Pe.map=bI;Pe.resolveDefaultRuntimeConfig=o3;Pe.serializeDateTime=m3;Pe.serializeFloat=f3;Pe.take=u3;Pe.throwDefaultError=EI;Pe.withBaseException=Xj;Object.keys(mI).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Pe,t)&&Object.defineProperty(Pe,t,{enumerable:!0,get:function(){return mI[t]}})})});var Sy,Qt,ci=_(()=>{Te();Sy=T(te()),Qt=class{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":e)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:f,httpPrefixHeaders:m}=i.getMergedTraits();return!a&&!c&&!u&&!f&&m===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,n,s,o,i){let a=r,c=e;e.includes("#")&&([a,c]=e.split("#"));let u={$metadata:o,$fault:n.statusCode<500?"client":"server"},f=Q.for(a);try{return{errorSchema:i?.(f,c)??f.getSchema(e),errorMetadata:u}}catch{s.message=s.message??s.Message??"UnknownError";let g=Q.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let E=g.getErrorCtor(h)??Error;throw this.decorateServiceException(Object.assign(new E({name:c}),u),s)}throw this.decorateServiceException(Object.assign(new Error(c),u),s)}}decorateServiceException(e,r={}){if(this.queryCompat){let n=e.Message??r.Message,s=(0,Sy.decorateServiceException)(e,r);return n&&(s.Message=n,s.message=n),s}return(0,Sy.decorateServiceException)(e,r)}setQueryCompatError(e,r){let n=r.headers?.["x-amzn-query-error"];if(e!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(e),a={Code:s,Type:o};Object.assign(e,a);for(let[c,u]of i)a[c]=u;delete a.__type,e.Error=a}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}}});var Rl,vI=_(()=>{uI();Te();ci();Rl=class extends Cl{awsQueryCompatible;mixin;constructor({defaultNamespace:e,awsQueryCompatible:r}){super({defaultNamespace:e}),this.awsQueryCompatible=!!r,this.mixin=new Qt(this.awsQueryCompatible)}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(e,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=wl(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=$.of(a),f=s.message??s.Message??"Unknown",m=Q.for(a[1]).getErrorCtor(a)??Error,g=new m(f),h={};for(let[E,w]of u.structIterator())h[E]=this.deserializer.readValue(w,s[E]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:f},h),s)}}});var wI,xI,II,CI=_(()=>{wI=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},xI=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},II=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var mt,ss=_(()=>{mt=class{serdeContext;setSerdeContext(e){this.serdeContext=e}}});function*ui(t,e){if(t.isUnitSchema())return;let r=t.getSchema();for(let n=0;n<r[4].length;++n){let s=r[4][n],o=r[5][n],i=new $([o,0],s);!(s in e)&&!i.isIdempotencyToken()||(yield[s,i])}}function*AI(t,e,r){if(t.isUnitSchema())return;let n=t.getSchema(),s=Object.keys(e).filter(o=>o!=="__type").length;for(let o=0;o<n[4].length&&s!==0;++o){let i=n[4][o],a=n[5][o],c=new $([a,0],i),u=i;r&&(u=c.getMergedTraits()[r]??i),u in e&&(yield[i,c],s-=1)}}var $a=_(()=>{Te()});function RI(t,e,r){if(r?.source){let n=r.source;if(typeof e=="number"&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER||n!==String(e)))return n.includes(".")?new Me(n,"bigDecimal"):BigInt(n)}return e}var PI=_(()=>{Dt()});var DI,NI,Pl,_y=_(()=>{DI=T(te()),NI=T(Je()),Pl=(t,e)=>(0,DI.collectBody)(t,e).then(r=>(e?.utf8Encoder??NI.toUtf8)(r))});var ja,OI,li,Ga=_(()=>{_y();ja=(t,e)=>Pl(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),OI=async(t,e)=>{let r=await ja(t,e);return r.message=r.message??r.Message,r},li=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e&&typeof e=="object"){let o=r(e,"code");if(o&&e[o]!==void 0)return n(e[o]);if(e.__type!==void 0)return n(e.__type)}}});var kI,di,by=_(()=>{Nt();Te();Dt();kI=T(Qe());ss();$a();PI();Ga();di=class extends mt{settings;constructor(e){super(),this.settings=e}async read(e,r){return this._read(e,typeof r=="string"?JSON.parse(r,RI):await ja(r,this.serdeContext))}readObject(e,r){return this._read(e,r)}_read(e,r){let n=r!==null&&typeof r=="object",s=$.of(e);if(n){if(s.isStructSchema()){let i={};for(let[a,c]of AI(s,r,this.settings.jsonName?"jsonName":!1)){let u=this.settings.jsonName?c.getMergedTraits().jsonName??a:a,f=this._read(c,r[u]);f!=null&&(i[a]=f)}return i}if(Array.isArray(r)&&s.isListSchema()){let i=s.getValueSchema(),a=[],c=!!s.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._read(i,u));return a}if(s.isMapSchema()){let i=s.getValueSchema(),a={},c=!!s.getMergedTraits().sparse;for(let[u,f]of Object.entries(r))(c||f!=null)&&(a[u]=this._read(i,f));return a}}if(s.isBlobSchema()&&typeof r=="string")return(0,kI.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o)return o==="application/json"||o.endsWith("+json")?xt.from(r):r;if(s.isTimestampSchema()&&r!=null)switch($t(s,this.settings)){case 5:return qh(r);case 6:return Hh(r);case 7:return Vh(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof Me)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new Me(i.string,i.type):new Me(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string"){switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}return r}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Me?i[a]=c:i[a]=this._read(s,c);return i}else return structuredClone(r);return r}}});var LI,Dl,MI=_(()=>{Dt();LI="\u039D",Dl=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(e,r)=>{if(r instanceof Me){let n=`${LI+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${LI+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(e){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return e;for(let[r,n]of this.values)e=e.replace(r,n);return e}}});var Ty,pi,vy=_(()=>{Nt();Te();Dt();Ty=T(Qe());ss();$a();MI();pi=class extends mt{settings;buffer;useReplacer=!1;rootSchema;constructor(e){super(),this.settings=e}write(e,r){this.rootSchema=$.of(e),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(e,r){this.write(e,r),typeof this.buffer=="object"&&(this.buffer.__type=$.of(e).getName(!0))}flush(){let{rootSchema:e,useReplacer:r}=this;if(this.rootSchema=void 0,this.useReplacer=!1,e?.isStructSchema()||e?.isDocumentSchema()){if(!r)return JSON.stringify(this.buffer);let n=new Dl;return n.replaceInJson(JSON.stringify(this.buffer,n.createReplacer(),0))}return this.buffer}_write(e,r,n){let s=r!==null&&typeof r=="object",o=$.of(e);if(s){if(o.isStructSchema()){let i={};for(let[a,c]of ui(o,r)){let u=this._write(c,r[a],o);if(u!==void 0){let f=c.getMergedTraits().jsonName,m=this.settings.jsonName?f??a:a;i[m]=u}}return i}if(Array.isArray(r)&&o.isListSchema()){let i=o.getValueSchema(),a=[],c=!!o.getMergedTraits().sparse;for(let u of r)(c||u!=null)&&a.push(this._write(i,u));return a}if(o.isMapSchema()){let i=o.getValueSchema(),a={},c=!!o.getMergedTraits().sparse;for(let[u,f]of Object.entries(r))(c||f!=null)&&(a[u]=this._write(i,f));return a}if(r instanceof Uint8Array&&(o.isBlobSchema()||o.isDocumentSchema()))return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Ty.toBase64)(r);if(r instanceof Date&&(o.isTimestampSchema()||o.isDocumentSchema()))switch($t(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return Aa(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}r instanceof Me&&(this.useReplacer=!0)}if(!(r===null&&n?.isStructSchema())){if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,Yt.v4)();let i=o.getMergedTraits().mediaType;return r!=null&&i&&(i==="application/json"||i.endsWith("+json"))?xt.from(r):r}if(typeof r=="number"&&o.isNumericSchema())return Math.abs(r)===1/0||isNaN(r)?String(r):r;if(typeof r=="string"&&o.isBlobSchema())return o===this.rootSchema?r:(this.serdeContext?.base64Encoder??Ty.toBase64)(r);if(typeof r=="bigint"&&(this.useReplacer=!0),o.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,c]of Object.entries(r))c instanceof Me?(this.useReplacer=!0,i[a]=c):i[a]=this._write(o,c);return i}else return structuredClone(r);return r}}}});var os,Nl=_(()=>{ss();by();vy();os=class extends mt{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new pi(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new di(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var is,Ol=_(()=>{Nt();Te();ci();Nl();Ga();is=class extends ln{serializer;deserializer;serviceTarget;codec;mixin;awsQueryCompatible;constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:e}),this.serviceTarget=r,this.codec=s??new os({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n,this.mixin=new Qt(this.awsQueryCompatible)}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${e.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(dr(e.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(e,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=li(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=$.of(a),f=s.message??s.Message??"Unknown",m=Q.for(a[1]).getErrorCtor(a)??Error,g=new m(f),h={};for(let[E,w]of u.structIterator()){let I=w.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(w,s[I])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:f},h),s)}}});var kl,UI=_(()=>{Ol();kl=class extends is{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Ll,BI=_(()=>{Ol();Ll=class extends is{constructor({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s}){super({defaultNamespace:e,serviceTarget:r,awsQueryCompatible:n,jsonCodec:s})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var as,FI=_(()=>{Nt();Te();ci();Nl();Ga();as=class extends Ks{serializer;deserializer;codec;mixin=new Qt;constructor({defaultNamespace:e}){super({defaultNamespace:e});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new os(r),this.serializer=new Qs(this.codec.createSerializer(),r),this.deserializer=new Xs(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(e){this.codec.setSerdeContext(e),super.setSerdeContext(e)}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n),o=$.of(e.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.body==null&&s.headers["content-type"]===this.getDefaultContentType()&&(s.body="{}"),s}async deserializeResponse(e,r,n){let s=await super.deserializeResponse(e,r,n),o=$.of(e.output);for(let[i,a]of o.structIterator())a.getMemberTraits().httpPayload&&!(i in s)&&(s[i]=null);return s}async handleError(e,r,n,s,o){let i=li(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=$.of(a),f=s.message??s.Message??"Unknown",m=Q.for(a[1]).getErrorCtor(a)??Error,g=new m(f);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[E,w]of u.structIterator()){let I=w.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(w,s[I])}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:f},h),s)}getDefaultContentType(){return"application/json"}}});var $I,jI,GI=_(()=>{$I=T(te()),jI=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,$I.expectUnion)(t)}});var HI=R((Ehe,qI)=>{(()=>{"use strict";var t={d:(d,p)=>{for(var y in p)t.o(p,y)&&!t.o(d,y)&&Object.defineProperty(d,y,{enumerable:!0,get:p[y]})},o:(d,p)=>Object.prototype.hasOwnProperty.call(d,p),r:d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{XMLBuilder:()=>Fn,XMLParser:()=>nB,XMLValidator:()=>dB});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(d,p){let y=[],v=p.exec(d);for(;v;){let S=[];S.startIndex=p.lastIndex-v[0].length;let b=v.length;for(let P=0;P<b;P++)S.push(v[P]);y.push(S),v=p.exec(d)}return y}let o=function(d){return n.exec(d)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(d,p){p=Object.assign({},i,p);let y=[],v=!1,S=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let b=0;b<d.length;b++)if(d[b]==="<"&&d[b+1]==="?"){if(b+=2,b=u(d,b),b.err)return b}else{if(d[b]!=="<"){if(c(d[b]))continue;return A("InvalidChar","char '"+d[b]+"' is not expected.",U(d,b))}{let P=b;if(b++,d[b]==="!"){b=f(d,b);continue}{let C=!1;d[b]==="/"&&(C=!0,b++);let D="";for(;b<d.length&&d[b]!==">"&&d[b]!==" "&&d[b]!=="	"&&d[b]!==`
`&&d[b]!=="\r";b++)D+=d[b];if(D=D.trim(),D[D.length-1]==="/"&&(D=D.substring(0,D.length-1),b--),!o(D)){let W;return W=D.trim().length===0?"Invalid space after '<'.":"Tag '"+D+"' is an invalid name.",A("InvalidTag",W,U(d,b))}let L=h(d,b);if(L===!1)return A("InvalidAttr","Attributes for '"+D+"' have open quote.",U(d,b));let ee=L.value;if(b=L.index,ee[ee.length-1]==="/"){let W=b-ee.length;ee=ee.substring(0,ee.length-1);let Se=w(ee,p);if(Se!==!0)return A(Se.err.code,Se.err.msg,U(d,W+Se.err.line));v=!0}else if(C){if(!L.tagClosed)return A("InvalidTag","Closing tag '"+D+"' doesn't have proper closing.",U(d,b));if(ee.trim().length>0)return A("InvalidTag","Closing tag '"+D+"' can't have attributes or invalid starting.",U(d,P));if(y.length===0)return A("InvalidTag","Closing tag '"+D+"' has not been opened.",U(d,P));{let W=y.pop();if(D!==W.tagName){let Se=U(d,W.tagStartPos);return A("InvalidTag","Expected closing tag '"+W.tagName+"' (opened in line "+Se.line+", col "+Se.col+") instead of closing tag '"+D+"'.",U(d,P))}y.length==0&&(S=!0)}}else{let W=w(ee,p);if(W!==!0)return A(W.err.code,W.err.msg,U(d,b-ee.length+W.err.line));if(S===!0)return A("InvalidXml","Multiple possible root nodes found.",U(d,b));p.unpairedTags.indexOf(D)!==-1||y.push({tagName:D,tagStartPos:P}),v=!0}for(b++;b<d.length;b++)if(d[b]==="<"){if(d[b+1]==="!"){b++,b=f(d,b);continue}if(d[b+1]!=="?")break;if(b=u(d,++b),b.err)return b}else if(d[b]==="&"){let W=I(d,b);if(W==-1)return A("InvalidChar","char '&' is not expected.",U(d,b));b=W}else if(S===!0&&!c(d[b]))return A("InvalidXml","Extra text at the end",U(d,b));d[b]==="<"&&b--}}}return v?y.length==1?A("InvalidTag","Unclosed tag '"+y[0].tagName+"'.",U(d,y[0].tagStartPos)):!(y.length>0)||A("InvalidXml","Invalid '"+JSON.stringify(y.map(b=>b.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):A("InvalidXml","Start tag expected.",1)}function c(d){return d===" "||d==="	"||d===`
`||d==="\r"}function u(d,p){let y=p;for(;p<d.length;p++)if(!(d[p]!="?"&&d[p]!=" ")){let v=d.substr(y,p-y);if(p>5&&v==="xml")return A("InvalidXml","XML declaration allowed only at the start of the document.",U(d,p));if(d[p]=="?"&&d[p+1]==">"){p++;break}}return p}function f(d,p){if(d.length>p+5&&d[p+1]==="-"&&d[p+2]==="-"){for(p+=3;p<d.length;p++)if(d[p]==="-"&&d[p+1]==="-"&&d[p+2]===">"){p+=2;break}}else if(d.length>p+8&&d[p+1]==="D"&&d[p+2]==="O"&&d[p+3]==="C"&&d[p+4]==="T"&&d[p+5]==="Y"&&d[p+6]==="P"&&d[p+7]==="E"){let y=1;for(p+=8;p<d.length;p++)if(d[p]==="<")y++;else if(d[p]===">"&&(y--,y===0))break}else if(d.length>p+9&&d[p+1]==="["&&d[p+2]==="C"&&d[p+3]==="D"&&d[p+4]==="A"&&d[p+5]==="T"&&d[p+6]==="A"&&d[p+7]==="["){for(p+=8;p<d.length;p++)if(d[p]==="]"&&d[p+1]==="]"&&d[p+2]===">"){p+=2;break}}return p}let m='"',g="'";function h(d,p){let y="",v="",S=!1;for(;p<d.length;p++){if(d[p]===m||d[p]===g)v===""?v=d[p]:v!==d[p]||(v="");else if(d[p]===">"&&v===""){S=!0;break}y+=d[p]}return v===""&&{value:y,index:p,tagClosed:S}}let E=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function w(d,p){let y=s(d,E),v={};for(let S=0;S<y.length;S++){if(y[S][1].length===0)return A("InvalidAttr","Attribute '"+y[S][2]+"' has no space in starting.",z(y[S]));if(y[S][3]!==void 0&&y[S][4]===void 0)return A("InvalidAttr","Attribute '"+y[S][2]+"' is without value.",z(y[S]));if(y[S][3]===void 0&&!p.allowBooleanAttributes)return A("InvalidAttr","boolean attribute '"+y[S][2]+"' is not allowed.",z(y[S]));let b=y[S][2];if(!N(b))return A("InvalidAttr","Attribute '"+b+"' is an invalid name.",z(y[S]));if(v.hasOwnProperty(b))return A("InvalidAttr","Attribute '"+b+"' is repeated.",z(y[S]));v[b]=1}return!0}function I(d,p){if(d[++p]===";")return-1;if(d[p]==="#")return function(v,S){let b=/\d/;for(v[S]==="x"&&(S++,b=/[\da-fA-F]/);S<v.length;S++){if(v[S]===";")return S;if(!v[S].match(b))break}return-1}(d,++p);let y=0;for(;p<d.length;p++,y++)if(!(d[p].match(/\w/)&&y<20)){if(d[p]===";")break;return-1}return p}function A(d,p,y){return{err:{code:d,msg:p,line:y.line||y,col:y.col}}}function N(d){return o(d)}function U(d,p){let y=d.substring(0,p).split(/\r?\n/);return{line:y.length,col:y[y.length-1].length+1}}function z(d){return d.startIndex+d[1].length}let re={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(d,p){return p},attributeValueProcessor:function(d,p){return p},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(d,p,y){return d},captureMetaData:!1},ge;ge=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class qe{constructor(p){this.tagname=p,this.child=[],this[":@"]={}}add(p,y){p==="__proto__"&&(p="#__proto__"),this.child.push({[p]:y})}addChild(p,y){p.tagname==="__proto__"&&(p.tagname="#__proto__"),p[":@"]&&Object.keys(p[":@"]).length>0?this.child.push({[p.tagname]:p.child,":@":p[":@"]}):this.child.push({[p.tagname]:p.child}),y!==void 0&&(this.child[this.child.length-1][ge]={startIndex:y})}static getMetaDataSymbol(){return ge}}function le(d,p){let y={};if(d[p+3]!=="O"||d[p+4]!=="C"||d[p+5]!=="T"||d[p+6]!=="Y"||d[p+7]!=="P"||d[p+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let v=1,S=!1,b=!1,P="";for(;p<d.length;p++)if(d[p]!=="<"||b)if(d[p]===">"){if(b?d[p-1]==="-"&&d[p-2]==="-"&&(b=!1,v--):v--,v===0)break}else d[p]==="["?S=!0:P+=d[p];else{if(S&&$s(d,"!ENTITY",p)){let C,D;p+=7,[C,D,p]=Ne(d,p+1),D.indexOf("&")===-1&&(y[C]={regx:RegExp(`&${C};`,"g"),val:D})}else if(S&&$s(d,"!ELEMENT",p)){p+=8;let{index:C}=MU(d,p+1);p=C}else if(S&&$s(d,"!ATTLIST",p))p+=8;else if(S&&$s(d,"!NOTATION",p)){p+=9;let{index:C}=He(d,p+1);p=C}else{if(!$s(d,"!--",p))throw new Error("Invalid DOCTYPE");b=!0}v++,P=""}if(v!==0)throw new Error("Unclosed DOCTYPE")}return{entities:y,i:p}}let Ee=(d,p)=>{for(;p<d.length&&/\s/.test(d[p]);)p++;return p};function Ne(d,p){p=Ee(d,p);let y="";for(;p<d.length&&!/\s/.test(d[p])&&d[p]!=='"'&&d[p]!=="'";)y+=d[p],p++;if(wm(y),p=Ee(d,p),d.substring(p,p+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(d[p]==="%")throw new Error("Parameter entities are not supported");let v="";return[p,v]=jo(d,p,"entity"),[y,v,--p]}function He(d,p){p=Ee(d,p);let y="";for(;p<d.length&&!/\s/.test(d[p]);)y+=d[p],p++;wm(y),p=Ee(d,p);let v=d.substring(p,p+6).toUpperCase();if(v!=="SYSTEM"&&v!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${v}"`);p+=v.length,p=Ee(d,p);let S=null,b=null;if(v==="PUBLIC")[p,S]=jo(d,p,"publicIdentifier"),d[p=Ee(d,p)]!=='"'&&d[p]!=="'"||([p,b]=jo(d,p,"systemIdentifier"));else if(v==="SYSTEM"&&([p,b]=jo(d,p,"systemIdentifier"),!b))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:y,publicIdentifier:S,systemIdentifier:b,index:--p}}function jo(d,p,y){let v="",S=d[p];if(S!=='"'&&S!=="'")throw new Error(`Expected quoted string, found "${S}"`);for(p++;p<d.length&&d[p]!==S;)v+=d[p],p++;if(d[p]!==S)throw new Error(`Unterminated ${y} value`);return[++p,v]}function MU(d,p){p=Ee(d,p);let y="";for(;p<d.length&&!/\s/.test(d[p]);)y+=d[p],p++;if(!wm(y))throw new Error(`Invalid element name: "${y}"`);let v="";if(d[p=Ee(d,p)]==="E"&&$s(d,"MPTY",p))p+=4;else if(d[p]==="A"&&$s(d,"NY",p))p+=2;else{if(d[p]!=="(")throw new Error(`Invalid Element Expression, found "${d[p]}"`);for(p++;p<d.length&&d[p]!==")";)v+=d[p],p++;if(d[p]!==")")throw new Error("Unterminated content model")}return{elementName:y,contentModel:v.trim(),index:p}}function $s(d,p,y){for(let v=0;v<p.length;v++)if(p[v]!==d[y+v+1])return!1;return!0}function wm(d){if(o(d))return d;throw new Error(`Invalid entity name ${d}`)}let UU=/^[-+]?0x[a-fA-F0-9]+$/,BU=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,FU={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},$U=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function $_(d){return typeof d=="function"?d:Array.isArray(d)?p=>{for(let y of d)if(typeof y=="string"&&p===y||y instanceof RegExp&&y.test(p))return!0}:()=>!1}class jU{constructor(p){this.options=p,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(y,v)=>String.fromCodePoint(Number.parseInt(v,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(y,v)=>String.fromCodePoint(Number.parseInt(v,16))}},this.addExternalEntities=GU,this.parseXml=WU,this.parseTextData=qU,this.resolveNameSpace=HU,this.buildAttributesMap=zU,this.isItStopNode=QU,this.replaceEntitiesValue=YU,this.readStopNodeData=ZU,this.saveTextToParentTag=XU,this.addChild=KU,this.ignoreAttributesFn=$_(this.options.ignoreAttributes)}}function GU(d){let p=Object.keys(d);for(let y=0;y<p.length;y++){let v=p[y];this.lastEntities[v]={regex:new RegExp("&"+v+";","g"),val:d[v]}}}function qU(d,p,y,v,S,b,P){if(d!==void 0&&(this.options.trimValues&&!v&&(d=d.trim()),d.length>0)){P||(d=this.replaceEntitiesValue(d));let C=this.options.tagValueProcessor(p,d,y,S,b);return C==null?d:typeof C!=typeof d||C!==d?C:this.options.trimValues||d.trim()===d?j_(d,this.options.parseTagValue,this.options.numberParseOptions):d}}function HU(d){if(this.options.removeNSPrefix){let p=d.split(":"),y=d.charAt(0)==="/"?"/":"";if(p[0]==="xmlns")return"";p.length===2&&(d=y+p[1])}return d}let VU=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function zU(d,p,y){if(this.options.ignoreAttributes!==!0&&typeof d=="string"){let v=s(d,VU),S=v.length,b={};for(let P=0;P<S;P++){let C=this.resolveNameSpace(v[P][1]);if(this.ignoreAttributesFn(C,p))continue;let D=v[P][4],L=this.options.attributeNamePrefix+C;if(C.length)if(this.options.transformAttributeName&&(L=this.options.transformAttributeName(L)),L==="__proto__"&&(L="#__proto__"),D!==void 0){this.options.trimValues&&(D=D.trim()),D=this.replaceEntitiesValue(D);let ee=this.options.attributeValueProcessor(C,D,p);b[L]=ee==null?D:typeof ee!=typeof D||ee!==D?ee:j_(D,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(b[L]=!0)}if(!Object.keys(b).length)return;if(this.options.attributesGroupName){let P={};return P[this.options.attributesGroupName]=b,P}return b}}let WU=function(d){d=d.replace(/\r\n?/g,`
`);let p=new qe("!xml"),y=p,v="",S="";for(let b=0;b<d.length;b++)if(d[b]==="<")if(d[b+1]==="/"){let P=js(d,">",b,"Closing Tag is not closed."),C=d.substring(b+2,P).trim();if(this.options.removeNSPrefix){let ee=C.indexOf(":");ee!==-1&&(C=C.substr(ee+1))}this.options.transformTagName&&(C=this.options.transformTagName(C)),y&&(v=this.saveTextToParentTag(v,y,S));let D=S.substring(S.lastIndexOf(".")+1);if(C&&this.options.unpairedTags.indexOf(C)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${C}>`);let L=0;D&&this.options.unpairedTags.indexOf(D)!==-1?(L=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=S.lastIndexOf("."),S=S.substring(0,L),y=this.tagsNodeStack.pop(),v="",b=P}else if(d[b+1]==="?"){let P=xm(d,b,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(v=this.saveTextToParentTag(v,y,S),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){let C=new qe(P.tagName);C.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&(C[":@"]=this.buildAttributesMap(P.tagExp,S,P.tagName)),this.addChild(y,C,S,b)}b=P.closeIndex+1}else if(d.substr(b+1,3)==="!--"){let P=js(d,"-->",b+4,"Comment is not closed.");if(this.options.commentPropName){let C=d.substring(b+4,P-2);v=this.saveTextToParentTag(v,y,S),y.add(this.options.commentPropName,[{[this.options.textNodeName]:C}])}b=P}else if(d.substr(b+1,2)==="!D"){let P=le(d,b);this.docTypeEntities=P.entities,b=P.i}else if(d.substr(b+1,2)==="!["){let P=js(d,"]]>",b,"CDATA is not closed.")-2,C=d.substring(b+9,P);v=this.saveTextToParentTag(v,y,S);let D=this.parseTextData(C,y.tagname,S,!0,!1,!0,!0);D==null&&(D=""),this.options.cdataPropName?y.add(this.options.cdataPropName,[{[this.options.textNodeName]:C}]):y.add(this.options.textNodeName,D),b=P+2}else{let P=xm(d,b,this.options.removeNSPrefix),C=P.tagName,D=P.rawTagName,L=P.tagExp,ee=P.attrExpPresent,W=P.closeIndex;this.options.transformTagName&&(C=this.options.transformTagName(C)),y&&v&&y.tagname!=="!xml"&&(v=this.saveTextToParentTag(v,y,S,!1));let Se=y;Se&&this.options.unpairedTags.indexOf(Se.tagname)!==-1&&(y=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),C!==p.tagname&&(S+=S?"."+C:C);let Ae=b;if(this.isItStopNode(this.options.stopNodes,S,C)){let be="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)C[C.length-1]==="/"?(C=C.substr(0,C.length-1),S=S.substr(0,S.length-1),L=C):L=L.substr(0,L.length-1),b=P.closeIndex;else if(this.options.unpairedTags.indexOf(C)!==-1)b=P.closeIndex;else{let Ar=this.readStopNodeData(d,D,W+1);if(!Ar)throw new Error(`Unexpected end of ${D}`);b=Ar.i,be=Ar.tagContent}let Ke=new qe(C);C!==L&&ee&&(Ke[":@"]=this.buildAttributesMap(L,S,C)),be&&(be=this.parseTextData(be,C,S,!0,ee,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),Ke.add(this.options.textNodeName,be),this.addChild(y,Ke,S,Ae)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){C[C.length-1]==="/"?(C=C.substr(0,C.length-1),S=S.substr(0,S.length-1),L=C):L=L.substr(0,L.length-1),this.options.transformTagName&&(C=this.options.transformTagName(C));let be=new qe(C);C!==L&&ee&&(be[":@"]=this.buildAttributesMap(L,S,C)),this.addChild(y,be,S,Ae),S=S.substr(0,S.lastIndexOf("."))}else{let be=new qe(C);this.tagsNodeStack.push(y),C!==L&&ee&&(be[":@"]=this.buildAttributesMap(L,S,C)),this.addChild(y,be,S,Ae),y=be}v="",b=W}}else v+=d[b];return p.child};function KU(d,p,y,v){this.options.captureMetaData||(v=void 0);let S=this.options.updateTag(p.tagname,y,p[":@"]);S===!1||(typeof S=="string"&&(p.tagname=S),d.addChild(p,v))}let YU=function(d){if(this.options.processEntities){for(let p in this.docTypeEntities){let y=this.docTypeEntities[p];d=d.replace(y.regx,y.val)}for(let p in this.lastEntities){let y=this.lastEntities[p];d=d.replace(y.regex,y.val)}if(this.options.htmlEntities)for(let p in this.htmlEntities){let y=this.htmlEntities[p];d=d.replace(y.regex,y.val)}d=d.replace(this.ampEntity.regex,this.ampEntity.val)}return d};function XU(d,p,y,v){return d&&(v===void 0&&(v=p.child.length===0),(d=this.parseTextData(d,p.tagname,y,!1,!!p[":@"]&&Object.keys(p[":@"]).length!==0,v))!==void 0&&d!==""&&p.add(this.options.textNodeName,d),d=""),d}function QU(d,p,y){let v="*."+y;for(let S in d){let b=d[S];if(v===b||p===b)return!0}return!1}function js(d,p,y,v){let S=d.indexOf(p,y);if(S===-1)throw new Error(v);return S+p.length-1}function xm(d,p,y,v=">"){let S=function(W,Se,Ae=">"){let be,Ke="";for(let Ar=Se;Ar<W.length;Ar++){let $n=W[Ar];if(be)$n===be&&(be="");else if($n==='"'||$n==="'")be=$n;else if($n===Ae[0]){if(!Ae[1])return{data:Ke,index:Ar};if(W[Ar+1]===Ae[1])return{data:Ke,index:Ar}}else $n==="	"&&($n=" ");Ke+=$n}}(d,p+1,v);if(!S)return;let b=S.data,P=S.index,C=b.search(/\s/),D=b,L=!0;C!==-1&&(D=b.substring(0,C),b=b.substring(C+1).trimStart());let ee=D;if(y){let W=D.indexOf(":");W!==-1&&(D=D.substr(W+1),L=D!==S.data.substr(W+1))}return{tagName:D,tagExp:b,closeIndex:P,attrExpPresent:L,rawTagName:ee}}function ZU(d,p,y){let v=y,S=1;for(;y<d.length;y++)if(d[y]==="<")if(d[y+1]==="/"){let b=js(d,">",y,`${p} is not closed`);if(d.substring(y+2,b).trim()===p&&(S--,S===0))return{tagContent:d.substring(v,y),i:b};y=b}else if(d[y+1]==="?")y=js(d,"?>",y+1,"StopNode is not closed.");else if(d.substr(y+1,3)==="!--")y=js(d,"-->",y+3,"StopNode is not closed.");else if(d.substr(y+1,2)==="![")y=js(d,"]]>",y,"StopNode is not closed.")-2;else{let b=xm(d,y,">");b&&((b&&b.tagName)===p&&b.tagExp[b.tagExp.length-1]!=="/"&&S++,y=b.closeIndex)}}function j_(d,p,y){if(p&&typeof d=="string"){let v=d.trim();return v==="true"||v!=="false"&&function(S,b={}){if(b=Object.assign({},FU,b),!S||typeof S!="string")return S;let P=S.trim();if(b.skipLike!==void 0&&b.skipLike.test(P))return S;if(S==="0")return 0;if(b.hex&&UU.test(P))return function(D){if(parseInt)return parseInt(D,16);if(Number.parseInt)return Number.parseInt(D,16);if(window&&window.parseInt)return window.parseInt(D,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}(P);if(P.search(/.+[eE].+/)!==-1)return function(D,L,ee){if(!ee.eNotation)return D;let W=L.match($U);if(W){let Se=W[1]||"",Ae=W[3].indexOf("e")===-1?"E":"e",be=W[2],Ke=Se?D[be.length+1]===Ae:D[be.length]===Ae;return be.length>1&&Ke?D:be.length!==1||!W[3].startsWith(`.${Ae}`)&&W[3][0]!==Ae?ee.leadingZeros&&!Ke?(L=(W[1]||"")+W[3],Number(L)):D:Number(L)}return D}(S,P,b);{let D=BU.exec(P);if(D){let L=D[1]||"",ee=D[2],W=((C=D[3])&&C.indexOf(".")!==-1&&((C=C.replace(/0+$/,""))==="."?C="0":C[0]==="."?C="0"+C:C[C.length-1]==="."&&(C=C.substring(0,C.length-1))),C),Se=L?S[ee.length+1]===".":S[ee.length]===".";if(!b.leadingZeros&&(ee.length>1||ee.length===1&&!Se))return S;{let Ae=Number(P),be=String(Ae);if(Ae===0||Ae===-0)return Ae;if(be.search(/[eE]/)!==-1)return b.eNotation?Ae:S;if(P.indexOf(".")!==-1)return be==="0"||be===W||be===`${L}${W}`?Ae:S;let Ke=ee?W:P;return ee?Ke===be||L+Ke===be?Ae:S:Ke===be||Ke===L+be?Ae:S}}return S}var C}(d,y)}return d!==void 0?d:""}let Im=qe.getMetaDataSymbol();function JU(d,p){return G_(d,p)}function G_(d,p,y){let v,S={};for(let b=0;b<d.length;b++){let P=d[b],C=eB(P),D="";if(D=y===void 0?C:y+"."+C,C===p.textNodeName)v===void 0?v=P[C]:v+=""+P[C];else{if(C===void 0)continue;if(P[C]){let L=G_(P[C],p,D),ee=rB(L,p);P[Im]!==void 0&&(L[Im]=P[Im]),P[":@"]?tB(L,P[":@"],D,p):Object.keys(L).length!==1||L[p.textNodeName]===void 0||p.alwaysCreateTextNode?Object.keys(L).length===0&&(p.alwaysCreateTextNode?L[p.textNodeName]="":L=""):L=L[p.textNodeName],S[C]!==void 0&&S.hasOwnProperty(C)?(Array.isArray(S[C])||(S[C]=[S[C]]),S[C].push(L)):p.isArray(C,D,ee)?S[C]=[L]:S[C]=L}}}return typeof v=="string"?v.length>0&&(S[p.textNodeName]=v):v!==void 0&&(S[p.textNodeName]=v),S}function eB(d){let p=Object.keys(d);for(let y=0;y<p.length;y++){let v=p[y];if(v!==":@")return v}}function tB(d,p,y,v){if(p){let S=Object.keys(p),b=S.length;for(let P=0;P<b;P++){let C=S[P];v.isArray(C,y+"."+C,!0,!0)?d[C]=[p[C]]:d[C]=p[C]}}}function rB(d,p){let{textNodeName:y}=p,v=Object.keys(d).length;return v===0||!(v!==1||!d[y]&&typeof d[y]!="boolean"&&d[y]!==0)}class nB{constructor(p){this.externalEntities={},this.options=function(y){return Object.assign({},re,y)}(p)}parse(p,y){if(typeof p!="string"){if(!p.toString)throw new Error("XML data is accepted in String or Bytes[] form.");p=p.toString()}if(y){y===!0&&(y={});let b=a(p,y);if(b!==!0)throw Error(`${b.err.msg}:${b.err.line}:${b.err.col}`)}let v=new jU(this.options);v.addExternalEntities(this.externalEntities);let S=v.parseXml(p);return this.options.preserveOrder||S===void 0?S:JU(S,this.options)}addEntity(p,y){if(y.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(p.indexOf("&")!==-1||p.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(y==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[p]=y}static getMetaDataSymbol(){return qe.getMetaDataSymbol()}}function sB(d,p){let y="";return p.format&&p.indentBy.length>0&&(y=`
`),q_(d,p,"",y)}function q_(d,p,y,v){let S="",b=!1;for(let P=0;P<d.length;P++){let C=d[P],D=oB(C);if(D===void 0)continue;let L="";if(L=y.length===0?D:`${y}.${D}`,D===p.textNodeName){let Ae=C[D];iB(L,p)||(Ae=p.tagValueProcessor(D,Ae),Ae=V_(Ae,p)),b&&(S+=v),S+=Ae,b=!1;continue}if(D===p.cdataPropName){b&&(S+=v),S+=`<![CDATA[${C[D][0][p.textNodeName]}]]>`,b=!1;continue}if(D===p.commentPropName){S+=v+`<!--${C[D][0][p.textNodeName]}-->`,b=!0;continue}if(D[0]==="?"){let Ae=H_(C[":@"],p),be=D==="?xml"?"":v,Ke=C[D][0][p.textNodeName];Ke=Ke.length!==0?" "+Ke:"",S+=be+`<${D}${Ke}${Ae}?>`,b=!0;continue}let ee=v;ee!==""&&(ee+=p.indentBy);let W=v+`<${D}${H_(C[":@"],p)}`,Se=q_(C[D],p,L,ee);p.unpairedTags.indexOf(D)!==-1?p.suppressUnpairedNode?S+=W+">":S+=W+"/>":Se&&Se.length!==0||!p.suppressEmptyNode?Se&&Se.endsWith(">")?S+=W+`>${Se}${v}</${D}>`:(S+=W+">",Se&&v!==""&&(Se.includes("/>")||Se.includes("</"))?S+=v+p.indentBy+Se+v:S+=Se,S+=`</${D}>`):S+=W+"/>",b=!0}return S}function oB(d){let p=Object.keys(d);for(let y=0;y<p.length;y++){let v=p[y];if(d.hasOwnProperty(v)&&v!==":@")return v}}function H_(d,p){let y="";if(d&&!p.ignoreAttributes)for(let v in d){if(!d.hasOwnProperty(v))continue;let S=p.attributeValueProcessor(v,d[v]);S=V_(S,p),S===!0&&p.suppressBooleanAttributes?y+=` ${v.substr(p.attributeNamePrefix.length)}`:y+=` ${v.substr(p.attributeNamePrefix.length)}="${S}"`}return y}function iB(d,p){let y=(d=d.substr(0,d.length-p.textNodeName.length-1)).substr(d.lastIndexOf(".")+1);for(let v in p.stopNodes)if(p.stopNodes[v]===d||p.stopNodes[v]==="*."+y)return!0;return!1}function V_(d,p){if(d&&d.length>0&&p.processEntities)for(let y=0;y<p.entities.length;y++){let v=p.entities[y];d=d.replace(v.regex,v.val)}return d}let aB={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,p){return p},attributeValueProcessor:function(d,p){return p},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Fn(d){this.options=Object.assign({},aB,d),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=$_(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=lB),this.processTextOrObjNode=cB,this.options.format?(this.indentate=uB,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function cB(d,p,y,v){let S=this.j2x(d,y+1,v.concat(p));return d[this.options.textNodeName]!==void 0&&Object.keys(d).length===1?this.buildTextValNode(d[this.options.textNodeName],p,S.attrStr,y):this.buildObjectNode(S.val,p,S.attrStr,y)}function uB(d){return this.options.indentBy.repeat(d)}function lB(d){return!(!d.startsWith(this.options.attributeNamePrefix)||d===this.options.textNodeName)&&d.substr(this.attrPrefixLen)}Fn.prototype.build=function(d){return this.options.preserveOrder?sB(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0,[]).val)},Fn.prototype.j2x=function(d,p,y){let v="",S="",b=y.join(".");for(let P in d)if(Object.prototype.hasOwnProperty.call(d,P))if(d[P]===void 0)this.isAttribute(P)&&(S+="");else if(d[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?S+="":P[0]==="?"?S+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:S+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(d[P]instanceof Date)S+=this.buildTextValNode(d[P],P,"",p);else if(typeof d[P]!="object"){let C=this.isAttribute(P);if(C&&!this.ignoreAttributesFn(C,b))v+=this.buildAttrPairStr(C,""+d[P]);else if(!C)if(P===this.options.textNodeName){let D=this.options.tagValueProcessor(P,""+d[P]);S+=this.replaceEntitiesValue(D)}else S+=this.buildTextValNode(d[P],P,"",p)}else if(Array.isArray(d[P])){let C=d[P].length,D="",L="";for(let ee=0;ee<C;ee++){let W=d[P][ee];if(W!==void 0)if(W===null)P[0]==="?"?S+=this.indentate(p)+"<"+P+"?"+this.tagEndChar:S+=this.indentate(p)+"<"+P+"/"+this.tagEndChar;else if(typeof W=="object")if(this.options.oneListGroup){let Se=this.j2x(W,p+1,y.concat(P));D+=Se.val,this.options.attributesGroupName&&W.hasOwnProperty(this.options.attributesGroupName)&&(L+=Se.attrStr)}else D+=this.processTextOrObjNode(W,P,p,y);else if(this.options.oneListGroup){let Se=this.options.tagValueProcessor(P,W);Se=this.replaceEntitiesValue(Se),D+=Se}else D+=this.buildTextValNode(W,P,"",p)}this.options.oneListGroup&&(D=this.buildObjectNode(D,P,L,p)),S+=D}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let C=Object.keys(d[P]),D=C.length;for(let L=0;L<D;L++)v+=this.buildAttrPairStr(C[L],""+d[P][C[L]])}else S+=this.processTextOrObjNode(d[P],P,p,y);return{attrStr:v,val:S}},Fn.prototype.buildAttrPairStr=function(d,p){return p=this.options.attributeValueProcessor(d,""+p),p=this.replaceEntitiesValue(p),this.options.suppressBooleanAttributes&&p==="true"?" "+d:" "+d+'="'+p+'"'},Fn.prototype.buildObjectNode=function(d,p,y,v){if(d==="")return p[0]==="?"?this.indentate(v)+"<"+p+y+"?"+this.tagEndChar:this.indentate(v)+"<"+p+y+this.closeTag(p)+this.tagEndChar;{let S="</"+p+this.tagEndChar,b="";return p[0]==="?"&&(b="?",S=""),!y&&y!==""||d.indexOf("<")!==-1?this.options.commentPropName!==!1&&p===this.options.commentPropName&&b.length===0?this.indentate(v)+`<!--${d}-->`+this.newLine:this.indentate(v)+"<"+p+y+b+this.tagEndChar+d+this.indentate(v)+S:this.indentate(v)+"<"+p+y+b+">"+d+S}},Fn.prototype.closeTag=function(d){let p="";return this.options.unpairedTags.indexOf(d)!==-1?this.options.suppressUnpairedNode||(p="/"):p=this.options.suppressEmptyNode?"/":`></${d}`,p},Fn.prototype.buildTextValNode=function(d,p,y,v){if(this.options.cdataPropName!==!1&&p===this.options.cdataPropName)return this.indentate(v)+`<![CDATA[${d}]]>`+this.newLine;if(this.options.commentPropName!==!1&&p===this.options.commentPropName)return this.indentate(v)+`<!--${d}-->`+this.newLine;if(p[0]==="?")return this.indentate(v)+"<"+p+y+"?"+this.tagEndChar;{let S=this.options.tagValueProcessor(p,d);return S=this.replaceEntitiesValue(S),S===""?this.indentate(v)+"<"+p+y+this.closeTag(p)+this.tagEndChar:this.indentate(v)+"<"+p+y+">"+S+"</"+p+this.tagEndChar}},Fn.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let p=0;p<this.options.entities.length;p++){let y=this.options.entities[p];d=d.replace(y.regex,y.val)}return d};let dB={validate:a};qI.exports=e})()});var VI=R(xy=>{"use strict";Object.defineProperty(xy,"__esModule",{value:!0});xy.parseXML=g3;var h3=HI(),wy=new h3.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(t,e)=>e.trim()===""&&e.includes(`
`)?"":void 0});wy.addEntity("#xD","\r");wy.addEntity("#10",`
`);function g3(t){return wy.parse(t,!0)}});var Bl=R(Ul=>{"use strict";var y3=VI();function E3(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function S3(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var Ml=class{value;constructor(e){this.value=e}toString(){return S3(""+this.value)}},Iy=class t{name;children;attributes={};static of(e,r,n){let s=new t(e);return r!==void 0&&s.addChildNode(new Ml(r)),n!==void 0&&s.withName(n),s}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,n=r){if(e[r]!=null){let s=t.of(r,e[r]).withName(n);this.c(s)}}l(e,r,n,s){e[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(e,r,n,s){if(e[r]!=null){let o=s(),i=new t(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let e=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${E3(""+o)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Ul,"parseXML",{enumerable:!0,get:function(){return y3.parseXML}});Ul.XmlNode=Iy;Ul.XmlText=Ml});var zI,WI,KI,cs,Fl=_(()=>{zI=T(Bl());Nt();Te();WI=T(te()),KI=T(Je());ss();cs=class extends mt{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new Ys(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,n){let s=$.of(e),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(u=>!!u.getMemberTraits().eventPayload)){let u={},f=Object.keys(o)[0];return o[f].isBlobSchema()?u[f]=r:u[f]=this.read(o[f],r),u}let a=(this.serdeContext?.utf8Encoder??KI.toUtf8)(r),c=this.parseXml(a);return this.readSchema(e,n?c[n]:c)}readSchema(e,r){let n=$.of(e);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let c=n.getValueSchema(),u=[],f=c.getMergedTraits().xmlName??"member",m=i?r:(r[0]??r)[f],g=Array.isArray(m)?m:[m];for(let h of g)(h!=null||o)&&u.push(this.readSchema(c,h));return u}let a={};if(n.isMapSchema()){let c=n.getKeySchema(),u=n.getValueSchema(),f;i?f=Array.isArray(r)?r:[r]:f=Array.isArray(r.entry)?r.entry:[r.entry];let m=c.getMergedTraits().xmlName??"key",g=u.getMergedTraits().xmlName??"value";for(let h of f){let E=h[m],w=h[g];(w!=null||o)&&(a[E]=this.readSchema(u,w))}return a}if(n.isStructSchema()){for(let[c,u]of n.structIterator()){let f=u.getMergedTraits(),m=f.httpPayload?f.xmlName??u.getName():u.getMemberTraits().xmlName??c;r[m]!=null&&(a[c]=this.readSchema(u,r[m]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(e){if(e.length){let r;try{r=(0,zI.parseXML)(e)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:e}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,WI.getValueFromTextNode)(o)}return{}}}});var YI,XI,$l,QI=_(()=>{Nt();Te();Dt();YI=T(te()),XI=T(Qe());ss();$a();$l=class extends mt{settings;buffer;constructor(e){super(),this.settings=e}write(e,r,n=""){this.buffer===void 0&&(this.buffer="");let s=$.of(e);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??XI.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Yt.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof Me?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),$t(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,YI.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let c of r){if(c==null)continue;let u=this.getKey("member",o.getMergedTraits().xmlName),f=i?`${n}${a}`:`${n}${u}.${a}`;this.write(o,c,f),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,c=1;for(let[u,f]of Object.entries(r)){if(f==null)continue;let m=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${n}${c}.${m}`:`${n}entry.${c}.${m}`,h=this.getKey("value",i.getMergedTraits().xmlName),E=a?`${n}${c}.${h}`:`${n}entry.${c}.${h}`;this.write(o,u,g),this.write(i,f,E),++c}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,i]of ui(s,r)){if(r[o]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(o,i.getMergedTraits().xmlName),c=`${n}${a}`;this.write(i,r[o],c)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let e=this.buffer;return delete this.buffer,e}getKey(e,r){let n=r??e;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(e){e.endsWith(".")&&(e=e.slice(0,e.length-1)),this.buffer+=`&${Pr(e)}=`}writeValue(e){this.buffer+=Pr(e)}}});var us,Cy=_(()=>{Nt();Te();ci();Fl();QI();us=class extends ln{options;serializer;deserializer;mixin=new Qt;constructor(e){super({defaultNamespace:e.defaultNamespace}),this.options=e;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace,serializeEmptyLists:!0};this.serializer=new $l(r),this.deserializer=new cs(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(e){this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(dr(e.input)==="unit"||!s.body)&&(s.body="");let o=e.name.split("#")[1]??e.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(e,r,n){let s=this.deserializer,o=$.of(e.output),i={};if(n.statusCode>=300){let m=await Kt(n.body,r);m.byteLength>0&&Object.assign(i,await s.read(15,m)),await this.handleError(e,r,n,i,this.deserializeMetadata(n))}for(let m in n.headers){let g=n.headers[m];delete n.headers[m],n.headers[m.toLowerCase()]=g}let a=e.name.split("#")[1]??e.name,c=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,u=await Kt(n.body,r);return u.byteLength>0&&Object.assign(i,await s.read(o,u,c)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(e,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),c=this.loadQueryErrorMessage(s);a.message=c,a.Error={Type:a.Type,Code:a.Code,Message:c};let{errorSchema:u,errorMetadata:f}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,(w,I)=>{try{return w.getSchema(I)}catch{return w.find(N=>$.of(N).getMergedTraits().awsQueryError?.[0]===I)}}),m=$.of(u),g=Q.for(u[1]).getErrorCtor(u)??Error,h=new g(c),E={Error:a.Error};for(let[w,I]of m.structIterator()){let A=I.getMergedTraits().xmlName??w,N=a[A]??s[A];E[w]=this.deserializer.readSchema(I,N)}throw this.mixin.decorateServiceException(Object.assign(h,f,{$fault:m.getMergedTraits().error,message:c},E),s)}loadQueryErrorCode(e,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(e.statusCode==404)return"NotFound"}loadQueryError(e){return e.Errors?.[0]?.Error??e.Errors?.Error??e.Error}loadQueryErrorMessage(e){let r=this.loadQueryError(e);return r?.message??r?.Message??e.message??e.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var jl,ZI=_(()=>{Cy();jl=class extends us{options;constructor(e){super(e),this.options=e;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var JI,e0,Ay,t0,Gl,Ry=_(()=>{JI=T(Bl()),e0=T(te());_y();Ay=(t,e)=>Pl(t,e).then(r=>{if(r.length){let n;try{n=(0,JI.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,e0.getValueFromTextNode)(i)}return{}}),t0=async(t,e)=>{let r=await Ay(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Gl=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var Zt,Py,ql,fi,Dy=_(()=>{Zt=T(Bl());Nt();Te();Dt();Py=T(te()),ql=T(Qe());ss();$a();fi=class extends mt{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let n=$.of(e);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??ql.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&(e?.attributes?.xmlns||e.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,e.toString()}writeStruct(e,r,n){let s=e.getMergedTraits(),o=e.isMemberSchema()&&!s.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():s.xmlName??e.getName();if(!o||!e.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let i=Zt.XmlNode.of(o),[a,c]=this.getXmlnsAttribute(e,n);for(let[u,f]of ui(e,r)){let m=r[u];if(m!=null||f.isIdempotencyToken()){if(f.getMergedTraits().xmlAttribute){i.addAttribute(f.getMergedTraits().xmlName??u,this.writeSimple(f,m));continue}if(f.isListSchema())this.writeList(f,m,i,c);else if(f.isMapSchema())this.writeMap(f,m,i,c);else if(f.isStructSchema())i.addChildNode(this.writeStruct(f,m,c));else{let g=Zt.XmlNode.of(f.getMergedTraits().xmlName??f.getMemberName());this.writeSimpleInto(f,m,g,c),i.addChildNode(g)}}}return c&&i.addAttribute(a,c),i}writeList(e,r,n,s){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let o=e.getMergedTraits(),i=e.getValueSchema(),a=i.getMergedTraits(),c=!!a.sparse,u=!!o.xmlFlattened,[f,m]=this.getXmlnsAttribute(e,s),g=(h,E)=>{if(i.isListSchema())this.writeList(i,Array.isArray(E)?E:[E],h,m);else if(i.isMapSchema())this.writeMap(i,E,h,m);else if(i.isStructSchema()){let w=this.writeStruct(i,E,m);h.addChildNode(w.withName(u?o.xmlName??e.getMemberName():a.xmlName??"member"))}else{let w=Zt.XmlNode.of(u?o.xmlName??e.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,E,w,m),h.addChildNode(w)}};if(u)for(let h of r)(c||h!=null)&&g(n,h);else{let h=Zt.XmlNode.of(o.xmlName??e.getMemberName());m&&h.addAttribute(f,m);for(let E of r)(c||E!=null)&&g(h,E);n.addChildNode(h)}}writeMap(e,r,n,s,o=!1){if(!e.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let i=e.getMergedTraits(),a=e.getKeySchema(),u=a.getMergedTraits().xmlName??"key",f=e.getValueSchema(),m=f.getMergedTraits(),g=m.xmlName??"value",h=!!m.sparse,E=!!i.xmlFlattened,[w,I]=this.getXmlnsAttribute(e,s),A=(N,U,z)=>{let re=Zt.XmlNode.of(u,U),[ge,qe]=this.getXmlnsAttribute(a,I);qe&&re.addAttribute(ge,qe),N.addChildNode(re);let le=Zt.XmlNode.of(g);f.isListSchema()?this.writeList(f,z,le,I):f.isMapSchema()?this.writeMap(f,z,le,I,!0):f.isStructSchema()?le=this.writeStruct(f,z,I):this.writeSimpleInto(f,z,le,I),N.addChildNode(le)};if(E){for(let[N,U]of Object.entries(r))if(h||U!=null){let z=Zt.XmlNode.of(i.xmlName??e.getMemberName());A(z,N,U),n.addChildNode(z)}}else{let N;o||(N=Zt.XmlNode.of(i.xmlName??e.getMemberName()),I&&N.addAttribute(w,I),n.addChildNode(N));for(let[U,z]of Object.entries(r))if(h||z!=null){let re=Zt.XmlNode.of("entry");A(re,U,z),(o?n:N).addChildNode(re)}}}writeSimple(e,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=$.of(e),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??ql.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch($t(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,Py.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,Py.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof Me?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Yt.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(e,r,n,s){let o=this.writeSimple(e,r),i=$.of(e),a=new Zt.XmlText(o),[c,u]=this.getXmlnsAttribute(i,s);u&&n.addAttribute(c,u),n.addChildNode(a)}getXmlnsAttribute(e,r){let n=e.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var mi,Ny=_(()=>{ss();Fl();Dy();mi=class extends mt{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new fi(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new cs(this.settings);return e.setSerdeContext(this.serdeContext),e}}});var Hl,r0=_(()=>{Nt();Te();ci();Ry();Ny();Hl=class extends Ks{codec;serializer;deserializer;mixin=new Qt;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new mi(r),this.serializer=new Qs(this.codec.createSerializer(),r),this.deserializer=new Xs(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,n){let s=await super.serializeRequest(e,r,n),o=$.of(e.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(e,r,n){return super.deserializeResponse(e,r,n)}async handleError(e,r,n,s,o){let i=Gl(n,s)??"Unknown",{errorSchema:a,errorMetadata:c}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),u=$.of(a),f=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",m=Q.for(a[1]).getErrorCtor(a)??Error,g=new m(f);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[E,w]of u.structIterator()){let I=w.getMergedTraits().xmlName??E,A=s.Error?.[I]??s[I];h[E]=this.codec.createDeserializer().readSchema(w,A)}throw this.mixin.decorateServiceException(Object.assign(g,c,{$fault:u.getMergedTraits().error,message:f},h),s)}getDefaultContentType(){return"application/xml"}}});var Vl={};at(Vl,{AwsEc2QueryProtocol:()=>jl,AwsJson1_0Protocol:()=>kl,AwsJson1_1Protocol:()=>Ll,AwsJsonRpcProtocol:()=>is,AwsQueryProtocol:()=>us,AwsRestJsonProtocol:()=>as,AwsRestXmlProtocol:()=>Hl,AwsSmithyRpcV2CborProtocol:()=>Rl,JsonCodec:()=>os,JsonShapeDeserializer:()=>di,JsonShapeSerializer:()=>pi,XmlCodec:()=>mi,XmlShapeDeserializer:()=>cs,XmlShapeSerializer:()=>fi,_toBool:()=>xI,_toNum:()=>II,_toStr:()=>wI,awsExpectUnion:()=>jI,loadRestJsonErrorCode:()=>li,loadRestXmlErrorCode:()=>Gl,parseJsonBody:()=>ja,parseJsonErrorBody:()=>OI,parseXmlBody:()=>Ay,parseXmlErrorBody:()=>t0});var ls=_(()=>{vI();CI();UI();BI();Ol();FI();Nl();by();vy();GI();Ga();ZI();Cy();r0();Ny();Fl();Dy();Ry()});var _n={};at(_n,{AWSSDKSigV4Signer:()=>Cg,AwsEc2QueryProtocol:()=>jl,AwsJson1_0Protocol:()=>kl,AwsJson1_1Protocol:()=>Ll,AwsJsonRpcProtocol:()=>is,AwsQueryProtocol:()=>us,AwsRestJsonProtocol:()=>as,AwsRestXmlProtocol:()=>Hl,AwsSdkSigV4ASigner:()=>La,AwsSdkSigV4Signer:()=>pt,AwsSmithyRpcV2CborProtocol:()=>Rl,JsonCodec:()=>os,JsonShapeDeserializer:()=>di,JsonShapeSerializer:()=>pi,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Qn,NODE_SIGV4A_CONFIG_OPTIONS:()=>_x,XmlCodec:()=>mi,XmlShapeDeserializer:()=>cs,XmlShapeSerializer:()=>fi,_toBool:()=>xI,_toNum:()=>II,_toStr:()=>wI,awsExpectUnion:()=>jI,emitWarningIfUnsupportedVersion:()=>Yn,getBearerTokenEnvKey:()=>dl,loadRestJsonErrorCode:()=>li,loadRestXmlErrorCode:()=>Gl,parseJsonBody:()=>ja,parseJsonErrorBody:()=>OI,parseXmlBody:()=>Ay,parseXmlErrorBody:()=>t0,resolveAWSSDKSigV4Config:()=>zx,resolveAwsSdkSigV4AConfig:()=>Sx,resolveAwsSdkSigV4Config:()=>mn,setCredentialFeature:()=>Xn,setFeature:()=>nx,setTokenFeature:()=>ox,state:()=>ll,validateSigningProperties:()=>si});var tt=_(()=>{Xt();zg();ls()});var so=R(hi=>{"use strict";var _3=(lt(),ie(Zs)),b3=eo(),T3=Re(),kr=(tt(),ie(_n)),i0=void 0;function v3(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}function w3(t){let e=_3.normalizeProvider(t.userAgentAppId??i0),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await e();if(!v3(n)){let s=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var x3=/\d{12}\.ddb/;async function I3(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&kr.setFeature(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let o=await e.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?kr.setFeature(t,"RETRY_MODE_ADAPTIVE","F"):kr.setFeature(t,"RETRY_MODE_STANDARD","E"):kr.setFeature(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let o=t.endpointV2;switch(String(o?.url?.hostname).match(x3)&&kr.setFeature(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":kr.setFeature(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":kr.setFeature(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":kr.setFeature(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&kr.setFeature(t,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))kr.setFeature(t,i,a)}}var n0="user-agent",Oy="x-amz-user-agent",s0=" ",ky="/",C3=/[^!$%&'*+\-.^_`|~\w]/g,A3=/[^!$%&'*+\-.^_`|~\w#]/g,o0="-",R3=1024;function P3(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=R3){e.length?e+=","+n:e+=n;continue}break}return e}var a0=t=>(e,r)=>async n=>{let{request:s}=n;if(!T3.HttpRequest.isInstance(s))return e(n);let{headers:o}=s,i=r?.userAgent?.map(zl)||[],a=(await t.defaultUserAgentProvider()).map(zl);await I3(r,t,n);let c=r;a.push(`m/${P3(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(zl)||[],f=await t.userAgentAppId();f&&a.push(zl(["app",`${f}`]));let m=b3.getUserAgentPrefix(),g=(m?[m]:[]).concat([...a,...i,...u]).join(s0),h=[...a.filter(E=>E.startsWith("aws-sdk-")),...u].join(s0);return t.runtime!=="browser"?(h&&(o[Oy]=o[Oy]?`${o[n0]} ${h}`:h),o[n0]=g):o[Oy]=g,e({...n,request:s})},zl=t=>{let e=t[0].split(ky).map(i=>i.replace(C3,o0)).join(ky),r=t[1]?.replace(A3,o0),n=e.indexOf(ky),s=e.substring(0,n),o=e.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,a,c)=>{switch(c){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},c0={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},D3=t=>({applyToStack:e=>{e.add(a0(t),c0)}});hi.DEFAULT_UA_APP_ID=i0;hi.getUserAgentMiddlewareOptions=c0;hi.getUserAgentPlugin=D3;hi.resolveUserAgentConfig=w3;hi.userAgentMiddleware=a0});var u0=R(gi=>{"use strict";var N3=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},O3=(t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n};gi.SelectorType=void 0;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(gi.SelectorType||(gi.SelectorType={}));gi.booleanSelector=N3;gi.numberSelector=O3});var Ot=R(nt=>{"use strict";var ds=u0(),Wl=ct(),k3=Kn(),p0="AWS_USE_DUALSTACK_ENDPOINT",f0="use_dualstack_endpoint",L3=!1,M3={environmentVariableSelector:t=>ds.booleanSelector(t,p0,ds.SelectorType.ENV),configFileSelector:t=>ds.booleanSelector(t,f0,ds.SelectorType.CONFIG),default:!1},m0="AWS_USE_FIPS_ENDPOINT",h0="use_fips_endpoint",U3=!1,B3={environmentVariableSelector:t=>ds.booleanSelector(t,m0,ds.SelectorType.ENV),configFileSelector:t=>ds.booleanSelector(t,h0,ds.SelectorType.CONFIG),default:!1},F3=t=>{let{tls:e,endpoint:r,urlParser:n,useDualstackEndpoint:s}=t;return Object.assign(t,{tls:e??!0,endpoint:Wl.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:Wl.normalizeProvider(s??!1)})},$3=async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await t.useDualstackEndpoint(),o=await t.useFipsEndpoint(),{hostname:i}=await t.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${i}`)},j3=t=>{let e=Wl.normalizeProvider(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=t;return Object.assign(t,{tls:o??!0,endpoint:r?Wl.normalizeProvider(typeof r=="string"?s(r):r):()=>$3({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e})},g0="AWS_REGION",y0="region",G3={environmentVariableSelector:t=>t[g0],configFileSelector:t=>t[y0],default:()=>{throw new Error("Region is missing")}},q3={preferredFile:"credentials"},l0=new Set,H3=(t,e=k3.isValidHostLabel)=>{if(!l0.has(t)&&!e(t))if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${t}" is not a valid hostname component.`);else l0.add(t)},E0=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),V3=t=>E0(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,z3=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{let n=typeof e=="function"?await e():e,s=V3(n);return H3(s),s},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return E0(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},d0=(t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>t.find(({tags:n})=>e===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,W3=(t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),K3=(t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws",Y3=(t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=t.match(s);if(o)return o[0].slice(1,-1)}},X3=(t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=K3(t,{partitionHash:o}),a=t in s?t:o[i]?.endpoint??t,c={useFipsEndpoint:e,useDualstackEndpoint:r},u=d0(s[a]?.variants,c),f=d0(o[i]?.variants,c),m=W3(a,{regionHostname:u,partitionHostname:f});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let g=Y3(m,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:e});return{partition:i,signingService:n,hostname:m,...g&&{signingRegion:g},...s[a]?.signingService&&{signingService:s[a].signingService}}};nt.CONFIG_USE_DUALSTACK_ENDPOINT=f0;nt.CONFIG_USE_FIPS_ENDPOINT=h0;nt.DEFAULT_USE_DUALSTACK_ENDPOINT=L3;nt.DEFAULT_USE_FIPS_ENDPOINT=U3;nt.ENV_USE_DUALSTACK_ENDPOINT=p0;nt.ENV_USE_FIPS_ENDPOINT=m0;nt.NODE_REGION_CONFIG_FILE_OPTIONS=q3;nt.NODE_REGION_CONFIG_OPTIONS=G3;nt.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=M3;nt.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=B3;nt.REGION_ENV_NAME=g0;nt.REGION_INI_NAME=y0;nt.getRegionInfo=X3;nt.resolveCustomEndpointsConfig=F3;nt.resolveEndpointsConfig=j3;nt.resolveRegionConfig=z3});var yi=R(Kl=>{"use strict";var Q3=Re(),S0="content-length";function _0(t){return e=>async r=>{let n=r.request;if(Q3.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(S0)===-1)try{let i=t(s);n.headers={...n.headers,[S0]:String(i)}}catch{}}return e({...r,request:n})}}var b0={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Z3=t=>({applyToStack:e=>{e.add(_0(t.bodyLengthChecker),b0)}});Kl.contentLengthMiddleware=_0;Kl.contentLengthMiddlewareOptions=b0;Kl.getContentLengthPlugin=Z3});var My=R(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.getHomeDir=void 0;var J3=ue("os"),eG=ue("path"),Ly={},tG=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",rG=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${eG.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let s=tG();return Ly[s]||(Ly[s]=(0,J3.homedir)()),Ly[s]};Yl.getHomeDir=rG});var Uy=R(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.getSSOTokenFilepath=void 0;var nG=ue("crypto"),sG=ue("path"),oG=My(),iG=t=>{let r=(0,nG.createHash)("sha1").update(t).digest("hex");return(0,sG.join)((0,oG.getHomeDir)(),".aws","sso","cache",`${r}.json`)};Xl.getSSOTokenFilepath=iG});var T0=R(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.getSSOTokenFromFile=ps.tokenIntercept=void 0;var aG=ue("fs/promises"),cG=Uy();ps.tokenIntercept={};var uG=async t=>{if(ps.tokenIntercept[t])return ps.tokenIntercept[t];let e=(0,cG.getSSOTokenFilepath)(t),r=await(0,aG.readFile)(e,"utf8");return JSON.parse(r)};ps.getSSOTokenFromFile=uG});var v0=R(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.readFile=jt.fileIntercept=jt.filePromises=void 0;var lG=ue("node:fs/promises");jt.filePromises={};jt.fileIntercept={};var dG=(t,e)=>jt.fileIntercept[t]!==void 0?jt.fileIntercept[t]:((!jt.filePromises[t]||e?.ignoreCache)&&(jt.filePromises[t]=(0,lG.readFile)(t,"utf8")),jt.filePromises[t]);jt.readFile=dG});var Lr=R(Ct=>{"use strict";var qa=My(),w0=Uy(),By=T0(),Ql=ue("path"),Zl=jn(),Ei=v0(),I0="AWS_PROFILE",C0="default",pG=t=>t.profile||process.env[I0]||C0,oo=".",fG=t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(oo);return r===-1?!1:Object.values(Zl.IniSectionType).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let s=r.indexOf(oo),o=r.substring(0,s)===Zl.IniSectionType.PROFILE?r.substring(s+1):r;return e[o]=n,e},{...t.default&&{default:t.default}}),mG="AWS_CONFIG_FILE",A0=()=>process.env[mG]||Ql.join(qa.getHomeDir(),".aws","config"),hG="AWS_SHARED_CREDENTIALS_FILE",gG=()=>process.env[hG]||Ql.join(qa.getHomeDir(),".aws","credentials"),yG=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,EG=["__proto__","profile __proto__"],Fy=t=>{let e={},r,n;for(let s of t.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),c=yG.exec(a);if(c){let[,u,,f]=c;Object.values(Zl.IniSectionType).includes(u)&&(r=[u,f].join(oo))}else r=a;if(EG.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[c,u]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(u==="")n=c;else{n&&s.trimStart()===s&&(n=void 0),e[r]=e[r]||{};let f=n?[n,c].join(oo):c;e[r][f]=u}}}}return e},x0=()=>({}),R0=async(t={})=>{let{filepath:e=gG(),configFilepath:r=A0()}=t,n=qa.getHomeDir(),s="~/",o=e;e.startsWith(s)&&(o=Ql.join(n,e.slice(2)));let i=r;r.startsWith(s)&&(i=Ql.join(n,r.slice(2)));let a=await Promise.all([Ei.readFile(i,{ignoreCache:t.ignoreCache}).then(Fy).then(fG).catch(x0),Ei.readFile(o,{ignoreCache:t.ignoreCache}).then(Fy).catch(x0)]);return{configFile:a[0],credentialsFile:a[1]}},SG=t=>Object.entries(t).filter(([e])=>e.startsWith(Zl.IniSectionType.SSO_SESSION+oo)).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(oo)+1)]:n}),{}),_G=()=>({}),bG=async(t={})=>Ei.readFile(t.configFilepath??A0()).then(Fy).then(SG).catch(_G),TG=(...t)=>{let e={};for(let r of t)for(let[n,s]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],s):e[n]=s;return e},vG=async t=>{let e=await R0(t);return TG(e.configFile,e.credentialsFile)},wG={getFileRecord(){return Ei.fileIntercept},interceptFile(t,e){Ei.fileIntercept[t]=Promise.resolve(e)},getTokenRecord(){return By.tokenIntercept},interceptToken(t,e){By.tokenIntercept[t]=e}};Object.defineProperty(Ct,"getSSOTokenFromFile",{enumerable:!0,get:function(){return By.getSSOTokenFromFile}});Object.defineProperty(Ct,"readFile",{enumerable:!0,get:function(){return Ei.readFile}});Ct.CONFIG_PREFIX_SEPARATOR=oo;Ct.DEFAULT_PROFILE=C0;Ct.ENV_PROFILE=I0;Ct.externalDataInterceptor=wG;Ct.getProfileName=pG;Ct.loadSharedConfigFiles=R0;Ct.loadSsoSessionData=bG;Ct.parseKnownFiles=vG;Object.keys(qa).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ct,t)&&Object.defineProperty(Ct,t,{enumerable:!0,get:function(){return qa[t]}})});Object.keys(w0).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Ct,t)&&Object.defineProperty(Ct,t,{enumerable:!0,get:function(){return w0[t]}})})});var Mr=R(N0=>{"use strict";var Ha=ft(),P0=Lr();function D0(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}var xG=(t,e)=>async()=>{try{let r=t(process.env,e);if(r===void 0)throw new Error;return r}catch(r){throw new Ha.CredentialsProviderError(r.message||`Not found in ENV: ${D0(t.toString())}`,{logger:e?.logger})}},IG=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=P0.getProfileName(r),{configFile:s,credentialsFile:o}=await P0.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let f=t(c,e==="config"?s:o);if(f===void 0)throw new Error;return f}catch(u){throw new Ha.CredentialsProviderError(u.message||`Not found in config files w/ profile [${n}]: ${D0(t.toString())}`,{logger:r.logger})}},CG=t=>typeof t=="function",AG=t=>CG(t)?async()=>await t():Ha.fromStatic(t),RG=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Ha.memoize(Ha.chain(xG(t,i),IG(e,n),AG(r)))};N0.loadConfig=RG});var M0=R(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.getEndpointUrlConfig=void 0;var O0=Lr(),k0="AWS_ENDPOINT_URL",L0="endpoint_url",PG=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(o=>o.toUpperCase()),n=e[[k0,...r].join("_")];if(n)return n;let s=e[k0];if(s)return s},configFileSelector:(e,r)=>{if(r&&e.services){let s=r[["services",e.services].join(O0.CONFIG_PREFIX_SEPARATOR)];if(s){let o=t.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),L0].join(O0.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=e[L0];if(n)return n},default:void 0});Jl.getEndpointUrlConfig=PG});var U0=R(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getEndpointFromConfig=void 0;var DG=Mr(),NG=M0(),OG=async t=>(0,DG.loadConfig)((0,NG.getEndpointUrlConfig)(t??""))();ed.getEndpointFromConfig=OG});var Ur=R(bn=>{"use strict";var F0=U0(),B0=pn(),kG=(lt(),ie(Zs)),td=ct(),LG=Ym(),MG=async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),jG(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!$G(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},UG=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,BG=/(\d+\.){3}\d+/,FG=/\.\./,$G=t=>UG.test(t)&&!BG.test(t)&&!FG.test(t),jG=t=>{let[e,r,n,,,s]=t.split(":"),o=e==="arn"&&t.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return i},GG=(t,e,r)=>{let n=async()=>{let s=r[t]??r[e];return typeof s=="function"?s():s};return t==="credentialScope"||e==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n},$y=t=>typeof t=="object"?"url"in t?B0.parseUrl(t.url):t:B0.parseUrl(t),$0=async(t,e,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await F0.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve($y(i)),r.isCustomEndpoint=!0)}let s=await j0(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},j0=async(t,e,r)=>{let n={},s=e?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=t[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await GG(i.name,o,r)();break;case"operationContextParams":n[o]=i.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await MG(n),n},G0=({config:t,instructions:e})=>(r,n)=>async s=>{t.isCustomEndpoint&&kG.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await $0(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let c=td.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},q0={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:LG.serializerMiddlewareOption.name},qG=(t,e)=>({applyToStack:r=>{r.addRelativeTo(G0({config:t,instructions:e}),q0)}}),HG=t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=t,o=r!=null?async()=>$y(await td.normalizeProvider(r)()):void 0,a=Object.assign(t,{endpoint:o,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:td.normalizeProvider(n??!1),useFipsEndpoint:td.normalizeProvider(s??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=F0.getEndpointFromConfig(t.serviceId)),c),a},VG=t=>{let{endpoint:e}=t;return e===void 0&&(t.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),t};bn.endpointMiddleware=G0;bn.endpointMiddlewareOptions=q0;bn.getEndpointFromInstructions=$0;bn.getEndpointPlugin=qG;bn.resolveEndpointConfig=HG;bn.resolveEndpointRequiredConfig=VG;bn.resolveParams=j0;bn.toEndpointV1=$y});var Gy=R(fs=>{"use strict";var zG=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],WG=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],KG=["TimeoutError","RequestTimeout","RequestTimeoutException"],YG=[500,502,503,504],XG=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],QG=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],H0=t=>t?.$retryable!==void 0,ZG=t=>zG.includes(t.name),V0=t=>t.$metadata?.clockSkewCorrected,z0=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},JG=t=>t.$metadata?.httpStatusCode===429||WG.includes(t.name)||t.$retryable?.throttling==!0,jy=(t,e=0)=>H0(t)||V0(t)||KG.includes(t.name)||XG.includes(t?.code||"")||QG.includes(t?.code||"")||YG.includes(t.$metadata?.httpStatusCode||0)||z0(t)||t.cause!==void 0&&e<=10&&jy(t.cause,e+1),eq=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!jy(t)}return!1};fs.isBrowserNetworkError=z0;fs.isClockSkewCorrectedError=V0;fs.isClockSkewError=ZG;fs.isRetryableByTrait=H0;fs.isServerError=eq;fs.isThrottlingError=JG;fs.isTransientError=jy});var io=R($e=>{"use strict";var tq=Gy();$e.RETRY_MODES=void 0;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})($e.RETRY_MODES||($e.RETRY_MODES={}));var qy=3,rq=$e.RETRY_MODES.STANDARD,rd=class t{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>t.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),tq.isThrottlingError(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}},Va=100,Wy=20*1e3,K0=500,Hy=500,Y0=5,X0=10,Q0=1,nq="amz-sdk-invocation-id",sq="amz-sdk-request",oq=()=>{let t=Va;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Wy,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},W0=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Wy,t),getRetryCost:()=>r}),za=class{maxAttempts;mode=$e.RETRY_MODES.STANDARD;capacity=Hy;retryBackoffStrategy=oq();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return W0({retryDelay:Va,retryCount:0})}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?K0:Va);let o=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,W0({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(Hy,this.capacity+(e.getRetryCost()??Q0))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${qy}`),qy}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?X0:Y0}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},Vy=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=$e.RETRY_MODES.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:n}=r??{};this.rateLimiter=n??new rd,this.standardRetryStrategy=new za(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},zy=class extends za{computeNextBackoffDelay;constructor(e,r=Va){super(typeof e=="function"?e:async()=>e),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(e,r){let n=await super.refreshRetryTokenForRetry(e,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};$e.AdaptiveRetryStrategy=Vy;$e.ConfiguredRetryStrategy=zy;$e.DEFAULT_MAX_ATTEMPTS=qy;$e.DEFAULT_RETRY_DELAY_BASE=Va;$e.DEFAULT_RETRY_MODE=rq;$e.DefaultRateLimiter=rd;$e.INITIAL_RETRY_TOKENS=Hy;$e.INVOCATION_ID_HEADER=nq;$e.MAXIMUM_RETRY_DELAY=Wy;$e.NO_RETRY_INCREMENT=Q0;$e.REQUEST_HEADER=sq;$e.RETRY_COST=Y0;$e.StandardRetryStrategy=za;$e.THROTTLING_RETRY_DELAY_BASE=K0;$e.TIMEOUT_RETRY_COST=X0});var Z0=R(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.isStreamingPayload=void 0;var iq=ue("stream"),aq=t=>t?.body instanceof iq.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;nd.isStreamingPayload=aq});var mr=R(Ze=>{"use strict";var Fe=io(),Si=Re(),ms=Gy(),eC=Yh(),J0=ct(),cq=te(),uq=Z0(),lq=(t,e)=>{let r=t,n=Fe.NO_RETRY_INCREMENT,s=Fe.RETRY_COST,o=Fe.TIMEOUT_RETRY_COST,i=t,a=m=>m.name==="TimeoutError"?o:s,c=m=>a(m)<=i;return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:m=>{if(!c(m))throw new Error("No retry token available");let g=a(m);return i-=g,g},releaseRetryTokens:m=>{i+=m??n,i=Math.min(i,r)}})},tC=(t,e)=>Math.floor(Math.min(Fe.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),rC=t=>t?ms.isRetryableByTrait(t)||ms.isClockSkewError(t)||ms.isThrottlingError(t)||ms.isTransientError(t):!1,nC=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),sd=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Fe.RETRY_MODES.STANDARD;constructor(e,r){this.maxAttemptsProvider=e,this.retryDecider=r?.retryDecider??rC,this.delayDecider=r?.delayDecider??tC,this.retryQuota=r?.retryQuota??lq(Fe.INITIAL_RETRY_TOKENS)}shouldRetry(e,r,n){return r<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)}async getMaxAttempts(){let e;try{e=await this.maxAttemptsProvider()}catch{e=Fe.DEFAULT_MAX_ATTEMPTS}return e}async retry(e,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:c}=r;for(Si.HttpRequest.isInstance(c)&&(c.headers[Fe.INVOCATION_ID_HEADER]=eC.v4());;)try{Si.HttpRequest.isInstance(c)&&(c.headers[Fe.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:u,output:f}=await e(r);return n?.afterRequest&&n.afterRequest(u),this.retryQuota.releaseRetryTokens(s),f.$metadata.attempts=o+1,f.$metadata.totalRetryDelay=i,{response:u,output:f}}catch(u){let f=nC(u);if(o++,this.shouldRetry(f,o,a)){s=this.retryQuota.retrieveRetryTokens(f);let m=this.delayDecider(ms.isThrottlingError(f)?Fe.THROTTLING_RETRY_DELAY_BASE:Fe.DEFAULT_RETRY_DELAY_BASE,o),g=dq(f.$response),h=Math.max(g||0,m);i+=h,await new Promise(E=>setTimeout(E,h));continue}throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=o,f.$metadata.totalRetryDelay=i,f}}},dq=t=>{if(!Si.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},Ky=class extends sd{rateLimiter;constructor(e,r){let{rateLimiter:n,...s}=r??{};super(e,s),this.rateLimiter=n??new Fe.DefaultRateLimiter,this.mode=Fe.RETRY_MODES.ADAPTIVE}async retry(e,r){return super.retry(e,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},Yy="AWS_MAX_ATTEMPTS",Xy="max_attempts",pq={environmentVariableSelector:t=>{let e=t[Yy];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${Yy} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[Xy];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Xy} mast be a number, got "${e}"`);return r},default:Fe.DEFAULT_MAX_ATTEMPTS},fq=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,s=J0.normalizeProvider(n??Fe.DEFAULT_MAX_ATTEMPTS);return Object.assign(t,{maxAttempts:s,retryStrategy:async()=>e||(await J0.normalizeProvider(r)()===Fe.RETRY_MODES.ADAPTIVE?new Fe.AdaptiveRetryStrategy(s):new Fe.StandardRetryStrategy(s))})},sC="AWS_RETRY_MODE",oC="retry_mode",mq={environmentVariableSelector:t=>t[sC],configFileSelector:t=>t[oC],default:Fe.DEFAULT_RETRY_MODE},iC=()=>t=>async e=>{let{request:r}=e;return Si.HttpRequest.isInstance(r)&&(delete r.headers[Fe.INVOCATION_ID_HEADER],delete r.headers[Fe.REQUEST_HEADER]),t(e)},aC={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},hq=t=>({applyToStack:e=>{e.addRelativeTo(iC(),aC)}}),cC=t=>(e,r)=>async n=>{let s=await t.retryStrategy(),o=await t.maxAttempts();if(gq(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0,{request:f}=n,m=Si.HttpRequest.isInstance(f);for(m&&(f.headers[Fe.INVOCATION_ID_HEADER]=eC.v4());;)try{m&&(f.headers[Fe.REQUEST_HEADER]=`attempt=${c+1}; max=${o}`);let{response:g,output:h}=await e(n);return s.recordSuccess(i),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=u,{response:g,output:h}}catch(g){let h=yq(g);if(a=nC(g),m&&uq.isStreamingPayload(f))throw(r.logger instanceof cq.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=i.getRetryCount();let E=i.getRetryDelay();u+=E,await new Promise(w=>setTimeout(w,E))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},gq=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",yq=t=>{let e={error:t,errorType:Eq(t)},r=lC(t.$response);return r&&(e.retryAfterHint=r),e},Eq=t=>ms.isThrottlingError(t)?"THROTTLING":ms.isTransientError(t)?"TRANSIENT":ms.isServerError(t)?"SERVER_ERROR":"CLIENT_ERROR",uC={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Sq=t=>({applyToStack:e=>{e.add(cC(t),uC)}}),lC=t=>{if(!Si.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};Ze.AdaptiveRetryStrategy=Ky;Ze.CONFIG_MAX_ATTEMPTS=Xy;Ze.CONFIG_RETRY_MODE=oC;Ze.ENV_MAX_ATTEMPTS=Yy;Ze.ENV_RETRY_MODE=sC;Ze.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=pq;Ze.NODE_RETRY_MODE_CONFIG_OPTIONS=mq;Ze.StandardRetryStrategy=sd;Ze.defaultDelayDecider=tC;Ze.defaultRetryDecider=rC;Ze.getOmitRetryHeadersPlugin=hq;Ze.getRetryAfterHint=lC;Ze.getRetryPlugin=Sq;Ze.omitRetryHeadersMiddleware=iC;Ze.omitRetryHeadersMiddlewareOptions=aC;Ze.resolveRetryConfig=fq;Ze.retryMiddleware=cC;Ze.retryMiddlewareOptions=uC});var Zy=R(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.resolveHttpAuthSchemeConfig=hs.defaultDynamoDBHttpAuthSchemeProvider=hs.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var _q=(tt(),ie(_n)),Qy=ct(),bq=async(t,e,r)=>({operation:(0,Qy.getSmithyContext)(e).operation,region:await(0,Qy.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hs.defaultDynamoDBHttpAuthSchemeParametersProvider=bq;function Tq(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var vq=t=>{let e=[];switch(t.operation){default:e.push(Tq(t))}return e};hs.defaultDynamoDBHttpAuthSchemeProvider=vq;var wq=t=>{let e=(0,_q.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,Qy.normalizeProvider)(t.authSchemePreference??[])})};hs.resolveHttpAuthSchemeConfig=wq});var dC=R((Gge,xq)=>{xq.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.943.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb","test:e2e":"yarn g:vitest run -c vitest.config.e2e.mts","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.mts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.943.0","@aws-sdk/credential-provider-node":"3.943.0","@aws-sdk/dynamodb-codec":"3.943.0","@aws-sdk/middleware-endpoint-discovery":"3.936.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.936.0","@aws-sdk/middleware-user-agent":"3.943.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.943.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.5","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.12","@smithy/middleware-retry":"^4.4.12","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.8","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.11","@smithy/util-defaults-mode-node":"^4.2.14","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.5",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var Jy=R(gs=>{"use strict";var Iq=(Xt(),ie(fn)),Cq=ft(),pC="AWS_ACCESS_KEY_ID",fC="AWS_SECRET_ACCESS_KEY",mC="AWS_SESSION_TOKEN",hC="AWS_CREDENTIAL_EXPIRATION",gC="AWS_CREDENTIAL_SCOPE",yC="AWS_ACCOUNT_ID",Aq=t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[pC],r=process.env[fC],n=process.env[mC],s=process.env[hC],o=process.env[gC],i=process.env[yC];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return Iq.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new Cq.CredentialsProviderError("Unable to find environment variable credentials.",{logger:t?.logger})};gs.ENV_ACCOUNT_ID=yC;gs.ENV_CREDENTIAL_SCOPE=gC;gs.ENV_EXPIRATION=hC;gs.ENV_KEY=pC;gs.ENV_SECRET=fC;gs.ENV_SESSION=mC;gs.fromEnv=Aq});var Ka=R(ht=>{"use strict";var Br=ft(),Rq=ue("url"),Pq=ue("buffer"),Dq=ue("http"),sE=Mr(),Nq=pn();function Wa(t){return new Promise((e,r)=>{let n=Dq.request({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Br.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Br.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new Br.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{e(Pq.Buffer.concat(i)),n.destroy()})}),n.end()})}var bC=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",TC=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}}),vC=1e3,wC=0,oE=({maxRetries:t=wC,timeout:e=vC})=>({maxRetries:t,timeout:e}),tE=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r},od="AWS_CONTAINER_CREDENTIALS_FULL_URI",id="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",rE="AWS_CONTAINER_AUTHORIZATION_TOKEN",Oq=(t={})=>{let{timeout:e,maxRetries:r}=oE(t);return()=>tE(async()=>{let n=await Bq({logger:t.logger}),s=JSON.parse(await kq(e,n));if(!bC(s))throw new Br.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return TC(s)},r)},kq=async(t,e)=>(process.env[rE]&&(e.headers={...e.headers,Authorization:process.env[rE]}),(await Wa({...e,timeout:t})).toString()),Lq="169.254.170.2",Mq={localhost:!0,"127.0.0.1":!0},Uq={"http:":!0,"https:":!0},Bq=async({logger:t})=>{if(process.env[id])return{hostname:Lq,path:process.env[id]};if(process.env[od]){let e=Rq.parse(process.env[od]);if(!e.hostname||!(e.hostname in Mq))throw new Br.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in Uq))throw new Br.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new Br.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${id} or ${od} environment variable is set`,{tryNextLink:!1,logger:t})},nE=class t extends Br.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(e,r=!0){super(e,r),this.tryNextLink=r,Object.setPrototypeOf(this,t.prototype)}};ht.Endpoint=void 0;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(ht.Endpoint||(ht.Endpoint={}));var Fq="AWS_EC2_METADATA_SERVICE_ENDPOINT",$q="ec2_metadata_service_endpoint",jq={environmentVariableSelector:t=>t[Fq],configFileSelector:t=>t[$q],default:void 0},_i;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(_i||(_i={}));var Gq="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",qq="ec2_metadata_service_endpoint_mode",Hq={environmentVariableSelector:t=>t[Gq],configFileSelector:t=>t[qq],default:_i.IPv4},xC=async()=>Nq.parseUrl(await Vq()||await zq()),Vq=async()=>sE.loadConfig(jq)(),zq=async()=>{let t=await sE.loadConfig(Hq)();switch(t){case _i.IPv4:return ht.Endpoint.IPv4;case _i.IPv6:return ht.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(_i)}`)}},Wq=5*60,Kq=5*60,Yq="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",EC=(t,e)=>{let r=Wq+Math.floor(Math.random()*Kq),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Yq);let s=t.originalExpiration??t.expiration;return{...t,...s?{originalExpiration:s}:{},expiration:n}},Xq=(t,e={})=>{let r=e?.logger||console,n;return async()=>{let s;try{s=await t(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=EC(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=EC(n,r);else throw o}return n=s,s}},IC="/latest/meta-data/iam/security-credentials/",Qq="/latest/api/token",eE="AWS_EC2_METADATA_V1_DISABLED",SC="ec2_metadata_v1_disabled",_C="x-aws-ec2-metadata-token",Zq=(t={})=>Xq(Jq(t),{logger:t.logger}),Jq=(t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:s,maxRetries:o}=oE(t),i=async(a,c)=>{if(e||c.headers?.[_C]==null){let m=!1,g=!1,h=await sE.loadConfig({environmentVariableSelector:E=>{let w=E[eE];if(g=!!w&&w!=="false",w===void 0)throw new Br.CredentialsProviderError(`${eE} not set in env, checking config file next.`,{logger:t.logger});return g},configFileSelector:E=>{let w=E[SC];return m=!!w&&w!=="false",m},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||h){let E=[];throw t.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&E.push(`config file profile (${SC})`),g&&E.push(`process environment variable (${eE})`),new nE(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let f=(await tE(async()=>{let m;try{m=await tH(c)}catch(g){throw g.statusCode===401&&(e=!1),g}return m},a)).trim();return tE(async()=>{let m;try{m=await rH(f,c,t)}catch(g){throw g.statusCode===401&&(e=!1),g}return m},a)};return async()=>{let a=await xC();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let c;try{c=(await eH({...a,timeout:s})).toString()}catch(u){if(u?.statusCode===400)throw Object.assign(u,{message:"EC2 Metadata token request returned error"});return(u.message==="TimeoutError"||[403,404,405].includes(u.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[_C]:c},timeout:s})}}},eH=async t=>Wa({...t,path:Qq,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),tH=async t=>(await Wa({...t,path:IC})).toString(),rH=async(t,e,r)=>{let n=JSON.parse((await Wa({...e,path:IC+t})).toString());if(!bC(n))throw new Br.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return TC(n)};ht.DEFAULT_MAX_RETRIES=wC;ht.DEFAULT_TIMEOUT=vC;ht.ENV_CMDS_AUTH_TOKEN=rE;ht.ENV_CMDS_FULL_URI=od;ht.ENV_CMDS_RELATIVE_URI=id;ht.fromContainerMetadata=Oq;ht.fromInstanceMetadata=Zq;ht.getInstanceMetadataEndpoint=xC;ht.httpRequest=Wa;ht.providerConfigFromInit=oE});var CC=R(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.checkUrl=void 0;var nH=ft(),sH="169.254.170.2",oH="169.254.170.23",iH="[fd00:ec2::23]",aH=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===sH||t.hostname===oH||t.hostname===iH)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new nH.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}};ad.checkUrl=aH});var AC=R(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.createGetRequest=dH;cd.getCredentials=pH;var iE=ft(),cH=Re(),uH=te(),lH=$u();function dH(t){return new cH.HttpRequest({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}async function pH(t,e){let n=await(0,lH.sdkStreamMixin)(t.body).transformToString();if(t.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new iE.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,uH.parseRfc3339DateTime)(s.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new iE.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:s.Code,Message:s.Message})}throw new iE.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e})}});var RC=R(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.retryWrapper=void 0;var fH=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(o=>setTimeout(o,r))}return await t()};ud.retryWrapper=fH});var NC=R(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.fromHttp=void 0;var mH=(Pa(),ie(Ra)),hH=(Xt(),ie(fn)),gH=Vn(),PC=ft(),yH=mH.__importDefault(ue("fs/promises")),EH=CC(),DC=AC(),SH=RC(),_H="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",bH="http://169.254.170.2",TH="AWS_CONTAINER_CREDENTIALS_FULL_URI",vH="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",wH="AWS_CONTAINER_AUTHORIZATION_TOKEN",xH=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[_H],n=t.awsContainerCredentialsFullUri??process.env[TH],s=t.awsContainerAuthorizationToken??process.env[wH],o=t.awsContainerAuthorizationTokenFile??process.env[vH],i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?.warn?console.warn:t.logger.warn.bind(t.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${bH}${r}`;else throw new PC.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);(0,EH.checkUrl)(a,t.logger);let c=gH.NodeHttpHandler.create({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return(0,SH.retryWrapper)(async()=>{let u=(0,DC.createGetRequest)(a);s?u.headers.Authorization=s:o&&(u.headers.Authorization=(await yH.default.readFile(o)).toString());try{let f=await c.handle(u);return(0,DC.getCredentials)(f.response).then(m=>(0,hH.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(f){throw new PC.CredentialsProviderError(String(f),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)};ld.fromHttp=xH});var aE=R(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.fromHttp=void 0;var IH=NC();Object.defineProperty(dd,"fromHttp",{enumerable:!0,get:function(){return IH.fromHttp}})});function CH(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function AH(t){return{schemeId:"smithy.api#noAuth"}}var Ya,OC,kC,LC,cE=_(()=>{tt();Ya=T(ct()),OC=async(t,e,r)=>({operation:(0,Ya.getSmithyContext)(e).operation,region:await(0,Ya.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});kC=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(AH(t));break}default:e.push(CH(t))}return e},LC=t=>{let e=mn(t);return Object.assign(e,{authSchemePreference:(0,Ya.normalizeProvider)(t.authSchemePreference??[])})}});var MC,UC,uE=_(()=>{MC=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),UC={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var bi,pd=_(()=>{bi={name:"@aws-sdk/nested-clients",version:"3.943.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.943.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.936.0","@aws-sdk/middleware-user-agent":"3.943.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.943.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.5","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.12","@smithy/middleware-retry":"^4.4.12","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.8","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.11","@smithy/util-defaults-mode-node":"^4.2.14","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./signin.d.ts","./signin.js","./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/signin/runtimeConfig":"./dist-es/submodules/signin/runtimeConfig.browser","./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./package.json":"./package.json","./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"},"./signin":{types:"./dist-types/submodules/signin/index.d.ts",module:"./dist-es/submodules/signin/index.js",node:"./dist-cjs/submodules/signin/index.js",import:"./dist-es/submodules/signin/index.js",require:"./dist-cjs/submodules/signin/index.js"}}}});var Ti=R(ao=>{"use strict";var BC=ue("os"),lE=ue("process"),PH=so(),FC={isCrtAvailable:!1},DH=()=>FC.isCrtAvailable?["md/crt-avail"]:null,$C=({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${BC.platform()}`,BC.release()],["lang/js"],["md/nodejs",`${lE.versions.node}`]],s=DH();s&&n.push(s),t&&n.push([`api/${t}`,e]),lE.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${lE.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},NH=$C,jC="AWS_SDK_UA_APP_ID",GC="sdk_ua_app_id",OH="sdk-ua-app-id",kH={environmentVariableSelector:t=>t[jC],configFileSelector:t=>t[GC]??t[OH],default:PH.DEFAULT_UA_APP_ID};ao.NODE_APP_ID_CONFIG_OPTIONS=kH;ao.UA_APP_ID_ENV_NAME=jC;ao.UA_APP_ID_INI_NAME=GC;ao.createDefaultUserAgentProvider=$C;ao.crtAvailability=FC;ao.defaultUserAgent=NH});var vi=R(VC=>{"use strict";var dE=Wo(),LH=Je(),MH=ue("buffer"),qC=ue("crypto"),pE=class{algorithmIdentifier;secret;hash;constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(LH.toUint8Array(HC(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?qC.createHmac(this.algorithmIdentifier,HC(this.secret)):qC.createHash(this.algorithmIdentifier)}};function HC(t,e){return MH.Buffer.isBuffer(t)?t:typeof t=="string"?dE.fromString(t,e):ArrayBuffer.isView(t)?dE.fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength):dE.fromArrayBuffer(t)}VC.Hash=pE});var wi=R(zC=>{"use strict";var fE=ue("node:fs"),UH=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(t instanceof fE.ReadStream){if(t.path!=null)return fE.lstatSync(t.path).size;if(typeof t.fd=="number")return fE.fstatSync(t.fd).size}throw new Error(`Body Length computation failed for ${t}`)};zC.calculateBodyLength=UH});var rA,er,tr,Ci,WC,Xa,xi,Ii,Tn,mE,hE,KC,YC,XC,nA,sA,Jt,QC,oA,ZC,JC,eA,tA,BH,iA,aA=_(()=>{rA="required",er="fn",tr="argv",Ci="ref",WC="isSet",Xa="booleanEquals",xi="error",Ii="endpoint",Tn="tree",mE="PartitionResult",hE="getAttr",KC={[rA]:!1,type:"string"},YC={[rA]:!0,default:!1,type:"boolean"},XC={[Ci]:"Endpoint"},nA={[er]:Xa,[tr]:[{[Ci]:"UseFIPS"},!0]},sA={[er]:Xa,[tr]:[{[Ci]:"UseDualStack"},!0]},Jt={},QC={[er]:hE,[tr]:[{[Ci]:mE},"supportsFIPS"]},oA={[Ci]:mE},ZC={[er]:Xa,[tr]:[!0,{[er]:hE,[tr]:[oA,"supportsDualStack"]}]},JC=[nA],eA=[sA],tA=[{[Ci]:"Region"}],BH={version:"1.0",parameters:{Region:KC,UseDualStack:YC,UseFIPS:YC,Endpoint:KC},rules:[{conditions:[{[er]:WC,[tr]:[XC]}],rules:[{conditions:JC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xi},{conditions:eA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xi},{endpoint:{url:XC,properties:Jt,headers:Jt},type:Ii}],type:Tn},{conditions:[{[er]:WC,[tr]:tA}],rules:[{conditions:[{[er]:"aws.partition",[tr]:tA,assign:mE}],rules:[{conditions:[nA,sA],rules:[{conditions:[{[er]:Xa,[tr]:[!0,QC]},ZC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Jt,headers:Jt},type:Ii}],type:Tn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xi}],type:Tn},{conditions:JC,rules:[{conditions:[{[er]:Xa,[tr]:[QC,!0]}],rules:[{conditions:[{[er]:"stringEquals",[tr]:[{[er]:hE,[tr]:[oA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Jt,headers:Jt},type:Ii},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Jt,headers:Jt},type:Ii}],type:Tn},{error:"FIPS is enabled but this partition does not support FIPS",type:xi}],type:Tn},{conditions:eA,rules:[{conditions:[ZC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Jt,headers:Jt},type:Ii}],type:Tn},{error:"DualStack is enabled but this partition does not support DualStack",type:xi}],type:Tn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Jt,headers:Jt},type:Ii}],type:Tn}],type:Tn},{error:"Invalid Configuration: Missing Region",type:xi}]},iA=BH});var cA,Ai,FH,uA,lA=_(()=>{cA=T(eo()),Ai=T(Kn());aA();FH=new Ai.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),uA=(t,e={})=>FH.get(t,()=>(0,Ai.resolveEndpoint)(iA,{endpointParams:t,logger:e.logger}));Ai.customEndpointFunctions.aws=cA.awsEndpointFunctions});var dA,pA,fd,md,fA,mA=_(()=>{tt();ls();lt();dA=T(te()),pA=T(pn()),fd=T(Qe()),md=T(Je());cE();lA();fA=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??fd.fromBase64,base64Encoder:t?.base64Encoder??fd.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??uA,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??kC,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new pt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pr}],logger:t?.logger??new dA.NoOpLogger,protocol:t?.protocol??new as({defaultNamespace:"com.amazonaws.ssooidc"}),serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??pA.parseUrl,utf8Decoder:t?.utf8Decoder??md.fromUtf8,utf8Encoder:t?.utf8Encoder??md.toUtf8})});var Ri=R(EA=>{"use strict";var $H=Ot(),hA=Mr(),jH=ft(),GH="AWS_EXECUTION_ENV",gA="AWS_REGION",yA="AWS_DEFAULT_REGION",qH="AWS_EC2_METADATA_DISABLED",HH=["in-region","cross-region","mobile","standard","legacy"],VH="/latest/meta-data/placement/region",zH="AWS_DEFAULTS_MODE",WH="defaults_mode",KH={environmentVariableSelector:t=>t[zH],configFileSelector:t=>t[WH],default:"legacy"},YH=({region:t=hA.loadConfig($H.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=hA.loadConfig(KH)}={})=>jH.memoize(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return XH(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${HH.join(", ")}, got ${r}`)}}),XH=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await QH();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},QH=async()=>{if(process.env[GH]&&(process.env[gA]||process.env[yA]))return process.env[gA]??process.env[yA];if(!process.env[qH])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>T(Ka())),r=await t();return(await e({...r,path:VH})).toString()}catch{}};EA.resolveDefaultsModeConfig=YH});var hd,Es,SA,gd,ys,yd,_A,bA,TA,vA,wA,xA,IA=_(()=>{pd();tt();hd=T(Ti()),Es=T(Ot()),SA=T(vi()),gd=T(mr()),ys=T(Mr()),yd=T(Vn()),_A=T(wi()),bA=T(io());mA();TA=T(te()),vA=T(Ri()),wA=T(te()),xA=t=>{(0,wA.emitWarningIfUnsupportedVersion)(process.version);let e=(0,vA.resolveDefaultsModeConfig)(t),r=()=>e().then(TA.loadConfigsForDefaultMode),n=fA(t);Yn(process.version);let s={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,ys.loadConfig)(Qn,s),bodyLengthChecker:t?.bodyLengthChecker??_A.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,hd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:bi.version}),maxAttempts:t?.maxAttempts??(0,ys.loadConfig)(gd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,ys.loadConfig)(Es.NODE_REGION_CONFIG_OPTIONS,{...Es.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:yd.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,ys.loadConfig)({...gd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||bA.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??SA.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??yd.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,ys.loadConfig)(Es.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:t?.useFipsEndpoint??(0,ys.loadConfig)(Es.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:t?.userAgentAppId??(0,ys.loadConfig)(hd.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var AA=R(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.warning=void 0;Pi.stsRegionDefaultResolver=JH;var CA=Ot(),ZH=Mr();function JH(t={}){return(0,ZH.loadConfig)({...CA.NODE_REGION_CONFIG_OPTIONS,async default(){return Pi.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...CA.NODE_REGION_CONFIG_FILE_OPTIONS,...t})}Pi.warning={silence:!1}});var co=R(Fr=>{"use strict";var Qa=Ot(),RA=AA(),e4=t=>({setRegion(e){t.region=e},region(){return t.region}}),t4=t=>({region:t.region()});Object.defineProperty(Fr,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Qa.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(Fr,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Qa.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(Fr,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Qa.REGION_ENV_NAME}});Object.defineProperty(Fr,"REGION_INI_NAME",{enumerable:!0,get:function(){return Qa.REGION_INI_NAME}});Object.defineProperty(Fr,"resolveRegionConfig",{enumerable:!0,get:function(){return Qa.resolveRegionConfig}});Fr.getAwsRegionExtensionConfiguration=e4;Fr.resolveAwsRegionExtensionConfiguration=t4;Object.keys(RA).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Fr,t)&&Object.defineProperty(Fr,t,{enumerable:!0,get:function(){return RA[t]}})})});var PA,DA,NA=_(()=>{PA=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){let o=e.findIndex(i=>i.schemeId===s.schemeId);o===-1?e.push(s):e.splice(o,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},DA=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Ed,Sd,_d,OA,kA=_(()=>{Ed=T(co()),Sd=T(Re()),_d=T(te());NA();OA=(t,e)=>{let r=Object.assign((0,Ed.getAwsRegionExtensionConfiguration)(t),(0,_d.getDefaultExtensionConfiguration)(t),(0,Sd.getHttpHandlerExtensionConfiguration)(t),PA(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,Ed.resolveAwsRegionExtensionConfiguration)(r),(0,_d.resolveDefaultRuntimeConfig)(r),(0,Sd.resolveHttpHandlerRuntimeConfig)(r),DA(r))}});var bd,LA,MA,Td,UA,BA,FA,vd,gE,Za,yE=_(()=>{bd=T(qo()),LA=T(Ho()),MA=T(Vo()),Td=T(so()),UA=T(Ot());lt();Te();BA=T(yi()),FA=T(Ur()),vd=T(mr()),gE=T(te());cE();uE();IA();kA();Za=class extends gE.Client{config;constructor(...[e]){let r=xA(e||{});super(r),this.initConfig=r;let n=MC(r),s=(0,Td.resolveUserAgentConfig)(n),o=(0,vd.resolveRetryConfig)(s),i=(0,UA.resolveRegionConfig)(o),a=(0,bd.resolveHostHeaderConfig)(i),c=(0,FA.resolveEndpointConfig)(a),u=LC(c),f=OA(u,e?.extensions||[]);this.config=f,this.middlewareStack.use(Vs(this.config)),this.middlewareStack.use((0,Td.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,BA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,LA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,MA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qs(this.config,{httpAuthSchemeParametersProvider:OC,identityProviderConfigProvider:async m=>new dn({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var $A,rt,wd=_(()=>{$A=T(te()),rt=class t extends $A.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Ja,ec,tc,rc,nc,sc,oc,ic,ac,cc,uc,EE=_(()=>{wd();Ja=class t extends rt{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},ec=class t extends rt{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},tc=class t extends rt{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},rc=class t extends rt{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},nc=class t extends rt{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},sc=class t extends rt{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},oc=class t extends rt{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}},ic=class t extends rt{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ac=class t extends rt{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},cc=class t extends rt{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},uc=class t extends rt{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var r4,n4,s4,o4,i4,a4,c4,u4,l4,d4,p4,f4,m4,h4,g4,y4,E4,S4,_4,b4,$r,T4,v4,w4,x4,I4,je,C4,hr,A4,R4,gr,P4,jA,GA,D4,N4,O4,qA,k4,Ie,L4,M4,U4,B4,HA,F4,$4,j4,G4,q4,H4,V4,z4,W4,K4,Y4,X4,Q4,Z4,VA,zA=_(()=>{Te();EE();wd();r4="AccessDeniedException",n4="AuthorizationPendingException",s4="AccessToken",o4="ClientSecret",i4="CreateToken",a4="CreateTokenRequest",c4="CreateTokenResponse",u4="CodeVerifier",l4="ExpiredTokenException",d4="InvalidClientException",p4="InvalidGrantException",f4="InvalidRequestException",m4="InternalServerException",h4="InvalidScopeException",g4="IdToken",y4="RefreshToken",E4="SlowDownException",S4="UnauthorizedClientException",_4="UnsupportedGrantTypeException",b4="accessToken",$r="client",T4="clientId",v4="clientSecret",w4="codeVerifier",x4="code",I4="deviceCode",je="error",C4="expiresIn",hr="error_description",A4="grantType",R4="http",gr="httpError",P4="idToken",jA="reason",GA="refreshToken",D4="redirectUri",N4="scope",O4="server",qA="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",k4="tokenType",Ie="com.amazonaws.ssooidc",L4=[0,Ie,s4,8,0],M4=[0,Ie,o4,8,0],U4=[0,Ie,u4,8,0],B4=[0,Ie,g4,8,0],HA=[0,Ie,y4,8,0],F4=[-3,Ie,r4,{[je]:$r,[gr]:400},[je,jA,hr],[0,0,0]];Q.for(Ie).registerError(F4,Ja);$4=[-3,Ie,n4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError($4,ec);j4=[3,Ie,a4,0,[T4,v4,A4,I4,x4,GA,N4,D4,w4],[0,[()=>M4,0],0,0,0,[()=>HA,0],64,0,[()=>U4,0]]],G4=[3,Ie,c4,0,[b4,k4,C4,GA,P4],[[()=>L4,0],0,1,[()=>HA,0],[()=>B4,0]]],q4=[-3,Ie,l4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(q4,tc);H4=[-3,Ie,m4,{[je]:O4,[gr]:500},[je,hr],[0,0]];Q.for(Ie).registerError(H4,rc);V4=[-3,Ie,d4,{[je]:$r,[gr]:401},[je,hr],[0,0]];Q.for(Ie).registerError(V4,nc);z4=[-3,Ie,p4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(z4,sc);W4=[-3,Ie,f4,{[je]:$r,[gr]:400},[je,jA,hr],[0,0,0]];Q.for(Ie).registerError(W4,oc);K4=[-3,Ie,h4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(K4,ic);Y4=[-3,Ie,E4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(Y4,ac);X4=[-3,Ie,S4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(X4,cc);Q4=[-3,Ie,_4,{[je]:$r,[gr]:400},[je,hr],[0,0]];Q.for(Ie).registerError(Q4,uc);Z4=[-3,qA,"SSOOIDCServiceException",0,[],[]];Q.for(qA).registerError(Z4,rt);VA=[9,Ie,i4,{[R4]:["POST","/token",200]},()=>j4,()=>G4]});var WA,SE,lc,_E=_(()=>{WA=T(Ur()),SE=T(te());uE();zA();lc=class extends SE.Command.classBuilder().ep(UC).m(function(e,r,n,s){return[(0,WA.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(VA).build(){}});var KA,J4,xd,YA=_(()=>{KA=T(te());_E();yE();J4={CreateTokenCommand:lc},xd=class extends Za{};(0,KA.createAggregatedClient)(J4,xd)});var XA=_(()=>{_E()});var eV,tV,QA=_(()=>{eV={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},tV={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"}});var bE={};at(bE,{$Command:()=>SE.Command,AccessDeniedException:()=>Ja,AccessDeniedExceptionReason:()=>eV,AuthorizationPendingException:()=>ec,CreateTokenCommand:()=>lc,ExpiredTokenException:()=>tc,InternalServerException:()=>rc,InvalidClientException:()=>nc,InvalidGrantException:()=>sc,InvalidRequestException:()=>oc,InvalidRequestExceptionReason:()=>tV,InvalidScopeException:()=>ic,SSOOIDC:()=>xd,SSOOIDCClient:()=>Za,SSOOIDCServiceException:()=>rt,SlowDownException:()=>ac,UnauthorizedClientException:()=>cc,UnsupportedGrantTypeException:()=>uc,__Client:()=>gE.Client});var TE=_(()=>{yE();YA();XA();QA();EE();wd()});var tR=R(pc=>{"use strict";var rV=(Xt(),ie(fn)),nV=(zg(),ie(Yx)),Gt=ft(),dc=Lr(),sV=ue("fs"),oV=({logger:t,signingName:e}={})=>async()=>{if(t?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!e)throw new Gt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:t});let r=nV.getBearerTokenEnvKey(e);if(!(r in process.env))throw new Gt.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:t});let n={token:process.env[r]};return rV.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},iV=5*60*1e3,vE="To refresh this SSO session run 'aws sso login' with the corresponding profile.",aV=async(t,e={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(TE(),bE)),n=o=>e.clientConfig?.[o]??e.parentClientConfig?.[o];return new r(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:n("logger"),userAgentAppId:n("userAgentAppId")}))},cV=async(t,e,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(TE(),bE));return(await aV(e,r)).send(new n({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))},ZA=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Gt.TokenProviderError(`Token is expired. ${vE}`,!1)},uo=(t,e,r=!1)=>{if(typeof e>"u")throw new Gt.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${vE}`,!1)},{writeFile:uV}=sV.promises,lV=(t,e)=>{let r=dc.getSSOTokenFilepath(t),n=JSON.stringify(e,null,2);return uV(r,n)},JA=new Date(0),eR=(t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await dc.parseKnownFiles(r),s=dc.getProfileName({profile:r.profile??e?.profile}),o=n[s];if(o){if(!o.sso_session)throw new Gt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new Gt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,c=(await dc.loadSsoSessionData(r))[i];if(!c)throw new Gt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!c[E])throw new Gt.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);c.sso_start_url;let u=c.sso_region,f;try{f=await dc.getSSOTokenFromFile(i)}catch{throw new Gt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${vE}`,!1)}uo("accessToken",f.accessToken),uo("expiresAt",f.expiresAt);let{accessToken:m,expiresAt:g}=f,h={token:m,expiration:new Date(g)};if(h.expiration.getTime()-Date.now()>iV)return h;if(Date.now()-JA.getTime()<30*1e3)return ZA(h),h;uo("clientId",f.clientId,!0),uo("clientSecret",f.clientSecret,!0),uo("refreshToken",f.refreshToken,!0);try{JA.setTime(Date.now());let E=await cV(f,u,r);uo("accessToken",E.accessToken),uo("expiresIn",E.expiresIn);let w=new Date(Date.now()+E.expiresIn*1e3);try{await lV(i,{...f,accessToken:E.accessToken,expiresAt:w.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:w}}catch{return ZA(h),h}},dV=({token:t,logger:e})=>async()=>{if(e?.debug("@aws-sdk/token-providers - fromStatic"),!t||!t.token)throw new Gt.TokenProviderError("Please pass a valid token to fromStatic",!1);return t},pV=(t={})=>Gt.memoize(Gt.chain(eR(t),async()=>{throw new Gt.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);pc.fromEnvSigningName=oV;pc.fromSso=eR;pc.fromStatic=dV;pc.nodeProvider=pV});var xE=R(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.resolveHttpAuthSchemeConfig=Ss.defaultSSOHttpAuthSchemeProvider=Ss.defaultSSOHttpAuthSchemeParametersProvider=void 0;var fV=(tt(),ie(_n)),wE=ct(),mV=async(t,e,r)=>({operation:(0,wE.getSmithyContext)(e).operation,region:await(0,wE.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Ss.defaultSSOHttpAuthSchemeParametersProvider=mV;function hV(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Id(t){return{schemeId:"smithy.api#noAuth"}}var gV=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Id(t));break}case"ListAccountRoles":{e.push(Id(t));break}case"ListAccounts":{e.push(Id(t));break}case"Logout":{e.push(Id(t));break}default:e.push(hV(t))}return e};Ss.defaultSSOHttpAuthSchemeProvider=gV;var yV=t=>{let e=(0,fV.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,wE.normalizeProvider)(t.authSchemePreference??[])})};Ss.resolveHttpAuthSchemeConfig=yV});var rR=R((Jye,EV)=>{EV.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.943.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.943.0","@aws-sdk/middleware-host-header":"3.936.0","@aws-sdk/middleware-logger":"3.936.0","@aws-sdk/middleware-recursion-detection":"3.936.0","@aws-sdk/middleware-user-agent":"3.943.0","@aws-sdk/region-config-resolver":"3.936.0","@aws-sdk/types":"3.936.0","@aws-sdk/util-endpoints":"3.936.0","@aws-sdk/util-user-agent-browser":"3.936.0","@aws-sdk/util-user-agent-node":"3.943.0","@smithy/config-resolver":"^4.4.3","@smithy/core":"^3.18.5","@smithy/fetch-http-handler":"^5.3.6","@smithy/hash-node":"^4.2.5","@smithy/invalid-dependency":"^4.2.5","@smithy/middleware-content-length":"^4.2.5","@smithy/middleware-endpoint":"^4.3.12","@smithy/middleware-retry":"^4.4.12","@smithy/middleware-serde":"^4.2.6","@smithy/middleware-stack":"^4.2.5","@smithy/node-config-provider":"^4.3.5","@smithy/node-http-handler":"^4.4.5","@smithy/protocol-http":"^5.3.5","@smithy/smithy-client":"^4.9.8","@smithy/types":"^4.9.0","@smithy/url-parser":"^4.2.5","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.11","@smithy/util-defaults-mode-node":"^4.2.14","@smithy/util-endpoints":"^3.2.5","@smithy/util-middleware":"^4.2.5","@smithy/util-retry":"^4.2.5","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var yR=R(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.ruleSet=void 0;var fR="required",nr="fn",sr="argv",Oi="ref",nR=!0,sR="isSet",fc="booleanEquals",Di="error",Ni="endpoint",vn="tree",IE="PartitionResult",CE="getAttr",oR={[fR]:!1,type:"string"},iR={[fR]:!0,default:!1,type:"boolean"},aR={[Oi]:"Endpoint"},mR={[nr]:fc,[sr]:[{[Oi]:"UseFIPS"},!0]},hR={[nr]:fc,[sr]:[{[Oi]:"UseDualStack"},!0]},rr={},cR={[nr]:CE,[sr]:[{[Oi]:IE},"supportsFIPS"]},gR={[Oi]:IE},uR={[nr]:fc,[sr]:[!0,{[nr]:CE,[sr]:[gR,"supportsDualStack"]}]},lR=[mR],dR=[hR],pR=[{[Oi]:"Region"}],SV={version:"1.0",parameters:{Region:oR,UseDualStack:iR,UseFIPS:iR,Endpoint:oR},rules:[{conditions:[{[nr]:sR,[sr]:[aR]}],rules:[{conditions:lR,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Di},{conditions:dR,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Di},{endpoint:{url:aR,properties:rr,headers:rr},type:Ni}],type:vn},{conditions:[{[nr]:sR,[sr]:pR}],rules:[{conditions:[{[nr]:"aws.partition",[sr]:pR,assign:IE}],rules:[{conditions:[mR,hR],rules:[{conditions:[{[nr]:fc,[sr]:[nR,cR]},uR],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Ni}],type:vn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Di}],type:vn},{conditions:lR,rules:[{conditions:[{[nr]:fc,[sr]:[cR,nR]}],rules:[{conditions:[{[nr]:"stringEquals",[sr]:[{[nr]:CE,[sr]:[gR,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:rr,headers:rr},type:Ni},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Ni}],type:vn},{error:"FIPS is enabled but this partition does not support FIPS",type:Di}],type:vn},{conditions:dR,rules:[{conditions:[uR],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:rr,headers:rr},type:Ni}],type:vn},{error:"DualStack is enabled but this partition does not support DualStack",type:Di}],type:vn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:rr,headers:rr},type:Ni}],type:vn}],type:vn},{error:"Invalid Configuration: Missing Region",type:Di}]};Cd.ruleSet=SV});var ER=R(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.defaultEndpointResolver=void 0;var _V=eo(),AE=Kn(),bV=yR(),TV=new AE.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),vV=(t,e={})=>TV.get(t,()=>(0,AE.resolveEndpoint)(bV.ruleSet,{endpointParams:t,logger:e.logger}));Ad.defaultEndpointResolver=vV;AE.customEndpointFunctions.aws=_V.awsEndpointFunctions});var bR=R(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.getRuntimeConfig=void 0;var wV=(tt(),ie(_n)),xV=(ls(),ie(Vl)),IV=(lt(),ie(Zs)),CV=te(),AV=pn(),SR=Qe(),_R=Je(),RV=xE(),PV=ER(),DV=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??SR.fromBase64,base64Encoder:t?.base64Encoder??SR.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??PV.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??RV.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new wV.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new IV.NoAuthSigner}],logger:t?.logger??new CV.NoOpLogger,protocol:t?.protocol??new xV.AwsRestJsonProtocol({defaultNamespace:"com.amazonaws.sso"}),serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??AV.parseUrl,utf8Decoder:t?.utf8Decoder??_R.fromUtf8,utf8Encoder:t?.utf8Encoder??_R.toUtf8});Rd.getRuntimeConfig=DV});var IR=R(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.getRuntimeConfig=void 0;var NV=(Pa(),ie(Ra)),OV=NV.__importDefault(rR()),TR=(tt(),ie(_n)),vR=Ti(),Pd=Ot(),kV=vi(),wR=mr(),lo=Mr(),xR=Vn(),LV=wi(),MV=io(),UV=bR(),BV=te(),FV=Ri(),$V=te(),jV=t=>{(0,$V.emitWarningIfUnsupportedVersion)(process.version);let e=(0,FV.resolveDefaultsModeConfig)(t),r=()=>e().then(BV.loadConfigsForDefaultMode),n=(0,UV.getRuntimeConfig)(t);(0,TR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,lo.loadConfig)(TR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:t?.bodyLengthChecker??LV.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,vR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:OV.default.version}),maxAttempts:t?.maxAttempts??(0,lo.loadConfig)(wR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,lo.loadConfig)(Pd.NODE_REGION_CONFIG_OPTIONS,{...Pd.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:xR.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,lo.loadConfig)({...wR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||MV.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??kV.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??xR.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,lo.loadConfig)(Pd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:t?.useFipsEndpoint??(0,lo.loadConfig)(Pd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:t?.userAgentAppId??(0,lo.loadConfig)(vR.NODE_APP_ID_CONFIG_OPTIONS,s)}};Dd.getRuntimeConfig=jV});var KR=R(gt=>{"use strict";var CR=qo(),GV=Ho(),qV=Vo(),AR=so(),HV=Ot(),mc=(lt(),ie(Zs)),Li=(Te(),ie(va)),VV=yi(),yc=Ur(),RR=mr(),yr=te(),PR=xE(),zV=IR(),DR=co(),NR=Re(),WV=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Ld={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},KV=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){let o=e.findIndex(i=>i.schemeId===s.schemeId);o===-1?e.push(s):e.splice(o,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},YV=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),XV=(t,e)=>{let r=Object.assign(DR.getAwsRegionExtensionConfiguration(t),yr.getDefaultExtensionConfiguration(t),NR.getHttpHandlerExtensionConfiguration(t),KV(t));return e.forEach(n=>n.configure(r)),Object.assign(t,DR.resolveAwsRegionExtensionConfiguration(r),yr.resolveDefaultRuntimeConfig(r),NR.resolveHttpHandlerRuntimeConfig(r),YV(r))},ki=class extends yr.Client{config;constructor(...[e]){let r=zV.getRuntimeConfig(e||{});super(r),this.initConfig=r;let n=WV(r),s=AR.resolveUserAgentConfig(n),o=RR.resolveRetryConfig(s),i=HV.resolveRegionConfig(o),a=CR.resolveHostHeaderConfig(i),c=yc.resolveEndpointConfig(a),u=PR.resolveHttpAuthSchemeConfig(c),f=XV(u,e?.extensions||[]);this.config=f,this.middlewareStack.use(Li.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(AR.getUserAgentPlugin(this.config)),this.middlewareStack.use(RR.getRetryPlugin(this.config)),this.middlewareStack.use(VV.getContentLengthPlugin(this.config)),this.middlewareStack.use(CR.getHostHeaderPlugin(this.config)),this.middlewareStack.use(GV.getLoggerPlugin(this.config)),this.middlewareStack.use(qV.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(mc.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:PR.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async m=>new mc.DefaultIdentityProviderConfig({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(mc.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},Mi=class OR extends yr.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,OR.prototype)}},kR=class LR extends Mi{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,LR.prototype)}},MR=class UR extends Mi{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,UR.prototype)}},BR=class FR extends Mi{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,FR.prototype)}},$R=class jR extends Mi{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,jR.prototype)}},QV="AccountInfo",ZV="AccountListType",JV="AccessTokenType",ez="GetRoleCredentials",tz="GetRoleCredentialsRequest",rz="GetRoleCredentialsResponse",nz="InvalidRequestException",sz="Logout",oz="ListAccounts",iz="ListAccountsRequest",az="ListAccountRolesRequest",cz="ListAccountRolesResponse",uz="ListAccountsResponse",lz="ListAccountRoles",dz="LogoutRequest",pz="RoleCredentials",fz="RoleInfo",mz="RoleListType",hz="ResourceNotFoundException",gz="SecretAccessKeyType",yz="SessionTokenType",Ez="TooManyRequestsException",Sz="UnauthorizedException",Md="accountId",_z="accessKeyId",bz="accountList",Tz="accountName",Ud="accessToken",GR="account_id",Bd="client",Fd="error",vz="emailAddress",wz="expiration",$d="http",jd="httpError",Gd="httpHeader",po="httpQuery",qd="message",qR="maxResults",HR="max_result",Hd="nextToken",VR="next_token",xz="roleCredentials",Iz="roleList",zR="roleName",Cz="role_name",WR="smithy.ts.sdk.synthetic.com.amazonaws.sso",Az="secretAccessKey",Rz="sessionToken",Vd="x-amz-sso_bearer_token",Le="com.amazonaws.sso",zd=[0,Le,JV,8,0],Pz=[0,Le,gz,8,0],Dz=[0,Le,yz,8,0],Nz=[3,Le,QV,0,[Md,Tz,vz],[0,0,0]],Oz=[3,Le,tz,0,[zR,Md,Ud],[[0,{[po]:Cz}],[0,{[po]:GR}],[()=>zd,{[Gd]:Vd}]]],kz=[3,Le,rz,0,[xz],[[()=>Gz,0]]],Lz=[-3,Le,nz,{[Fd]:Bd,[jd]:400},[qd],[0]];Li.TypeRegistry.for(Le).registerError(Lz,kR);var Mz=[3,Le,az,0,[Hd,qR,Ud,Md],[[0,{[po]:VR}],[1,{[po]:HR}],[()=>zd,{[Gd]:Vd}],[0,{[po]:GR}]]],Uz=[3,Le,cz,0,[Hd,Iz],[0,()=>Yz]],Bz=[3,Le,iz,0,[Hd,qR,Ud],[[0,{[po]:VR}],[1,{[po]:HR}],[()=>zd,{[Gd]:Vd}]]],Fz=[3,Le,uz,0,[Hd,bz],[0,()=>Kz]],$z=[3,Le,dz,0,[Ud],[[()=>zd,{[Gd]:Vd}]]],jz=[-3,Le,hz,{[Fd]:Bd,[jd]:404},[qd],[0]];Li.TypeRegistry.for(Le).registerError(jz,MR);var Gz=[3,Le,pz,0,[_z,Az,Rz,wz],[0,[()=>Pz,0],[()=>Dz,0],1]],qz=[3,Le,fz,0,[zR,Md],[0,0]],Hz=[-3,Le,Ez,{[Fd]:Bd,[jd]:429},[qd],[0]];Li.TypeRegistry.for(Le).registerError(Hz,BR);var Vz=[-3,Le,Sz,{[Fd]:Bd,[jd]:401},[qd],[0]];Li.TypeRegistry.for(Le).registerError(Vz,$R);var zz="unit",Wz=[-3,WR,"SSOServiceException",0,[],[]];Li.TypeRegistry.for(WR).registerError(Wz,Mi);var Kz=[1,Le,ZV,0,()=>Nz],Yz=[1,Le,mz,0,()=>qz],Xz=[9,Le,ez,{[$d]:["GET","/federation/credentials",200]},()=>Oz,()=>kz],Qz=[9,Le,lz,{[$d]:["GET","/assignment/roles",200]},()=>Mz,()=>Uz],Zz=[9,Le,oz,{[$d]:["GET","/assignment/accounts",200]},()=>Bz,()=>Fz],Jz=[9,Le,sz,{[$d]:["POST","/logout",200]},()=>$z,()=>zz],Nd=class extends yr.Command.classBuilder().ep(Ld).m(function(e,r,n,s){return[yc.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(Xz).build(){},hc=class extends yr.Command.classBuilder().ep(Ld).m(function(e,r,n,s){return[yc.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").sc(Qz).build(){},gc=class extends yr.Command.classBuilder().ep(Ld).m(function(e,r,n,s){return[yc.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").sc(Zz).build(){},Od=class extends yr.Command.classBuilder().ep(Ld).m(function(e,r,n,s){return[yc.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").sc(Jz).build(){},eW={GetRoleCredentialsCommand:Nd,ListAccountRolesCommand:hc,ListAccountsCommand:gc,LogoutCommand:Od},kd=class extends ki{};yr.createAggregatedClient(eW,kd);var tW=mc.createPaginator(ki,hc,"nextToken","nextToken","maxResults"),rW=mc.createPaginator(ki,gc,"nextToken","nextToken","maxResults");Object.defineProperty(gt,"$Command",{enumerable:!0,get:function(){return yr.Command}});Object.defineProperty(gt,"__Client",{enumerable:!0,get:function(){return yr.Client}});gt.GetRoleCredentialsCommand=Nd;gt.InvalidRequestException=kR;gt.ListAccountRolesCommand=hc;gt.ListAccountsCommand=gc;gt.LogoutCommand=Od;gt.ResourceNotFoundException=MR;gt.SSO=kd;gt.SSOClient=ki;gt.SSOServiceException=Mi;gt.TooManyRequestsException=BR;gt.UnauthorizedException=$R;gt.paginateListAccountRoles=tW;gt.paginateListAccounts=rW});var XR=R(RE=>{"use strict";var YR=KR();Object.defineProperty(RE,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return YR.GetRoleCredentialsCommand}});Object.defineProperty(RE,"SSOClient",{enumerable:!0,get:function(){return YR.SSOClient}})});var PE=R(Kd=>{"use strict";var Er=ft(),Wd=Lr(),QR=(Xt(),ie(fn)),nW=tR(),JR=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),Ec=!1,ZR=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:c,filepath:u,configFilepath:f,ignoreCache:m,logger:g})=>{let h,E="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let He=await nW.fromSso({profile:c,filepath:u,configFilepath:f,ignoreCache:m})();h={accessToken:He.token,expiresAt:new Date(He.expiration).toISOString()}}catch(He){throw new Er.CredentialsProviderError(He.message,{tryNextLink:Ec,logger:g})}else try{h=await Wd.getSSOTokenFromFile(t)}catch{throw new Er.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${E}`,{tryNextLink:Ec,logger:g})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Er.CredentialsProviderError(`The SSO session associated with this profile has expired. ${E}`,{tryNextLink:Ec,logger:g});let{accessToken:w}=h,{SSOClient:I,GetRoleCredentialsCommand:A}=await Promise.resolve().then(function(){return XR()}),N=o||new I(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n,userAgentAppId:i?.userAgentAppId??a?.userAgentAppId})),U;try{U=await N.send(new A({accountId:r,roleName:s,accessToken:w}))}catch(He){throw new Er.CredentialsProviderError(He,{tryNextLink:Ec,logger:g})}let{roleCredentials:{accessKeyId:z,secretAccessKey:re,sessionToken:ge,expiration:qe,credentialScope:le,accountId:Ee}={}}=U;if(!z||!re||!ge||!qe)throw new Er.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:Ec,logger:g});let Ne={accessKeyId:z,secretAccessKey:re,sessionToken:ge,expiration:new Date(qe),...le&&{credentialScope:le},...Ee&&{accountId:Ee}};return e?QR.setCredentialFeature(Ne,"CREDENTIALS_SSO","s"):QR.setCredentialFeature(Ne,"CREDENTIALS_SSO_LEGACY","u"),Ne},eP=(t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=t;if(!r||!n||!s||!o)throw new Er.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t},sW=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=t,{ssoClient:a}=t,c=Wd.getProfileName({profile:t.profile??e?.profile});if(!r&&!n&&!s&&!o&&!i){let f=(await Wd.parseKnownFiles(t))[c];if(!f)throw new Er.CredentialsProviderError(`Profile ${c} was not found.`,{logger:t.logger});if(!JR(f))throw new Er.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(f?.sso_session){let A=(await Wd.loadSsoSessionData(t))[f.sso_session],N=` configurations in profile ${c} and sso-session ${f.sso_session}`;if(s&&s!==A.sso_region)throw new Er.CredentialsProviderError("Conflicting SSO region"+N,{tryNextLink:!1,logger:t.logger});if(r&&r!==A.sso_start_url)throw new Er.CredentialsProviderError("Conflicting SSO start_url"+N,{tryNextLink:!1,logger:t.logger});f.sso_region=A.sso_region,f.sso_start_url=A.sso_start_url}let{sso_start_url:m,sso_account_id:g,sso_region:h,sso_role_name:E,sso_session:w}=eP(f,t.logger);return ZR({ssoStartUrl:m,ssoSession:w,ssoAccountId:g,ssoRegion:h,ssoRoleName:E,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}else{if(!r||!n||!s||!o)throw new Er.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return ZR({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:c,filepath:t.filepath,configFilepath:t.configFilepath,ignoreCache:t.ignoreCache,logger:t.logger})}};Kd.fromSSO=sW;Kd.isSsoProfile=JR;Kd.validateSsoProfile=eP});function oW(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"signin",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function iW(t){return{schemeId:"smithy.api#noAuth"}}var Sc,tP,rP,nP,DE=_(()=>{tt();Sc=T(ct()),tP=async(t,e,r)=>({operation:(0,Sc.getSmithyContext)(e).operation,region:await(0,Sc.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});rP=t=>{let e=[];switch(t.operation){case"CreateOAuth2Token":{e.push(iW(t));break}default:e.push(oW(t))}return e},nP=t=>{let e=mn(t);return Object.assign(e,{authSchemePreference:(0,Sc.normalizeProvider)(t.authSchemePreference??[])})}});var sP,oP,NE=_(()=>{sP=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"signin"}),oP={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var fP,Et,St,wn,iP,fo,Ui,_s,Sr,Qd,OE,aP,cP,uP,kE,LE,yt,ME,Yd,Xd,lP,dP,pP,aW,mP,hP=_(()=>{fP="required",Et="fn",St="argv",wn="ref",iP="isSet",fo="booleanEquals",Ui="error",_s="endpoint",Sr="tree",Qd="PartitionResult",OE="stringEquals",aP={[fP]:!0,default:!1,type:"boolean"},cP={[fP]:!1,type:"string"},uP={[wn]:"Endpoint"},kE={[Et]:fo,[St]:[{[wn]:"UseFIPS"},!0]},LE={[Et]:fo,[St]:[{[wn]:"UseDualStack"},!0]},yt={},ME={[Et]:"getAttr",[St]:[{[wn]:Qd},"name"]},Yd={[Et]:fo,[St]:[{[wn]:"UseFIPS"},!1]},Xd={[Et]:fo,[St]:[{[wn]:"UseDualStack"},!1]},lP={[Et]:"getAttr",[St]:[{[wn]:Qd},"supportsFIPS"]},dP={[Et]:fo,[St]:[!0,{[Et]:"getAttr",[St]:[{[wn]:Qd},"supportsDualStack"]}]},pP=[{[wn]:"Region"}],aW={version:"1.0",parameters:{UseDualStack:aP,UseFIPS:aP,Endpoint:cP,Region:cP},rules:[{conditions:[{[Et]:iP,[St]:[uP]}],rules:[{conditions:[kE],error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ui},{rules:[{conditions:[LE],error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ui},{endpoint:{url:uP,properties:yt,headers:yt},type:_s}],type:Sr}],type:Sr},{rules:[{conditions:[{[Et]:iP,[St]:pP}],rules:[{conditions:[{[Et]:"aws.partition",[St]:pP,assign:Qd}],rules:[{conditions:[{[Et]:OE,[St]:[ME,"aws"]},Yd,Xd],endpoint:{url:"https://{Region}.signin.aws.amazon.com",properties:yt,headers:yt},type:_s},{conditions:[{[Et]:OE,[St]:[ME,"aws-cn"]},Yd,Xd],endpoint:{url:"https://{Region}.signin.amazonaws.cn",properties:yt,headers:yt},type:_s},{conditions:[{[Et]:OE,[St]:[ME,"aws-us-gov"]},Yd,Xd],endpoint:{url:"https://{Region}.signin.amazonaws-us-gov.com",properties:yt,headers:yt},type:_s},{conditions:[kE,LE],rules:[{conditions:[{[Et]:fo,[St]:[!0,lP]},dP],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},type:_s}],type:Sr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ui}],type:Sr},{conditions:[kE,Xd],rules:[{conditions:[{[Et]:fo,[St]:[lP,!0]}],rules:[{endpoint:{url:"https://signin-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yt,headers:yt},type:_s}],type:Sr},{error:"FIPS is enabled but this partition does not support FIPS",type:Ui}],type:Sr},{conditions:[Yd,LE],rules:[{conditions:[dP],rules:[{endpoint:{url:"https://signin.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yt,headers:yt},type:_s}],type:Sr},{error:"DualStack is enabled but this partition does not support DualStack",type:Ui}],type:Sr},{endpoint:{url:"https://signin.{Region}.{PartitionResult#dnsSuffix}",properties:yt,headers:yt},type:_s}],type:Sr}],type:Sr},{error:"Invalid Configuration: Missing Region",type:Ui}],type:Sr}]},mP=aW});var gP,Bi,cW,yP,EP=_(()=>{gP=T(eo()),Bi=T(Kn());hP();cW=new Bi.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),yP=(t,e={})=>cW.get(t,()=>(0,Bi.resolveEndpoint)(mP,{endpointParams:t,logger:e.logger}));Bi.customEndpointFunctions.aws=gP.awsEndpointFunctions});var SP,_P,Zd,Jd,bP,TP=_(()=>{tt();ls();lt();SP=T(te()),_P=T(pn()),Zd=T(Qe()),Jd=T(Je());DE();EP();bP=t=>({apiVersion:"2023-01-01",base64Decoder:t?.base64Decoder??Zd.fromBase64,base64Encoder:t?.base64Encoder??Zd.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??yP,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??rP,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new pt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pr}],logger:t?.logger??new SP.NoOpLogger,protocol:t?.protocol??new as({defaultNamespace:"com.amazonaws.signin"}),serviceId:t?.serviceId??"Signin",urlParser:t?.urlParser??_P.parseUrl,utf8Decoder:t?.utf8Decoder??Jd.fromUtf8,utf8Encoder:t?.utf8Encoder??Jd.toUtf8})});var ep,Ts,vP,tp,bs,rp,wP,xP,IP,CP,AP,RP,PP=_(()=>{pd();tt();ep=T(Ti()),Ts=T(Ot()),vP=T(vi()),tp=T(mr()),bs=T(Mr()),rp=T(Vn()),wP=T(wi()),xP=T(io());TP();IP=T(te()),CP=T(Ri()),AP=T(te()),RP=t=>{(0,AP.emitWarningIfUnsupportedVersion)(process.version);let e=(0,CP.resolveDefaultsModeConfig)(t),r=()=>e().then(IP.loadConfigsForDefaultMode),n=bP(t);Yn(process.version);let s={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,bs.loadConfig)(Qn,s),bodyLengthChecker:t?.bodyLengthChecker??wP.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,ep.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:bi.version}),maxAttempts:t?.maxAttempts??(0,bs.loadConfig)(tp.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,bs.loadConfig)(Ts.NODE_REGION_CONFIG_OPTIONS,{...Ts.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:rp.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,bs.loadConfig)({...tp.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||xP.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??vP.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??rp.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,bs.loadConfig)(Ts.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:t?.useFipsEndpoint??(0,bs.loadConfig)(Ts.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:t?.userAgentAppId??(0,bs.loadConfig)(ep.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var DP,NP,OP=_(()=>{DP=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){let o=e.findIndex(i=>i.schemeId===s.schemeId);o===-1?e.push(s):e.splice(o,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},NP=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var np,sp,op,kP,LP=_(()=>{np=T(co()),sp=T(Re()),op=T(te());OP();kP=(t,e)=>{let r=Object.assign((0,np.getAwsRegionExtensionConfiguration)(t),(0,op.getDefaultExtensionConfiguration)(t),(0,sp.getHttpHandlerExtensionConfiguration)(t),DP(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,np.resolveAwsRegionExtensionConfiguration)(r),(0,op.resolveDefaultRuntimeConfig)(r),(0,sp.resolveHttpHandlerRuntimeConfig)(r),NP(r))}});var ip,MP,UP,ap,BP,FP,$P,cp,UE,_c,BE=_(()=>{ip=T(qo()),MP=T(Ho()),UP=T(Vo()),ap=T(so()),BP=T(Ot());lt();Te();FP=T(yi()),$P=T(Ur()),cp=T(mr()),UE=T(te());DE();NE();PP();LP();_c=class extends UE.Client{config;constructor(...[e]){let r=RP(e||{});super(r),this.initConfig=r;let n=sP(r),s=(0,ap.resolveUserAgentConfig)(n),o=(0,cp.resolveRetryConfig)(s),i=(0,BP.resolveRegionConfig)(o),a=(0,ip.resolveHostHeaderConfig)(i),c=(0,$P.resolveEndpointConfig)(a),u=nP(c),f=kP(u,e?.extensions||[]);this.config=f,this.middlewareStack.use(Vs(this.config)),this.middlewareStack.use((0,ap.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,cp.getRetryPlugin)(this.config)),this.middlewareStack.use((0,FP.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ip.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,MP.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,UP.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qs(this.config,{httpAuthSchemeParametersProvider:tP,identityProviderConfigProvider:async m=>new dn({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var jP,_r,up=_(()=>{jP=T(te()),_r=class t extends jP.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var bc,Tc,vc,wc,FE=_(()=>{up();bc=class t extends _r{name="AccessDeniedException";$fault="client";error;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},Tc=class t extends _r{name="InternalServerException";$fault="server";error;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},vc=class t extends _r{name="TooManyRequestsError";$fault="client";error;constructor(e){super({name:"TooManyRequestsError",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}},wc=class t extends _r{name="ValidationException";$fault="client";error;constructor(e){super({name:"ValidationException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error}}});var uW,lW,dW,pW,fW,mW,hW,gW,yW,EW,SW,GP,qP,$E,HP,VP,_W,vs,zP,WP,bW,jE,KP,qt,dp,lp,YP,TW,XP,QP,JP,vW,wW,ZP,At,eD,xW,IW,CW,AW,RW,PW,DW,NW,OW,kW,tD,rD=_(()=>{Te();FE();up();uW="AccessDeniedException",lW="AccessToken",dW="CreateOAuth2Token",pW="CreateOAuth2TokenRequest",fW="CreateOAuth2TokenRequestBody",mW="CreateOAuth2TokenResponseBody",hW="CreateOAuth2TokenResponse",gW="InternalServerException",yW="RefreshToken",EW="TooManyRequestsError",SW="ValidationException",GP="accessKeyId",qP="accessToken",$E="client",HP="clientId",VP="codeVerifier",_W="code",vs="error",zP="expiresIn",WP="grantType",bW="http",jE="httpError",KP="idToken",qt="jsonName",dp="message",lp="refreshToken",YP="redirectUri",TW="server",XP="secretAccessKey",QP="sessionToken",JP="smithy.ts.sdk.synthetic.com.amazonaws.signin",vW="tokenInput",wW="tokenOutput",ZP="tokenType",At="com.amazonaws.signin",eD=[0,At,yW,8,0],xW=[-3,At,uW,{[vs]:$E},[vs,dp],[0,0]];Q.for(At).registerError(xW,bc);IW=[3,At,lW,8,[GP,XP,QP],[[0,{[qt]:GP}],[0,{[qt]:XP}],[0,{[qt]:QP}]]],CW=[3,At,pW,0,[vW],[[()=>AW,16]]],AW=[3,At,fW,0,[HP,WP,_W,YP,VP,lp],[[0,{[qt]:HP}],[0,{[qt]:WP}],0,[0,{[qt]:YP}],[0,{[qt]:VP}],[()=>eD,{[qt]:lp}]]],RW=[3,At,hW,0,[wW],[[()=>PW,16]]],PW=[3,At,mW,0,[qP,ZP,zP,lp,KP],[[()=>IW,{[qt]:qP}],[0,{[qt]:ZP}],[1,{[qt]:zP}],[()=>eD,{[qt]:lp}],[0,{[qt]:KP}]]],DW=[-3,At,gW,{[vs]:TW,[jE]:500},[vs,dp],[0,0]];Q.for(At).registerError(DW,Tc);NW=[-3,At,EW,{[vs]:$E,[jE]:429},[vs,dp],[0,0]];Q.for(At).registerError(NW,vc);OW=[-3,At,SW,{[vs]:$E,[jE]:400},[vs,dp],[0,0]];Q.for(At).registerError(OW,wc);kW=[-3,JP,"SigninServiceException",0,[],[]];Q.for(JP).registerError(kW,_r);tD=[9,At,dW,{[bW]:["POST","/v1/token",200]},()=>CW,()=>RW]});var nD,GE,xc,qE=_(()=>{nD=T(Ur()),GE=T(te());NE();rD();xc=class extends GE.Command.classBuilder().ep(oP).m(function(e,r,n,s){return[(0,nD.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("Signin","CreateOAuth2Token",{}).n("SigninClient","CreateOAuth2TokenCommand").sc(tD).build(){}});var sD,LW,pp,oD=_(()=>{sD=T(te());qE();BE();LW={CreateOAuth2TokenCommand:xc},pp=class extends _c{};(0,sD.createAggregatedClient)(LW,pp)});var iD=_(()=>{qE()});var MW,aD=_(()=>{MW={AUTHCODE_EXPIRED:"AUTHCODE_EXPIRED",INSUFFICIENT_PERMISSIONS:"INSUFFICIENT_PERMISSIONS",INVALID_REQUEST:"INVALID_REQUEST",SERVER_ERROR:"server_error",TOKEN_EXPIRED:"TOKEN_EXPIRED",USER_CREDENTIALS_CHANGED:"USER_CREDENTIALS_CHANGED"}});var cD={};at(cD,{$Command:()=>GE.Command,AccessDeniedException:()=>bc,CreateOAuth2TokenCommand:()=>xc,InternalServerException:()=>Tc,OAuth2ErrorCode:()=>MW,Signin:()=>pp,SigninClient:()=>_c,SigninServiceException:()=>_r,TooManyRequestsError:()=>vc,ValidationException:()=>wc,__Client:()=>UE.Client});var uD=_(()=>{BE();oD();iD();aD();FE();up()});var dD=R(lD=>{"use strict";var UW=(Xt(),ie(fn)),ws=ft(),zE=Lr(),BW=Re(),fp=ue("node:crypto"),HE=ue("node:fs"),FW=ue("node:os"),VE=ue("node:path"),WE=class t{profileData;init;callerClientConfig;static REFRESH_THRESHOLD=5*60*1e3;constructor(e,r,n){this.profileData=e,this.init=r,this.callerClientConfig=n}async loadCredentials(){let e=await this.loadToken();if(!e)throw new ws.CredentialsProviderError(`Failed to load a token for session ${this.loginSession}, please re-authenticate using aws login`,{tryNextLink:!1,logger:this.logger});let r=e.accessToken,n=Date.now();return new Date(r.expiresAt).getTime()-n<=t.REFRESH_THRESHOLD?this.refresh(e):{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,sessionToken:r.sessionToken,accountId:r.accountId,expiration:new Date(r.expiresAt)}}get logger(){return this.init?.logger}get loginSession(){return this.profileData.login_session}async refresh(e){let{SigninClient:r,CreateOAuth2TokenCommand:n}=await Promise.resolve().then(()=>(uD(),cD)),{logger:s,userAgentAppId:o}=this.callerClientConfig??{},a=(m=>m?.metadata?.handlerProtocol==="h2")(this.callerClientConfig?.requestHandler)?void 0:this.callerClientConfig?.requestHandler,c=this.profileData.region??await this.callerClientConfig?.region?.()??process.env.AWS_REGION,u=new r({credentials:{accessKeyId:"",secretAccessKey:""},region:c,requestHandler:a,logger:s,userAgentAppId:o,...this.init?.clientConfig});this.createDPoPInterceptor(u.middlewareStack);let f={tokenInput:{clientId:e.clientId,refreshToken:e.refreshToken,grantType:"refresh_token"}};try{let m=await u.send(new n(f)),{accessKeyId:g,secretAccessKey:h,sessionToken:E}=m.tokenOutput?.accessToken??{},{refreshToken:w,expiresIn:I}=m.tokenOutput??{};if(!g||!h||!E||!w)throw new ws.CredentialsProviderError("Token refresh response missing required fields",{logger:this.logger,tryNextLink:!1});let A=(I??900)*1e3,N=new Date(Date.now()+A),U={...e,accessToken:{...e.accessToken,accessKeyId:g,secretAccessKey:h,sessionToken:E,expiresAt:N.toISOString()},refreshToken:w};await this.saveToken(U);let z=U.accessToken;return{accessKeyId:z.accessKeyId,secretAccessKey:z.secretAccessKey,sessionToken:z.sessionToken,accountId:z.accountId,expiration:N}}catch(m){if(m.name==="AccessDeniedException"){let g=m.error,h;switch(g){case"TOKEN_EXPIRED":h="Your session has expired. Please reauthenticate.";break;case"USER_CREDENTIALS_CHANGED":h="Unable to refresh credentials because of a change in your password. Please reauthenticate with your new password.";break;case"INSUFFICIENT_PERMISSIONS":h="Unable to refresh credentials due to insufficient permissions. You may be missing permission for the 'CreateOAuth2Token' action.";break;default:h=`Failed to refresh token: ${String(m)}. Please re-authenticate using \`aws login\``}throw new ws.CredentialsProviderError(h,{logger:this.logger,tryNextLink:!1})}throw new ws.CredentialsProviderError(`Failed to refresh token: ${String(m)}. Please re-authenticate using aws login`,{logger:this.logger})}}async loadToken(){let e=this.getTokenFilePath();try{let r;try{r=await zE.readFile(e,{ignoreCache:this.init?.ignoreCache})}catch{r=await HE.promises.readFile(e,"utf8")}let n=JSON.parse(r),s=["accessToken","clientId","refreshToken","dpopKey"].filter(o=>!n[o]);if(n.accessToken?.accountId||s.push("accountId"),s.length>0)throw new ws.CredentialsProviderError(`Token validation failed, missing fields: ${s.join(", ")}`,{logger:this.logger,tryNextLink:!1});return n}catch(r){throw new ws.CredentialsProviderError(`Failed to load token from ${e}: ${String(r)}`,{logger:this.logger,tryNextLink:!1})}}async saveToken(e){let r=this.getTokenFilePath(),n=VE.dirname(r);try{await HE.promises.mkdir(n,{recursive:!0})}catch{}await HE.promises.writeFile(r,JSON.stringify(e,null,2),"utf8")}getTokenFilePath(){let e=process.env.AWS_LOGIN_CACHE_DIRECTORY??VE.join(FW.homedir(),".aws","login","cache"),r=Buffer.from(this.loginSession,"utf8"),n=fp.createHash("sha256").update(r).digest("hex");return VE.join(e,`${n}.json`)}derToRawSignature(e){let r=2;if(e[r]!==2)throw new Error("Invalid DER signature");r++;let n=e[r++],s=e.subarray(r,r+n);if(r+=n,e[r]!==2)throw new Error("Invalid DER signature");r++;let o=e[r++],i=e.subarray(r,r+o);s=s[0]===0?s.subarray(1):s,i=i[0]===0?i.subarray(1):i;let a=Buffer.concat([Buffer.alloc(32-s.length),s]),c=Buffer.concat([Buffer.alloc(32-i.length),i]);return Buffer.concat([a,c])}createDPoPInterceptor(e){e.add(r=>async n=>{if(BW.HttpRequest.isInstance(n.request)){let s=n.request,o=`${s.protocol}//${s.hostname}${s.port?`:${s.port}`:""}${s.path}`,i=await this.generateDpop(s.method,o);s.headers={...s.headers,DPoP:i}}return r(n)},{step:"finalizeRequest",name:"dpopInterceptor",override:!0})}async generateDpop(e="POST",r){let n=await this.loadToken();try{let s=fp.createPrivateKey({key:n.dpopKey,format:"pem",type:"sec1"}),i=fp.createPublicKey(s).export({format:"der",type:"spki"}),a=-1;for(let N=0;N<i.length;N++)if(i[N]===4){a=N;break}let c=i.slice(a+1,a+33),u=i.slice(a+33,a+65),f={alg:"ES256",typ:"dpop+jwt",jwk:{kty:"EC",crv:"P-256",x:c.toString("base64url"),y:u.toString("base64url")}},m={jti:crypto.randomUUID(),htm:e,htu:r,iat:Math.floor(Date.now()/1e3)},g=Buffer.from(JSON.stringify(f)).toString("base64url"),h=Buffer.from(JSON.stringify(m)).toString("base64url"),E=`${g}.${h}`,w=fp.sign("sha256",Buffer.from(E),s),A=this.derToRawSignature(w).toString("base64url");return`${E}.${A}`}catch(s){throw new ws.CredentialsProviderError(`Failed to generate Dpop proof: ${s instanceof Error?s.message:String(s)}`,{logger:this.logger,tryNextLink:!1})}}},$W=t=>async({callerClientConfig:e}={})=>{t?.logger?.debug?.("@aws-sdk/credential-providers - fromLoginCredentials");let r=await zE.parseKnownFiles(t||{}),n=zE.getProfileName({profile:t?.profile??e?.profile}),s=r[n];if(!s?.login_session)throw new ws.CredentialsProviderError(`Profile ${n} does not contain login_session.`,{tryNextLink:!0,logger:t?.logger});let i=await new WE(s,t,e).loadCredentials();return UW.setCredentialFeature(i,"CREDENTIALS_LOGIN","AD")};lD.fromLoginCredentials=$W});function jW(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function GW(t){return{schemeId:"smithy.api#noAuth"}}var Ic,pD,fD,qW,mD,KE=_(()=>{tt();Ic=T(ct());Cc();pD=async(t,e,r)=>({operation:(0,Ic.getSmithyContext)(e).operation,region:await(0,Ic.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fD=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(GW(t));break}default:e.push(jW(t))}return e},qW=t=>Object.assign(t,{stsClientCtor:jr}),mD=t=>{let e=qW(t),r=mn(e);return Object.assign(r,{authSchemePreference:(0,Ic.normalizeProvider)(t.authSchemePreference??[])})}});var hD,mp,hp=_(()=>{hD=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),mp={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var ID,oe,ve,we,Is,xs,st,CD,AD,RD,Ue,gD,Gr,Fi,XE,yD,YE,PD,ED,ot,SD,DD,ND,_t,Ht,_D,OD,kD,bD,LD,TD,vD,wD,xD,HW,MD,UD=_(()=>{ID="required",oe="type",ve="fn",we="argv",Is="ref",xs="booleanEquals",st="stringEquals",CD="sigv4",AD="sts",RD="us-east-1",Ue="endpoint",gD="https://sts.{Region}.{PartitionResult#dnsSuffix}",Gr="tree",Fi="error",XE="getAttr",yD={[ID]:!1,[oe]:"string"},YE={[ID]:!0,default:!1,[oe]:"boolean"},PD={[Is]:"Endpoint"},ED={[ve]:"isSet",[we]:[{[Is]:"Region"}]},ot={[Is]:"Region"},SD={[ve]:"aws.partition",[we]:[ot],assign:"PartitionResult"},DD={[Is]:"UseFIPS"},ND={[Is]:"UseDualStack"},_t={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:CD,signingName:AD,signingRegion:RD}]},headers:{}},Ht={},_D={conditions:[{[ve]:st,[we]:[ot,"aws-global"]}],[Ue]:_t,[oe]:Ue},OD={[ve]:xs,[we]:[DD,!0]},kD={[ve]:xs,[we]:[ND,!0]},bD={[ve]:XE,[we]:[{[Is]:"PartitionResult"},"supportsFIPS"]},LD={[Is]:"PartitionResult"},TD={[ve]:xs,[we]:[!0,{[ve]:XE,[we]:[LD,"supportsDualStack"]}]},vD=[{[ve]:"isSet",[we]:[PD]}],wD=[OD],xD=[kD],HW={version:"1.0",parameters:{Region:yD,UseDualStack:YE,UseFIPS:YE,Endpoint:yD,UseGlobalEndpoint:YE},rules:[{conditions:[{[ve]:xs,[we]:[{[Is]:"UseGlobalEndpoint"},!0]},{[ve]:"not",[we]:vD},ED,SD,{[ve]:xs,[we]:[DD,!1]},{[ve]:xs,[we]:[ND,!1]}],rules:[{conditions:[{[ve]:st,[we]:[ot,"ap-northeast-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"ap-south-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"ap-southeast-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"ap-southeast-2"]}],endpoint:_t,[oe]:Ue},_D,{conditions:[{[ve]:st,[we]:[ot,"ca-central-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"eu-central-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"eu-north-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"eu-west-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"eu-west-2"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"eu-west-3"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"sa-east-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,RD]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"us-east-2"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"us-west-1"]}],endpoint:_t,[oe]:Ue},{conditions:[{[ve]:st,[we]:[ot,"us-west-2"]}],endpoint:_t,[oe]:Ue},{endpoint:{url:gD,properties:{authSchemes:[{name:CD,signingName:AD,signingRegion:"{Region}"}]},headers:Ht},[oe]:Ue}],[oe]:Gr},{conditions:vD,rules:[{conditions:wD,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[oe]:Fi},{conditions:xD,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[oe]:Fi},{endpoint:{url:PD,properties:Ht,headers:Ht},[oe]:Ue}],[oe]:Gr},{conditions:[ED],rules:[{conditions:[SD],rules:[{conditions:[OD,kD],rules:[{conditions:[{[ve]:xs,[we]:[!0,bD]},TD],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ht,headers:Ht},[oe]:Ue}],[oe]:Gr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[oe]:Fi}],[oe]:Gr},{conditions:wD,rules:[{conditions:[{[ve]:xs,[we]:[bD,!0]}],rules:[{conditions:[{[ve]:st,[we]:[{[ve]:XE,[we]:[LD,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ht,headers:Ht},[oe]:Ue},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ht,headers:Ht},[oe]:Ue}],[oe]:Gr},{error:"FIPS is enabled but this partition does not support FIPS",[oe]:Fi}],[oe]:Gr},{conditions:xD,rules:[{conditions:[TD],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ht,headers:Ht},[oe]:Ue}],[oe]:Gr},{error:"DualStack is enabled but this partition does not support DualStack",[oe]:Fi}],[oe]:Gr},_D,{endpoint:{url:gD,properties:Ht,headers:Ht},[oe]:Ue}],[oe]:Gr}],[oe]:Gr},{error:"Invalid Configuration: Missing Region",[oe]:Fi}]},MD=HW});var BD,$i,VW,FD,$D=_(()=>{BD=T(eo()),$i=T(Kn());UD();VW=new $i.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),FD=(t,e={})=>VW.get(t,()=>(0,$i.resolveEndpoint)(MD,{endpointParams:t,logger:e.logger}));$i.customEndpointFunctions.aws=BD.awsEndpointFunctions});var jD,GD,gp,yp,qD,HD=_(()=>{tt();ls();lt();jD=T(te()),GD=T(pn()),gp=T(Qe()),yp=T(Je());KE();$D();qD=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??gp.fromBase64,base64Encoder:t?.base64Encoder??gp.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??FD,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??fD,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new pt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pr}],logger:t?.logger??new jD.NoOpLogger,protocol:t?.protocol??new us({defaultNamespace:"com.amazonaws.sts",xmlNamespace:"https://sts.amazonaws.com/doc/2011-06-15/",version:"2011-06-15"}),serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??GD.parseUrl,utf8Decoder:t?.utf8Decoder??yp.fromUtf8,utf8Encoder:t?.utf8Encoder??yp.toUtf8})});var Ep,As,VD,Sp,Cs,_p,zD,WD,KD,YD,XD,QD,ZD=_(()=>{pd();tt();Ep=T(Ti()),As=T(Ot());lt();VD=T(vi()),Sp=T(mr()),Cs=T(Mr()),_p=T(Vn()),zD=T(wi()),WD=T(io());HD();KD=T(te()),YD=T(Ri()),XD=T(te()),QD=t=>{(0,XD.emitWarningIfUnsupportedVersion)(process.version);let e=(0,YD.resolveDefaultsModeConfig)(t),r=()=>e().then(KD.loadConfigsForDefaultMode),n=qD(t);Yn(process.version);let s={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Cs.loadConfig)(Qn,s),bodyLengthChecker:t?.bodyLengthChecker??zD.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Ep.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:bi.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await t.credentialDefaultProvider(i?.__config||{})()),signer:new pt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new pr}],maxAttempts:t?.maxAttempts??(0,Cs.loadConfig)(Sp.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Cs.loadConfig)(As.NODE_REGION_CONFIG_OPTIONS,{...As.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:_p.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Cs.loadConfig)({...Sp.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||WD.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??VD.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??_p.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Cs.loadConfig)(As.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:t?.useFipsEndpoint??(0,Cs.loadConfig)(As.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:t?.userAgentAppId??(0,Cs.loadConfig)(Ep.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var JD,eN,tN=_(()=>{JD=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){let o=e.findIndex(i=>i.schemeId===s.schemeId);o===-1?e.push(s):e.splice(o,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},eN=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var bp,Tp,vp,rN,nN=_(()=>{bp=T(co()),Tp=T(Re()),vp=T(te());tN();rN=(t,e)=>{let r=Object.assign((0,bp.getAwsRegionExtensionConfiguration)(t),(0,vp.getDefaultExtensionConfiguration)(t),(0,Tp.getHttpHandlerExtensionConfiguration)(t),JD(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,bp.resolveAwsRegionExtensionConfiguration)(r),(0,vp.resolveDefaultRuntimeConfig)(r),(0,Tp.resolveHttpHandlerRuntimeConfig)(r),eN(r))}});var wp,sN,oN,xp,iN,aN,cN,Ip,QE,jr,Cc=_(()=>{wp=T(qo()),sN=T(Ho()),oN=T(Vo()),xp=T(so()),iN=T(Ot());lt();Te();aN=T(yi()),cN=T(Ur()),Ip=T(mr()),QE=T(te());KE();hp();ZD();nN();jr=class extends QE.Client{config;constructor(...[e]){let r=QD(e||{});super(r),this.initConfig=r;let n=hD(r),s=(0,xp.resolveUserAgentConfig)(n),o=(0,Ip.resolveRetryConfig)(s),i=(0,iN.resolveRegionConfig)(o),a=(0,wp.resolveHostHeaderConfig)(i),c=(0,cN.resolveEndpointConfig)(a),u=mD(c),f=rN(u,e?.extensions||[]);this.config=f,this.middlewareStack.use(Vs(this.config)),this.middlewareStack.use((0,xp.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Ip.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aN.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,wp.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,oN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(qs(this.config,{httpAuthSchemeParametersProvider:pD,identityProviderConfigProvider:async m=>new dn({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Hs(this.config))}destroy(){super.destroy()}}});var uN,kt,Cp=_(()=>{uN=T(te()),kt=class t extends uN.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Ac,Rc,Pc,Dc,Nc,Oc,kc,ZE=_(()=>{Cp();Ac=class t extends kt{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Rc=class t extends kt{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Pc=class t extends kt{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Dc=class t extends kt{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Nc=class t extends kt{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Oc=class t extends kt{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},kc=class t extends kt{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var zW,WW,KW,YW,XW,QW,JE,ZW,JW,eK,tK,eS,rK,lN,nK,sK,oK,iK,aK,cK,uK,lK,dN,pN,dK,pK,fK,mK,hK,gK,fN,yK,EK,mN,SK,hN,_K,bK,tS,TK,vK,wK,xK,IK,CK,AK,RK,PK,DK,mo,ho,NK,go,yo,Eo,OK,gN,kK,Ce,LK,MK,yN,UK,BK,FK,$K,EN,jK,GK,qK,HK,VK,zK,WK,KK,YK,XK,QK,SN,ZK,JK,_N,bN,rS=_(()=>{Te();ZE();Cp();zW="Arn",WW="AccessKeyId",KW="AssumeRole",YW="AssumedRoleId",XW="AssumeRoleRequest",QW="AssumeRoleResponse",JE="AssumedRoleUser",ZW="AssumeRoleWithWebIdentity",JW="AssumeRoleWithWebIdentityRequest",eK="AssumeRoleWithWebIdentityResponse",tK="Audience",eS="Credentials",rK="ContextAssertion",lN="DurationSeconds",nK="Expiration",sK="ExternalId",oK="ExpiredTokenException",iK="IDPCommunicationErrorException",aK="IDPRejectedClaimException",cK="InvalidIdentityTokenException",uK="Key",lK="MalformedPolicyDocumentException",dN="Policy",pN="PolicyArns",dK="ProviderArn",pK="ProvidedContexts",fK="ProvidedContextsListType",mK="ProvidedContext",hK="PolicyDescriptorType",gK="ProviderId",fN="PackedPolicySize",yK="PackedPolicyTooLargeException",EK="Provider",mN="RoleArn",SK="RegionDisabledException",hN="RoleSessionName",_K="SecretAccessKey",bK="SubjectFromWebIdentityToken",tS="SourceIdentity",TK="SerialNumber",vK="SessionToken",wK="Tags",xK="TokenCode",IK="TransitiveTagKeys",CK="Tag",AK="Value",RK="WebIdentityToken",PK="arn",DK="accessKeySecretType",mo="awsQueryError",ho="client",NK="clientTokenType",go="error",yo="httpError",Eo="message",OK="policyDescriptorListType",gN="smithy.ts.sdk.synthetic.com.amazonaws.sts",kK="tagListType",Ce="com.amazonaws.sts",LK=[0,Ce,DK,8,0],MK=[0,Ce,NK,8,0],yN=[3,Ce,JE,0,[YW,zW],[0,0]],UK=[3,Ce,XW,0,[mN,hN,pN,dN,lN,wK,IK,sK,TK,xK,tS,pK],[0,0,()=>SN,0,1,()=>JK,64,0,0,0,0,()=>ZK]],BK=[3,Ce,QW,0,[eS,JE,fN,tS],[[()=>EN,0],()=>yN,1,0]],FK=[3,Ce,JW,0,[mN,hN,RK,gK,pN,dN,lN],[0,0,[()=>MK,0],0,()=>SN,0,1]],$K=[3,Ce,eK,0,[eS,bK,JE,fN,EK,tK,tS],[[()=>EN,0],0,()=>yN,1,0,0,0]],EN=[3,Ce,eS,0,[WW,_K,vK,nK],[0,[()=>LK,0],0,4]],jK=[-3,Ce,oK,{[go]:ho,[yo]:400,[mo]:["ExpiredTokenException",400]},[Eo],[0]];Q.for(Ce).registerError(jK,Ac);GK=[-3,Ce,iK,{[go]:ho,[yo]:400,[mo]:["IDPCommunicationError",400]},[Eo],[0]];Q.for(Ce).registerError(GK,kc);qK=[-3,Ce,aK,{[go]:ho,[yo]:403,[mo]:["IDPRejectedClaim",403]},[Eo],[0]];Q.for(Ce).registerError(qK,Nc);HK=[-3,Ce,cK,{[go]:ho,[yo]:400,[mo]:["InvalidIdentityToken",400]},[Eo],[0]];Q.for(Ce).registerError(HK,Oc);VK=[-3,Ce,lK,{[go]:ho,[yo]:400,[mo]:["MalformedPolicyDocument",400]},[Eo],[0]];Q.for(Ce).registerError(VK,Rc);zK=[-3,Ce,yK,{[go]:ho,[yo]:400,[mo]:["PackedPolicyTooLarge",400]},[Eo],[0]];Q.for(Ce).registerError(zK,Pc);WK=[3,Ce,hK,0,[PK],[0]],KK=[3,Ce,mK,0,[dK,rK],[0,0]],YK=[-3,Ce,SK,{[go]:ho,[yo]:403,[mo]:["RegionDisabledException",403]},[Eo],[0]];Q.for(Ce).registerError(YK,Dc);XK=[3,Ce,CK,0,[uK,AK],[0,0]],QK=[-3,gN,"STSServiceException",0,[],[]];Q.for(gN).registerError(QK,kt);SN=[1,Ce,OK,0,()=>WK],ZK=[1,Ce,fK,0,()=>KK],JK=[1,Ce,kK,0,()=>XK],_N=[9,Ce,KW,0,()=>UK,()=>BK],bN=[9,Ce,ZW,0,()=>FK,()=>$K]});var TN,vN,So,Ap=_(()=>{TN=T(Ur()),vN=T(te());hp();rS();So=class extends vN.Command.classBuilder().ep(mp).m(function(e,r,n,s){return[(0,TN.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").sc(_N).build(){}});var wN,xN,_o,Rp=_(()=>{wN=T(Ur()),xN=T(te());hp();rS();_o=class extends xN.Command.classBuilder().ep(mp).m(function(e,r,n,s){return[(0,wN.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").sc(bN).build(){}});var IN,e6,Pp,CN=_(()=>{IN=T(te());Ap();Rp();Cc();e6={AssumeRoleCommand:So,AssumeRoleWithWebIdentityCommand:_o},Pp=class extends jr{};(0,IN.createAggregatedClient)(e6,Pp)});var AN=_(()=>{Ap();Rp()});var RN,PN,DN,NN,ON,kN,LN=_(()=>{Xt();RN=T(co());Ap();Rp();PN=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},DN=async(t,e,r,n={})=>{let s=typeof t=="function"?await t():t,o=typeof e=="function"?await e():e,i=await(0,RN.stsRegionDefaultResolver)(n)();return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),s??o??i},NN=(t,e)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:f=t?.parentClientConfig?.logger,profile:m=t?.parentClientConfig?.profile,region:g,requestHandler:h=t?.parentClientConfig?.requestHandler,credentialProviderLogger:E,userAgentAppId:w=t?.parentClientConfig?.userAgentAppId}=t,I=await DN(g,t?.parentClientConfig?.region,E,{logger:f,profile:m}),A=!kN(h);r=new e({...t,userAgentAppId:w,profile:m,credentialDefaultProvider:()=>async()=>n,region:I,requestHandler:A?h:void 0,logger:f})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new So(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let c=PN(a),u={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...c&&{accountId:c}};return Xn(u,"CREDENTIALS_STS_ASSUME_ROLE","i"),u}},ON=(t,e)=>{let r;return async n=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,profile:u=t?.parentClientConfig?.profile,region:f,requestHandler:m=t?.parentClientConfig?.requestHandler,credentialProviderLogger:g,userAgentAppId:h=t?.parentClientConfig?.userAgentAppId}=t,E=await DN(f,t?.parentClientConfig?.region,g,{logger:c,profile:u}),w=!kN(m);r=new e({...t,userAgentAppId:h,profile:u,region:E,requestHandler:w?m:void 0,logger:c})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new _o(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=PN(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&Xn(a,"RESOLVED_ACCOUNT_ID","T"),Xn(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},kN=t=>t?.metadata?.handlerProtocol==="h2"});var MN,UN,BN,t6,FN=_(()=>{LN();Cc();MN=(t,e)=>e?class extends t{constructor(n){super(n);for(let s of e)this.middlewareStack.use(s)}}:t,UN=(t={},e)=>NN(t,MN(jr,e)),BN=(t={},e)=>ON(t,MN(jr,e)),t6=t=>e=>t({roleAssumer:UN(e),roleAssumerWithWebIdentity:BN(e),...e})});var nS={};at(nS,{AssumeRoleCommand:()=>So,AssumeRoleWithWebIdentityCommand:()=>_o,ExpiredTokenException:()=>Ac,IDPCommunicationErrorException:()=>kc,IDPRejectedClaimException:()=>Nc,InvalidIdentityTokenException:()=>Oc,MalformedPolicyDocumentException:()=>Rc,PackedPolicyTooLargeException:()=>Pc,RegionDisabledException:()=>Dc,STS:()=>Pp,STSClient:()=>jr,STSServiceException:()=>kt,__Client:()=>QE.Client,decorateDefaultCredentialProvider:()=>t6,getDefaultRoleAssumer:()=>UN,getDefaultRoleAssumerWithWebIdentity:()=>BN});var sS=_(()=>{Cc();CN();AN();ZE();FN();Cp()});var aS=R($N=>{"use strict";var iS=Lr(),oS=ft(),r6=ue("child_process"),n6=ue("util"),s6=(Xt(),ie(fn)),o6=(t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let o=new Date;if(new Date(e.Expiration)<o)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let s={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return s6.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},i6=async(t,e,r)=>{let n=e[t];if(e[t]){let s=n.credential_process;if(s!==void 0){let o=n6.promisify(iS.externalDataInterceptor?.getTokenRecord?.().exec??r6.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return o6(t,a,e)}catch(i){throw new oS.CredentialsProviderError(i.message,{logger:r})}}else throw new oS.CredentialsProviderError(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new oS.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`,{logger:r})},a6=(t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await iS.parseKnownFiles(t);return i6(iS.getProfileName({profile:t.profile??e?.profile}),r,t.logger)};$N.fromProcess=a6});var cS=R(qr=>{"use strict";var c6=qr&&qr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u6=qr&&qr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l6=qr&&qr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),s=0;s<n.length;s++)n[s]!=="default"&&c6(r,e,n[s]);return u6(r,e),r}}();Object.defineProperty(qr,"__esModule",{value:!0});qr.fromWebToken=void 0;var d6=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:u}=t;if(!u){let{getDefaultRoleAssumerWithWebIdentity:f}=await Promise.resolve().then(()=>l6((sS(),ie(nS))));u=f({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return u({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:c})};qr.fromWebToken=d6});var GN=R(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});Dp.fromTokenFile=void 0;var p6=(Xt(),ie(fn)),f6=ft(),m6=Lr(),h6=ue("fs"),g6=cS(),jN="AWS_WEB_IDENTITY_TOKEN_FILE",y6="AWS_ROLE_ARN",E6="AWS_ROLE_SESSION_NAME",S6=(t={})=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let r=t?.webIdentityTokenFile??process.env[jN],n=t?.roleArn??process.env[y6],s=t?.roleSessionName??process.env[E6];if(!r||!n)throw new f6.CredentialsProviderError("Web identity configuration not specified",{logger:t.logger});let o=await(0,g6.fromWebToken)({...t,webIdentityToken:m6.externalDataInterceptor?.getTokenRecord?.()[r]??(0,h6.readFileSync)(r,{encoding:"ascii"}),roleArn:n,roleSessionName:s})(e);return r===process.env[jN]&&(0,p6.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Dp.fromTokenFile=S6});var uS=R(Lc=>{"use strict";var qN=GN(),HN=cS();Object.keys(qN).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Lc,t)&&Object.defineProperty(Lc,t,{enumerable:!0,get:function(){return qN[t]}})});Object.keys(HN).forEach(function(t){t!=="default"&&!Object.prototype.hasOwnProperty.call(Lc,t)&&Object.defineProperty(Lc,t,{enumerable:!0,get:function(){return HN[t]}})})});var XN=R(YN=>{"use strict";var dS=Lr(),Mc=ft(),xn=(Xt(),ie(fn)),_6=dD(),b6=(t,e,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>T(aE())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(Ka()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Mc.chain(o(s??{}),i(s))().then(lS)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(Ka()));return async()=>o(s)().then(lS)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>T(Jy()));return async()=>o(s)().then(lS)}};if(t in n)return n[t];throw new Mc.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},lS=t=>xn.setCredentialFeature(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),T6=(t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(v6(t,{profile:e,logger:r})||w6(t,{profile:e,logger:r})),v6=(t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},w6=(t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},x6=async(t,e,r,n={},s)=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=e[t],{source_profile:i,region:a}=o;if(!r.roleAssumer){let{getDefaultRoleAssumer:u}=await Promise.resolve().then(()=>(sS(),nS));r.roleAssumer=u({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:a??r?.parentClientConfig?.region}},r.clientPlugins)}if(i&&i in n)throw new Mc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${dS.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${t}]`}`);let c=i?s(i,e,r,{...n,[i]:!0},VN(e[i]??{})):(await b6(o.credential_source,t,r.logger)(r))();if(VN(o))return c.then(u=>xn.setCredentialFeature(u,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let u={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:f}=o;if(f){if(!r.mfaCodeProvider)throw new Mc.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});u.SerialNumber=f,u.TokenCode=await r.mfaCodeProvider(f)}let m=await c;return r.roleAssumer(m,u).then(g=>xn.setCredentialFeature(g,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},VN=t=>!t.role_arn&&!!t.credential_source,I6=t=>!!(t&&t.login_session),C6=async(t,e)=>{let r=await _6.fromLoginCredentials({...e,profile:t})();return xn.setCredentialFeature(r,"CREDENTIALS_PROFILE_LOGIN","AC")},A6=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",R6=async(t,e)=>Promise.resolve().then(()=>T(aS())).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>xn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),P6=async(t,e,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>T(PE()));return n({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>e.sso_session?xn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):xn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},D6=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),zN=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,WN=async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return xn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},N6=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,O6=async(t,e)=>Promise.resolve().then(()=>T(uS())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})().then(n=>xn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),KN=async(t,e,r,n={},s=!1)=>{let o=e[t];if(Object.keys(n).length>0&&zN(o))return WN(o,r);if(s||T6(o,{profile:t,logger:r.logger}))return x6(t,e,r,n,KN);if(zN(o))return WN(o,r);if(N6(o))return O6(o,r);if(A6(o))return R6(r,t);if(D6(o))return await P6(t,o,r);if(I6(o))return C6(t,r);throw new Mc.CredentialsProviderError(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})},k6=(t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await dS.parseKnownFiles(r);return KN(dS.getProfileName({profile:t.profile??e?.profile}),n,r)};YN.fromIni=k6});var eO=R(Np=>{"use strict";var pS=Jy(),Uc=ft(),L6=Lr(),QN="AWS_EC2_METADATA_DISABLED",M6=async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(Ka()));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>T(aE()));return Uc.chain(o(t),n(t))}return process.env[QN]&&process.env[QN]!=="false"?async()=>{throw new Uc.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(t))};function U6(t,e){let r=B6(t),n,s,o,i=async a=>{if(a?.forceRefresh)return await r(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),n)await n;else if(!o||e?.(o))if(o)s||(s=r(a).then(c=>{o=c,s=void 0}));else return n=r(a).then(c=>{o=c,n=void 0}),i(a);return o};return i}var B6=t=>async e=>{let r;for(let n of t)try{return await n(e)}catch(s){if(r=s,s?.tryNextLink)continue;throw s}throw r},ZN=!1,F6=(t={})=>U6([async()=>{if(t.profile??process.env[L6.ENV_PROFILE])throw process.env[pS.ENV_KEY]&&process.env[pS.ENV_SECRET]&&(ZN||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn.bind(t.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),ZN=!0)),new Uc.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),pS.fromEnv(t)()},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=t;if(!r&&!n&&!s&&!o&&!i)throw new Uc.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:a}=await Promise.resolve().then(()=>T(PE()));return a(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:r}=await Promise.resolve().then(()=>T(XN()));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:r}=await Promise.resolve().then(()=>T(aS()));return r(t)(e)},async e=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:r}=await Promise.resolve().then(()=>T(uS()));return r(t)(e)},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await M6(t))()),async()=>{throw new Uc.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}],JN),$6=t=>t?.expiration!==void 0,JN=t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5;Np.credentialsTreatedAsExpired=JN;Np.credentialsWillNeedRefresh=$6;Np.defaultProvider=F6});var iO=R(oO=>{"use strict";var gS=(ls(),ie(Vl)),tO=(Te(),ie(va)),rO=te(),nO=Qe(),fS=class extends gS.JsonCodec{constructor(){super({timestampFormat:{useTrait:!0,default:7},jsonName:!1})}createSerializer(){let e=new mS(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new hS(this.settings);return e.setSerdeContext(this.serdeContext),e}},sO="com.amazonaws.dynamodb#AttributeValue",mS=class extends gS.JsonShapeSerializer{_write(e,r,n){let s=tO.NormalizedSchema.of(e);if(s.isStructSchema()&&s.getName(!0)===sO&&r&&typeof r=="object"){let o=r,i=rO._json(o),a=this.serdeContext?.base64Encoder??nO.toBase64;if(o.B instanceof Uint8Array&&(i.B=a(o.B)),Array.isArray(o.BS)&&(i.BS=o.BS.map(a)),Array.isArray(o.L)&&(i.L=o.L.filter(c=>c!=null).map(c=>this._write(s,c,n))),o.M&&typeof o.M=="object"){i.M={};for(let[c,u]of Object.entries(o.M))u!=null&&(i.M[c]=this._write(s,u,n))}return i}return super._write(s,r,n)}},hS=class extends gS.JsonShapeDeserializer{_read(e,r){let n=tO.NormalizedSchema.of(e);if(n.isStructSchema()&&n.getName(!0)===sO&&r&&typeof r=="object"){let s=r,o=rO._json(s),i=this.serdeContext?.base64Decoder??nO.fromBase64;if(typeof s.B=="string"&&(o.B=i(s.B)),Array.isArray(s.BS)&&(o.BS=s.BS.map(i)),Array.isArray(s.L)&&(o.L=s.L.map(a=>this._read(n,a))),s.M&&typeof s.M=="object"){o.M={};for(let[a,c]of Object.entries(s.M))o.M[a]=this._read(n,c)}return o}return super._read(n,r)}};oO.DynamoDBJsonCodec=fS});var DO=R(kp=>{"use strict";Object.defineProperty(kp,"__esModule",{value:!0});kp.ruleSet=void 0;var SS="required",Y="type",ze="rules",De="conditions",j="fn",G="argv",he="ref",Op="assign",Hr="url",Vr="properties",zr="headers",AO="metricValues",j6=!1,We="error",bt="stringEquals",aO="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",Lt="endpoint",Xe="tree",_S="dynamodb",Bc={[SS]:!1,[Y]:"string"},cO={[SS]:!0,default:!1,[Y]:"boolean"},uO={[j]:"isSet",[G]:[{[he]:"Endpoint"}]},G6={[he]:"Endpoint"},lO={[j]:"isSet",[G]:[{[he]:"Region"}]},RO={[he]:"Region"},dO={[j]:"aws.partition",[G]:[RO],[Op]:"PartitionResult"},pO={[De]:[{[j]:"booleanEquals",[G]:[{[he]:"UseFIPS"},!0]}],[We]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Y]:We},ji={[j]:"booleanEquals",[G]:[{[he]:"UseFIPS"},!0]},fO={[De]:[{[j]:"booleanEquals",[G]:[{[he]:"UseDualStack"},!0]}],[We]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Y]:We},PO={[j]:"booleanEquals",[G]:[{[he]:"UseDualStack"},!0]},mO={[Lt]:{[Hr]:"{Endpoint}",[Vr]:{},[zr]:{}},[Y]:Lt},In={},hO={[j]:"booleanEquals",[G]:[{[j]:"getAttr",[G]:[{[he]:"PartitionResult"},"supportsFIPS"]},!0]},gO={[j]:"booleanEquals",[G]:[{[j]:"getAttr",[G]:[{[he]:"PartitionResult"},"supportsDualStack"]},!0]},yS={[De]:[{[j]:"isSet",[G]:[{[he]:"AccountIdEndpointMode"}]},{[j]:bt,[G]:[{[he]:"AccountIdEndpointMode"},"required"]}],[ze]:[{[We]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Y]:We}],[Y]:Xe},Fc={[j]:"getAttr",[G]:[{[he]:"PartitionResult"},"name"]},yO={[Lt]:{[Hr]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Vr]:{},[zr]:{}},[Y]:Lt},EO={[Hr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Vr]:{[AO]:["O"]},[zr]:{}},ES={[AO]:["O"]},SO={[We]:"Credentials-sourced account ID parameter is invalid",[Y]:We},_O={[De]:[{[j]:"isSet",[G]:[{[he]:"AccountIdEndpointMode"}]},{[j]:bt,[G]:[{[he]:"AccountIdEndpointMode"},"required"]}],[ze]:[{[De]:[{[j]:"not",[G]:[ji]}],[ze]:[{[De]:[{[j]:bt,[G]:[Fc,"aws"]}],[ze]:[{[We]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Y]:We}],[Y]:Xe},{[We]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Y]:We}],[Y]:Xe},{[We]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Y]:We}],[Y]:Xe},bO={[Hr]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Vr]:ES,[zr]:{}},TO=[ji],vO=[PO],wO=[{[j]:"isSet",[G]:[{[he]:"AccountIdEndpointMode"}]},{[j]:"not",[G]:[{[j]:bt,[G]:[{[he]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:bt,[G]:[Fc,"aws"]},{[j]:"not",[G]:[ji]},{[j]:"isSet",[G]:[{[he]:"ResourceArn"}]},{[j]:"aws.parseArn",[G]:[{[he]:"ResourceArn"}],[Op]:"ParsedArn"},{[j]:bt,[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"service"]},_S]},{[j]:"isValidHostLabel",[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"region"]},!1]},{[j]:bt,[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"region"]},"{Region}"]},{[j]:"isValidHostLabel",[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"accountId"]},!1]}],xO=[{[j]:"isSet",[G]:[{[he]:"AccountIdEndpointMode"}]},{[j]:"not",[G]:[{[j]:bt,[G]:[{[he]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:bt,[G]:[Fc,"aws"]},{[j]:"not",[G]:[ji]},{[j]:"isSet",[G]:[{[he]:"ResourceArnList"}]},{[j]:"getAttr",[G]:[{[he]:"ResourceArnList"},"[0]"],[Op]:"FirstArn"},{[j]:"aws.parseArn",[G]:[{[he]:"FirstArn"}],[Op]:"ParsedArn"},{[j]:bt,[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"service"]},_S]},{[j]:"isValidHostLabel",[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"region"]},!1]},{[j]:bt,[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"region"]},"{Region}"]},{[j]:"isValidHostLabel",[G]:[{[j]:"getAttr",[G]:[{[he]:"ParsedArn"},"accountId"]},!1]}],IO=[{[j]:"isSet",[G]:[{[he]:"AccountIdEndpointMode"}]},{[j]:"not",[G]:[{[j]:bt,[G]:[{[he]:"AccountIdEndpointMode"},"disabled"]}]},{[j]:bt,[G]:[Fc,"aws"]},{[j]:"not",[G]:[ji]},{[j]:"isSet",[G]:[{[he]:"AccountId"}]}],CO=[{[j]:"isValidHostLabel",[G]:[{[he]:"AccountId"},!1]}],q6={version:"1.0",parameters:{Region:Bc,UseDualStack:cO,UseFIPS:cO,Endpoint:Bc,AccountId:Bc,AccountIdEndpointMode:Bc,ResourceArn:Bc,ResourceArnList:{[SS]:j6,[Y]:"stringArray"}},[ze]:[{[De]:[uO,lO,dO],[ze]:[pO,fO,{[De]:[{[j]:bt,[G]:[G6,aO]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Y]:We},mO],[Y]:Xe},{[De]:[uO],[ze]:[pO,fO,mO],[Y]:Xe},{[De]:[lO],[ze]:[{[De]:[dO],[ze]:[{[De]:[{[j]:bt,[G]:[RO,"local"]}],[ze]:[{[De]:TO,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Y]:We},{[De]:vO,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Y]:We},{endpoint:{[Hr]:"http://localhost:8000",[Vr]:{authSchemes:[{name:"sigv4",signingName:_S,signingRegion:"us-east-1"}]},[zr]:In},[Y]:Lt}],[Y]:Xe},{[De]:[ji,PO],[ze]:[{[De]:[hO,gO],[ze]:[yS,{endpoint:{[Hr]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Vr]:In,[zr]:In},[Y]:Lt}],[Y]:Xe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Y]:We}],[Y]:Xe},{[De]:TO,[ze]:[{[De]:[hO],[ze]:[{[De]:[{[j]:bt,[G]:[Fc,"aws-us-gov"]}],[ze]:[yS,yO],[Y]:Xe},yS,{endpoint:{[Hr]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Vr]:In,[zr]:In},[Y]:Lt}],[Y]:Xe},{error:"FIPS is enabled but this partition does not support FIPS",[Y]:We}],[Y]:Xe},{[De]:vO,[ze]:[{[De]:[gO],[ze]:[{[De]:wO,endpoint:EO,[Y]:Lt},{[De]:xO,endpoint:EO,[Y]:Lt},{[De]:IO,[ze]:[{[De]:CO,[ze]:[{endpoint:{[Hr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Vr]:ES,[zr]:In},[Y]:Lt}],[Y]:Xe},SO],[Y]:Xe},_O,{endpoint:{[Hr]:aO,[Vr]:In,[zr]:In},[Y]:Lt}],[Y]:Xe},{error:"DualStack is enabled but this partition does not support DualStack",[Y]:We}],[Y]:Xe},{[De]:wO,endpoint:bO,[Y]:Lt},{[De]:xO,endpoint:bO,[Y]:Lt},{[De]:IO,[ze]:[{[De]:CO,[ze]:[{endpoint:{[Hr]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Vr]:ES,[zr]:In},[Y]:Lt}],[Y]:Xe},SO],[Y]:Xe},_O,yO],[Y]:Xe}],[Y]:Xe},{error:"Invalid Configuration: Missing Region",[Y]:We}]};kp.ruleSet=q6});var NO=R(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.defaultEndpointResolver=void 0;var H6=eo(),bS=Kn(),V6=DO(),z6=new bS.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),W6=(t,e={})=>z6.get(t,()=>(0,bS.resolveEndpoint)(V6.ruleSet,{endpointParams:t,logger:e.logger}));Lp.defaultEndpointResolver=W6;bS.customEndpointFunctions.aws=H6.awsEndpointFunctions});var LO=R(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.getRuntimeConfig=void 0;var K6=(tt(),ie(_n)),Y6=(ls(),ie(Vl)),X6=iO(),Q6=te(),Z6=pn(),OO=Qe(),kO=Je(),J6=Zy(),e8=NO(),t8=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??OO.fromBase64,base64Encoder:t?.base64Encoder??OO.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??e8.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??J6.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new K6.AwsSdkSigV4Signer}],logger:t?.logger??new Q6.NoOpLogger,protocol:t?.protocol??new Y6.AwsJson1_0Protocol({defaultNamespace:"com.amazonaws.dynamodb",serviceTarget:"DynamoDB_20120810",awsQueryCompatible:!1,jsonCodec:new X6.DynamoDBJsonCodec}),serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??Z6.parseUrl,utf8Decoder:t?.utf8Decoder??kO.fromUtf8,utf8Encoder:t?.utf8Encoder??kO.toUtf8});Mp.getRuntimeConfig=t8});var $O=R(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.getRuntimeConfig=void 0;var r8=(Pa(),ie(Ra)),n8=r8.__importDefault(dC()),MO=(tt(),ie(_n)),s8=(Rm(),ie(Am)),o8=eO(),i8=$m(),UO=Ti(),Up=Ot(),a8=vi(),BO=mr(),Cn=Mr(),FO=Vn(),c8=wi(),u8=io(),l8=LO(),d8=te(),p8=Ri(),f8=te(),m8=t=>{(0,f8.emitWarningIfUnsupportedVersion)(process.version);let e=(0,p8.resolveDefaultsModeConfig)(t),r=()=>e().then(d8.loadConfigsForDefaultMode),n=(0,l8.getRuntimeConfig)(t);(0,MO.emitWarningIfUnsupportedVersion)(process.version);let s={profile:t?.profile,logger:n.logger};return{...n,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??(0,Cn.loadConfig)(s8.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:t?.authSchemePreference??(0,Cn.loadConfig)(MO.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:t?.bodyLengthChecker??c8.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??o8.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,UO.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:n8.default.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??(0,Cn.loadConfig)(i8.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:t?.maxAttempts??(0,Cn.loadConfig)(BO.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Cn.loadConfig)(Up.NODE_REGION_CONFIG_OPTIONS,{...Up.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:FO.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Cn.loadConfig)({...BO.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||u8.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??a8.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??FO.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Cn.loadConfig)(Up.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:t?.useFipsEndpoint??(0,Cn.loadConfig)(Up.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:t?.userAgentAppId??(0,Cn.loadConfig)(UO.NODE_APP_ID_CONFIG_OPTIONS,s)}};Bp.getRuntimeConfig=m8});var HO=R(Rt=>{"use strict";var Fp=()=>{let t=new WeakSet;return(e,r)=>{if(typeof r=="object"&&r!==null){if(t.has(r))return"[Circular]";t.add(r)}return r}},h8=t=>new Promise(e=>setTimeout(e,t*1e3)),qO={minDelay:2,maxDelay:120};Rt.WaiterState=void 0;(function(t){t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT"})(Rt.WaiterState||(Rt.WaiterState={}));var g8=t=>{if(t.state===Rt.WaiterState.ABORTED){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"},Fp())}`);throw e.name="AbortError",e}else if(t.state===Rt.WaiterState.TIMEOUT){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"},Fp())}`);throw e.name="TimeoutError",e}else if(t.state!==Rt.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(t,Fp())}`);return t},y8=(t,e,r,n)=>{if(n>r)return e;let s=t*2**(n-1);return E8(t,s)},E8=(t,e)=>t+Math.random()*(e-t),S8=async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,a)=>{let c={},{state:u,reason:f}=await a(s,i);if(f){let E=jO(f);c[E]|=0,c[E]+=1}if(u!==Rt.WaiterState.RETRY)return{state:u,reason:f,observedResponses:c};let m=1,g=Date.now()+r*1e3,h=Math.log(e/t)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let A="AbortController signal aborted.";return c[A]|=0,c[A]+=1,{state:Rt.WaiterState.ABORTED,observedResponses:c}}let E=y8(t,e,h,m);if(Date.now()+E*1e3>g)return{state:Rt.WaiterState.TIMEOUT,observedResponses:c};await h8(E);let{state:w,reason:I}=await a(s,i);if(I){let A=jO(I);c[A]|=0,c[A]+=1}if(w!==Rt.WaiterState.RETRY)return{state:w,reason:I,observedResponses:c};m+=1}},jO=t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t,Fp())??"Unknown"),_8=t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)},GO=t=>{let e,r=new Promise(n=>{e=()=>n({state:Rt.WaiterState.ABORTED}),typeof t.addEventListener=="function"?t.addEventListener("abort",e):t.onabort=e});return{clearListener(){typeof t.removeEventListener=="function"&&t.removeEventListener("abort",e)},aborted:r}},b8=async(t,e,r)=>{let n={...qO,...t};_8(n);let s=[S8(n,e,r)],o=[];if(t.abortSignal){let{aborted:i,clearListener:a}=GO(t.abortSignal);o.push(a),s.push(i)}if(t.abortController?.signal){let{aborted:i,clearListener:a}=GO(t.abortController.signal);o.push(a),s.push(i)}return Promise.race(s).then(i=>{for(let a of o)a();return i})};Rt.checkExceptions=g8;Rt.createWaiter=b8;Rt.waiterServiceDefaults=qO});var w_=R(x=>{"use strict";var T8=(Rm(),ie(Am)),v8=$m(),VO=qo(),w8=Ho(),x8=Vo(),zO=so(),I8=Ot(),An=(lt(),ie(Zs)),pe=(Te(),ie(va)),C8=yi(),q=Ur(),WO=mr(),B=te(),KO=Zy(),A8=$O(),YO=co(),XO=Re(),br=HO(),R8=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),H={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},fe=class ZO extends B.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,ZO.prototype)}},JO=class ek extends fe{name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,ek.prototype)}},tk=class rk extends fe{name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,rk.prototype)}},nk=class sk extends fe{name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,sk.prototype)}},ok=class ik extends fe{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,ik.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},ak=class ck extends fe{name="ThrottlingException";$fault="client";throttlingReasons;constructor(e){super({name:"ThrottlingException",$fault:"client",...e}),Object.setPrototypeOf(this,ck.prototype),this.throttlingReasons=e.throttlingReasons}},uk=class lk extends fe{name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,lk.prototype),this.Message=e.Message}},dk=class pk extends fe{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,pk.prototype),this.ThrottlingReasons=e.ThrottlingReasons}},fk=class mk extends fe{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,mk.prototype)}},hk=class gk extends fe{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,gk.prototype)}},yk=class Ek extends fe{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,Ek.prototype)}},Sk=class _k extends fe{name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,_k.prototype)}},bk=class Tk extends fe{name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,Tk.prototype)}},vk=class wk extends fe{name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,wk.prototype)}},xk=class Ik extends fe{name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,Ik.prototype)}},Ck=class Ak extends fe{name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,Ak.prototype)}},Rk=class Pk extends fe{name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,Pk.prototype)}},Dk=class Nk extends fe{name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,Nk.prototype)}},Ok=class kk extends fe{name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,kk.prototype)}},Lk=class Mk extends fe{name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,Mk.prototype)}},Uk=class Bk extends fe{name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,Bk.prototype)}},Fk=class $k extends fe{name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,$k.prototype)}},jk=class Gk extends fe{name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,Gk.prototype)}},qk=class Hk extends fe{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,Hk.prototype),this.Message=e.Message}},Vk=class zk extends fe{name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,zk.prototype),this.Message=e.Message}},Wk=class Kk extends fe{name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,Kk.prototype)}},Yk=class Xk extends fe{name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,Xk.prototype)}},Qk=class Zk extends fe{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,Zk.prototype)}},Jk=class e1 extends fe{name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,e1.prototype)}},t1=class r1 extends fe{name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,r1.prototype)}},n1=class s1 extends fe{name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,s1.prototype)}},o1=class i1 extends fe{name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,i1.prototype)}},a1=class c1 extends fe{name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,c1.prototype)}},u1=class l1 extends fe{name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,l1.prototype)}},d1=class p1 extends fe{name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,p1.prototype),this.Item=e.Item}},f1=class m1 extends fe{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,m1.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}},P8="Action",D8="ArchivalBackupArn",TS="ApproximateCreationDateTimePrecision",N8="AttributeDefinition",O8="ArchivalDateTime",Wc="AttributeDefinitions",k8="AttributeMap",L8="AccountMaxReadCapacityUnits",M8="AccountMaxWriteCapacityUnits",Uf="AttributeName",U8="ArchivalReason",h1="ArchivalSummary",g1="AutoScalingDisabled",B8="AutoScalingPolicyDescription",F8="AutoScalingPolicyDescriptionList",$8="AutoScalingPolicyUpdate",y1="AutoScalingRoleArn",j8="AutoScalingSettingsDescription",G8="AutoScalingSettingsUpdate",q8="AutoScalingTargetTrackingScalingPolicyConfigurationDescription",H8="AutoScalingTargetTrackingScalingPolicyConfigurationUpdate",V8="AttributeType",Bf="AttributesToGet",E1="AttributeUpdates",z8="AttributeValue",vS="AttributeValueList",W8="AttributeValueUpdate",K8="Address",wS="Attributes",Y8="Backfilling",Kc="BackupArn",S1="BackupCreationDateTime",xS="BackupDescription",IS="BackupDetails",_1="BackupExpiryDateTime",X8="BatchExecuteStatement",Q8="BatchExecuteStatementInput",Z8="BatchExecuteStatementOutput",J8="BatchGetItem",e5="BatchGetItemInput",t5="BatchGetItemOutput",r5="BatchGetResponseMap",n5="BatchGetRequestMap",s5="BackupInUseException",Yc="BillingMode",b1="BillingModeOverride",T1="BillingModeSummary",CS="BackupName",o5="BackupNotFoundException",i5="BOOL",v1="BackupStatus",w1="BackupSizeBytes",a5="BilledSizeBytes",c5="BatchStatementError",u5="BatchStatementRequest",l5="BatchStatementResponse",d5="BS",p5="BackupSummary",x1="BackupSummaries",AS="BackupType",f5="BatchWriteItem",m5="BatchWriteItemInput",h5="BatchWriteItemOutput",g5="BatchWriteItemRequestMap",y5="B",I1="Code",E5="CreateBackup",RS="ContinuousBackupsDescription",S5="CreateBackupInput",_5="CreateBackupOutput",b5="ContinuousBackupsStatus",T5="ContinuousBackupsUnavailableException",Mt="ConsumedCapacity",v5="ConditionalCheckFailedException",w5="ConsumedCapacityMultiple",C1="ConditionCheck",A1="CreationDateTime",bo="ConditionExpression",x5="CreateGlobalSecondaryIndexAction",I5="CreateGlobalTable",C5="CreateGlobalTableInput",A5="CreateGlobalTableOutput",R5="CreateGlobalTableWitnessGroupMemberAction",P5="ContributorInsightsAction",Ff="ContributorInsightsMode",D5="ContributorInsightsRuleList",N5="ContributorInsightsSummary",PS="ContributorInsightsStatus",R1="ContributorInsightsSummaries",P1="ComparisonOperator",Xc="ConditionalOperator",O5="CsvOptions",k5="CachePeriodInMinutes",qi="ConsistentRead",L5="CreateReplicaAction",M5="CreateReplicationGroupMemberAction",U5="CancellationReasonList",B5="ConfirmRemoveSelfResourceAccess",D1="ClientRequestToken",F5="CancellationReason",$5="CancellationReasons",$f="ClientToken",j5="CreateTableInput",G5="CreateTableOutput",q5="CreateTable",N1="CapacityUnits",O1="CloudWatchLogGroupArn",H5="Capacity",V5="Condition",k1="Count",jf="Create",z5="Csv",W5="Delimiter",K5="DeleteBackup",Y5="DeleteBackupInput",X5="DescribeBackupInput",Q5="DeleteBackupOutput",Z5="DescribeBackupOutput",J5="DescribeBackup",e9="DescribeContinuousBackups",t9="DescribeContinuousBackupsInput",r9="DescribeContinuousBackupsOutput",n9="DescribeContributorInsights",s9="DescribeContributorInsightsInput",o9="DescribeContributorInsightsOutput",i9="DescribeEndpoints",a9="DescribeExportInput",c9="DescribeExportOutput",u9="DescribeEndpointsRequest",l9="DescribeEndpointsResponse",d9="DescribeExport",p9="DeleteGlobalSecondaryIndexAction",f9="DescribeGlobalTable",m9="DescribeGlobalTableInput",h9="DescribeGlobalTableOutput",g9="DescribeGlobalTableSettings",y9="DescribeGlobalTableSettingsInput",E9="DescribeGlobalTableSettingsOutput",S9="DeleteGlobalTableWitnessGroupMemberAction",_9="DeleteItem",b9="DuplicateItemException",T9="DeleteItemInput",v9="DescribeImportInput",w9="DeleteItemOutput",x9="DescribeImportOutput",I9="DescribeImport",C9="DescribeKinesisStreamingDestination",A9="DescribeKinesisStreamingDestinationInput",R9="DescribeKinesisStreamingDestinationOutput",P9="DisableKinesisStreamingDestination",D9="DescribeLimits",N9="DescribeLimitsInput",O9="DescribeLimitsOutput",DS="DeletionProtectionEnabled",L1="DeleteRequest",k9="DeleteReplicaAction",L9="DeleteReplicationGroupMemberAction",M9="DeleteResourcePolicy",U9="DeleteResourcePolicyInput",B9="DeleteResourcePolicyOutput",NS="DestinationStatus",F9="DestinationStatusDescription",M1="DisableScaleIn",$9="DeleteTable",j9="DeleteTableInput",G9="DescribeTableInput",q9="DeleteTableOutput",H9="DescribeTableOutput",V9="DescribeTableReplicaAutoScaling",z9="DescribeTableReplicaAutoScalingInput",W9="DescribeTableReplicaAutoScalingOutput",K9="DescribeTimeToLive",Y9="DescribeTimeToLiveInput",X9="DescribeTimeToLiveOutput",Q9="DescribeTable",Hi="Delete",Z9="Error",OS="ExportArn",J9="ExpectedAttributeMap",or="ExpressionAttributeNames",Rn="ExpressionAttributeValues",eY="ExpressionAttributeValueMap",tY="ExpectedAttributeValue",rY="ErrorCount",nY="ExportConflictException",kS="ExportDescription",sY="ExceptionDescription",U1="ExportFormat",oY="ExportFromTime",LS="EnableKinesisStreamingConfiguration",iY="EnableKinesisStreamingDestination",aY="ExportManifest",cY="ExceptionName",uY="ExportNotFoundException",lY="EarliestRestorableDateTime",B1="ExpectedRevisionId",F1="ExportStatus",dY="ExclusiveStartBackupArn",pY="ExclusiveStartGlobalTableName",fY="ExecuteStatementInput",$1="ExclusiveStartKey",mY="ExecuteStatementOutput",hY="ExclusiveStartTableName",gY="ExportSummary",yY="ExecuteStatement",j1="ExportSummaries",MS="EndTime",EY="ExecuteTransactionInput",SY="ExecuteTransactionOutput",_Y="ExportToTime",bY="ExportTableToPointInTime",TY="ExportTableToPointInTimeInput",vY="ExportTableToPointInTimeOutput",G1="ExportTime",wY="ExecuteTransaction",US="ExportType",xY="ExportViewType",q1="Endpoints",H1="Enabled",IY="Endpoint",BS="Expected",CY="Exists",V1="FailureCode",AY="FilterConditionMap",z1="FailureException",W1="FilterExpression",K1="FailureMessage",Y1="Get",RY="GetItem",PY="GetItemInput",DY="GetItemOutput",NY="GetResourcePolicy",OY="GetResourcePolicyInput",kY="GetResourcePolicyOutput",Kr="GlobalSecondaryIndexes",LY="GlobalSecondaryIndexAutoScalingUpdate",MY="GlobalSecondaryIndexAutoScalingUpdateList",UY="GlobalSecondaryIndexDescription",BY="GlobalSecondaryIndexDescriptionList",FY="GlobalSecondaryIndexInfo",$Y="GlobalSecondaryIndexList",X1="GlobalSecondaryIndexOverride",jY="GlobalSecondaryIndexUpdate",GY="GlobalSecondaryIndexUpdateList",Q1="GlobalSecondaryIndexUpdates",qY="GlobalSecondaryIndexWarmThroughputDescription",HY="GlobalSecondaryIndex",VY="GlobalTable",zY="GlobalTableArn",WY="GlobalTableAlreadyExistsException",KY="GlobalTableBillingMode",Gf="GlobalTableDescription",Z1="GlobalTableGlobalSecondaryIndexSettingsUpdate",YY="GlobalTableGlobalSecondaryIndexSettingsUpdateList",XY="GlobalTableList",Pn="GlobalTableName",QY="GlobalTableNotFoundException",ZY="GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate",JY="GlobalTableProvisionedWriteCapacityUnits",eX="GlobalTableStatus",tX="GlobalTableVersion",rX="GlobalTableWitnesses",nX="GlobalTableWitnessDescription",sX="GlobalTableWitnessDescriptionList",oX="GlobalTableWitnessGroupUpdate",iX="GlobalTableWitnessGroupUpdateList",aX="GlobalTableWitnessUpdates",cX="GlobalTables",uX="HeaderList",Dn="Item",FS="ImportArn",J1="IndexArn",Qc="ItemCount",lX="ImportConflictException",dX="ItemCollectionKey",pX="ItemCollectionKeyAttributeMap",Vi="ItemCollectionMetrics",fX="ItemCollectionMetricsMultiple",mX="ItemCollectionMetricsPerTable",hX="ItemCollectionSizeLimitExceededException",eL="InputCompressionType",gX="InaccessibleEncryptionDateTime",yX="InvalidEndpointException",$S="IncrementalExportSpecification",EX="InvalidExportTimeException",jS="InputFormat",GS="InputFormatOptions",SX="ImportedItemCount",_X="ItemList",Be="IndexName",bX="ImportNotFoundException",TX="IndexNotFoundException",vX="IdempotentParameterMismatchException",wX="ItemResponse",xX="ItemResponseList",IX="InvalidRestoreTimeException",qS="IndexStatus",tL="IndexSizeBytes",CX="InternalServerError",rL="ImportSummaryList",AX="ImportSummary",nL="ImportStatus",RX="ImportTable",HS="ImportTableDescription",PX="ImportTableInput",DX="ImportTableOutput",VS="Items",Yr="Key",NX="KeysAndAttributes",sL="KeyConditions",OX="KeyConditionExpression",oL="KinesisDataStreamDestinations",kX="KinesisDataStreamDestination",LX="KeyList",MX="KMSMasterKeyArn",qf="KMSMasterKeyId",ir="KeySchema",UX="KinesisStreamingDestinationInput",BX="KinesisStreamingDestinationOutput",FX="KeySchemaElement",$X="KeyType",jX="Keys",zi="Limit",GX="ListAttributeValue",qX="ListBackups",HX="ListBackupsInput",VX="ListBackupsOutput",zX="ListContributorInsights",WX="ListContributorInsightsInput",KX="ListContributorInsightsOutput",YX="LastDecreaseDateTime",XX="ListExports",QX="LastEvaluatedBackupArn",ZX="LimitExceededException",JX="LastEvaluatedGlobalTableName",eQ="ListExportsInput",zS="LastEvaluatedKey",tQ="ListExportsOutput",rQ="LastEvaluatedTableName",nQ="ListGlobalTables",sQ="ListGlobalTablesInput",oQ="ListGlobalTablesOutput",iQ="ListImports",aQ="LastIncreaseDateTime",cQ="ListImportsInput",uQ="ListImportsOutput",lQ="LatestRestorableDateTime",dQ="LatestStreamArn",Zc="LocalSecondaryIndexes",pQ="LocalSecondaryIndexDescription",fQ="LocalSecondaryIndexDescriptionList",mQ="LocalSecondaryIndexInfo",hQ="LocalSecondaryIndexList",iL="LocalSecondaryIndexOverride",gQ="LocalSecondaryIndex",yQ="LatestStreamLabel",EQ="ListTables",SQ="ListTablesInput",_Q="ListTablesOutput",bQ="ListTagsOfResource",TQ="ListTagsOfResourceInput",vQ="ListTagsOfResourceOutput",aL="LastUpdateDateTime",wQ="LastUpdateToPayPerRequestDateTime",xQ="L",Wi="Message",IQ="MapAttributeValue",cL="MaxResults",uL="MultiRegionConsistency",lL="MaxReadRequestUnits",dL="MinimumUnits",pL="MaximumUnits",CQ="MaxWriteRequestUnits",AQ="M",RQ="N",PQ="NonKeyAttributes",DQ="NumberOfDecreasesToday",NQ="NS",Xr="NextToken",OQ="NULL",Tr="OnDemandThroughput",Ps="OnDemandThroughputOverride",WS="Parameters",Jc="ProjectionExpression",kQ="PutItem",LQ="ProcessedItemCount",MQ="PutItemInput",UQ="PutItemInputAttributeMap",BQ="PutItemOutput",fL="PointInTimeRecoveryDescription",FQ="PointInTimeRecoveryEnabled",$Q="PointInTimeRecoveryStatus",mL="PointInTimeRecoverySpecification",jQ="PointInTimeRecoveryUnavailableException",hL="PolicyName",GQ="PolicyNotFoundException",qQ="PartiQLBatchRequest",HQ="PartiQLBatchResponse",gL="PutRequest",yL="ProvisionedReadCapacityAutoScalingSettings",VQ="ProvisionedReadCapacityAutoScalingSettingsUpdate",zQ="ProvisionedReadCapacityAutoScalingUpdate",EL="ProvisionedReadCapacityUnits",WQ="PutResourcePolicy",KQ="PutResourcePolicyInput",YQ="PutResourcePolicyOutput",XQ="PageSize",QQ="ProcessedSizeBytes",ZQ="PreparedStatementParameters",JQ="ParameterizedStatement",eZ="ParameterizedStatements",vr="ProvisionedThroughput",tZ="ProvisionedThroughputDescription",rZ="ProvisionedThroughputExceededException",Ds="ProvisionedThroughputOverride",nZ="ProjectionType",SL="ProvisionedWriteCapacityAutoScalingSettings",sZ="ProvisionedWriteCapacityAutoScalingSettingsUpdate",_L="ProvisionedWriteCapacityAutoScalingUpdate",bL="ProvisionedWriteCapacityUnits",TL="Policy",Ns="Projection",vL="Put",oZ="Query",iZ="QueryFilter",aZ="QueryInput",cZ="QueryOutput",Hf="Responses",Ki="ResourceArn",uZ="ReplicaAlreadyExistsException",lZ="ReplicaAutoScalingDescription",dZ="ReplicaAutoScalingDescriptionList",pZ="ReplicaAutoScalingUpdate",fZ="ReplicaAutoScalingUpdateList",mZ="ReplicaBillingModeSummary",Vt="ReturnConsumedCapacity",eu="ReadCapacityUnits",hZ="ReplicaDescription",gZ="ReplicaDescriptionList",wL="RestoreDateTime",KS="ReplicationGroup",yZ="ReplicaGlobalSecondaryIndex",EZ="ReplicaGlobalSecondaryIndexAutoScalingDescription",SZ="ReplicaGlobalSecondaryIndexAutoScalingDescriptionList",_Z="ReplicaGlobalSecondaryIndexAutoScalingUpdate",bZ="ReplicaGlobalSecondaryIndexAutoScalingUpdateList",TZ="ReplicaGlobalSecondaryIndexDescription",vZ="ReplicaGlobalSecondaryIndexDescriptionList",wZ="ReplicaGlobalSecondaryIndexList",xZ="ReplicaGlobalSecondaryIndexSettings",IZ="ReplicaGlobalSecondaryIndexSettingsDescription",CZ="ReplicaGlobalSecondaryIndexSettingsDescriptionList",xL="ReplicaGlobalSecondaryIndexSettingsUpdate",AZ="ReplicaGlobalSecondaryIndexSettingsUpdateList",RZ="ReplicaGlobalSecondaryIndexUpdates",PZ="ReplicationGroupUpdate",DZ="ReplicationGroupUpdateList",IL="RequestItems",tu="ReturnItemCollectionMetrics",NZ="ReplicaInaccessibleDateTime",OZ="RestoreInProgress",kZ="ResourceInUseException",YS="RevisionId",LZ="ReplicaList",MZ="RequestLimitExceeded",Pt="RegionName",UZ="ReplicaNotFoundException",BZ="ResourceNotFoundException",FZ="ResourcePolicy",CL="RecoveryPeriodInDays",AL="ReplicaProvisionedReadCapacityAutoScalingSettings",$Z="ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate",jZ="ReplicaProvisionedReadCapacityAutoScalingUpdate",RL="ReplicaProvisionedReadCapacityUnits",PL="ReplicaProvisionedWriteCapacityAutoScalingSettings",GZ="ReplicaProvisionedWriteCapacityUnits",DL="ReplicaSettings",qZ="ReplicaStatusDescription",HZ="ReplicaSettingsDescriptionList",VZ="ReplicaSettingsDescription",zZ="ReplicaStatusPercentProgress",NL="ReplicaSettingsUpdate",WZ="ReplicaSettingsUpdateList",XS="ReplicaStatus",OL="RestoreSummary",KZ="ReplicaTableClass",kL="ReplicaTableClassSummary",YZ="RestoreTableFromBackup",XZ="RestoreTableFromBackupInput",QZ="RestoreTableFromBackupOutput",ZZ="RestoreTableToPointInTime",JZ="RestoreTableToPointInTimeInput",eJ="RestoreTableToPointInTimeOutput",tJ="ReplicaUpdate",rJ="ReplicaUpdateList",QS="ReadUnitsPerSecond",ZS="ReplicaUpdates",JS="ReturnValues",Qr="ReturnValuesOnConditionCheckFailure",nJ="ReplicatedWriteConflictException",sJ="Replica",LL="Replicas",oJ="Statements",ru="StreamArn",e_="S3Bucket",iJ="SourceBackupArn",t_="S3BucketOwner",Vf="S3BucketSource",ML="ScannedCount",aJ="StreamDescription",cJ="StreamEnabled",uJ="SizeEstimateRangeGB",lJ="ScanFilter",dJ="ScanInput",UL="ScaleInCooldown",pJ="SecondaryIndexesCapacityMap",fJ="ScanIndexForward",mJ="S3KeyPrefix",hJ="ScanOutput",BL="ScaleOutCooldown",gJ="ScalingPolicies",yJ="ScalingPolicyUpdate",FL="S3Prefix",zf="StreamSpecification",$L="S3SseAlgorithm",r_="SSEDescription",Wf="SSESpecification",jL="SSESpecificationOverride",GL="SSEType",qL="S3SseKmsKeyId",EJ="SS",n_="StartTime",HL="SourceTableArn",VL="SourceTableDetails",zL="SourceTableFeatureDetails",SJ="SourceTableName",_J="StreamViewType",bJ="S",TJ="Scan",WL="Select",vJ="Segment",s_="Statement",o_="Status",KL="Table",Nn="TableArn",wJ="TableAlreadyExistsException",i_="TableAutoScalingDescription",a_="TableClass",xJ="TableCreationDateTime",IJ="TransactionCanceledException",CJ="TransactionConflictException",YL="TableClassOverride",c_="TableCreationParameters",XL="TableClassSummary",Yi="TableDescription",AJ="ThrottlingException",RJ="TransactGetItem",PJ="TransactGetItemsInput",DJ="TransactGetItemList",NJ="TransactGetItemsOutput",OJ="TransactGetItems",nu="TableId",kJ="TransactionInProgressException",LJ="TableInUseException",QL="TransactItems",MJ="TagKeys",UJ="TagList",BJ="TableMaxReadCapacityUnits",FJ="TableMaxWriteCapacityUnits",ne="TableName",$J="TableNotFoundException",jJ="TableNames",ZL="ThrottlingReasons",GJ="TagResourceInput",qJ="ThrottlingReasonList",HJ="TimeRangeLowerBound",VJ="TimeRangeUpperBound",zJ="TagResource",WJ="ThrottlingReason",KJ="TransactStatements",JL="TableSizeBytes",eM="TableStatus",YJ="TotalSegments",u_="TimeToLiveDescription",XJ="TimeToLiveStatus",l_="TimeToLiveSpecification",tM="TargetTableName",rM="TargetTrackingScalingPolicyConfiguration",nM="TargetValue",QJ="TransactWriteItem",ZJ="TransactWriteItemsInput",JJ="TransactWriteItemList",e7="TransactWriteItemsOutput",t7="TransactWriteItems",r7="TableWarmThroughputDescription",d_="Tags",n7="Tag",Kf="Update",s7="UpdateContinuousBackups",o7="UpdateContinuousBackupsInput",i7="UpdateContinuousBackupsOutput",a7="UpdateContributorInsights",c7="UpdateContributorInsightsInput",u7="UpdateContributorInsightsOutput",sM="UpdateExpression",l7="UpdateGlobalSecondaryIndexAction",d7="UpdateGlobalTable",p7="UpdateGlobalTableInput",f7="UpdateGlobalTableOutput",m7="UpdateGlobalTableSettings",h7="UpdateGlobalTableSettingsInput",g7="UpdateGlobalTableSettingsOutput",y7="UnprocessedItems",E7="UpdateItemInput",S7="UpdateItemOutput",_7="UpdateItem",b7="UnprocessedKeys",p_="UpdateKinesisStreamingConfiguration",T7="UpdateKinesisStreamingDestination",v7="UpdateKinesisStreamingDestinationInput",w7="UpdateKinesisStreamingDestinationOutput",x7="UseLatestRestorableTime",I7="UntagResource",C7="UpdateReplicationGroupMemberAction",A7="UntagResourceInput",R7="UpdateTable",P7="UpdateTableInput",D7="UpdateTableOutput",N7="UpdateTableReplicaAutoScaling",O7="UpdateTableReplicaAutoScalingInput",k7="UpdateTableReplicaAutoScalingOutput",L7="UpdateTimeToLive",M7="UpdateTimeToLiveInput",U7="UpdateTimeToLiveOutput",f_="Value",Yf="WriteCapacityUnits",B7="WriteRequest",F7="WriteRequests",$7="WitnessStatus",Zr="WarmThroughput",m_="WriteUnitsPerSecond",j7="awsQueryError",_e="client",ye="error",oM="httpError",G7="httpHeader",xe="message",q7="reason",H7="resource",V7="server",iM="smithy.ts.sdk.synthetic.com.amazonaws.dynamodb",z7="throttlingReasons",W7="x-amz-confirm-remove-self-resource-access",l="com.amazonaws.dynamodb",K7=[3,l,h1,0,[O8,U8,D8],[4,0,0]],Y7=[3,l,N8,0,[Uf,V8],[0,0]],X7=[3,l,W8,0,[f_,P8],[()=>xr,0]],Q7=[3,l,B8,0,[hL,rM],[0,()=>J7]],Z7=[3,l,$8,0,[hL,rM],[0,()=>eee]],Rs=[3,l,j8,0,[dL,pL,g1,y1,gJ],[1,1,2,0,()=>Jne]],Os=[3,l,G8,0,[dL,pL,g1,y1,yJ],[1,1,2,0,()=>Z7]],J7=[3,l,q8,0,[M1,UL,BL,nM],[2,1,1,1]],eee=[3,l,H8,0,[M1,UL,BL,nM],[2,1,1,1]],aM=[3,l,xS,0,[IS,VL,zL],[()=>cM,()=>dne,()=>pne]],cM=[3,l,IS,0,[Kc,CS,w1,v1,AS,S1,_1],[0,0,1,0,0,4,4]],tee=[-3,l,s5,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(tee,JO);var ree=[-3,l,o5,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(ree,tk);var nee=[3,l,p5,0,[ne,nu,Nn,Kc,CS,S1,_1,v1,AS,w1],[0,0,0,0,0,4,4,0,0,1]],see=[3,l,Q8,0,[oJ,Vt],[()=>bse,0]],oee=[3,l,Z8,0,[Hf,Mt],[()=>Tse,()=>Qi]],iee=[3,l,e5,0,[IL,Vt],[()=>MM,0]],aee=[3,l,t5,0,[Hf,b7,Mt],[()=>Use,()=>MM,()=>Qi]],cee=[3,l,c5,0,[I1,Wi,Dn],[0,0,()=>en]],uee=[3,l,u5,0,[s_,WS,qi,Qr],[0,()=>S_,2,0]],lee=[3,l,l5,0,[Z9,ne,Dn],[()=>cee,0,()=>en]],dee=[3,l,m5,0,[IL,Vt,tu],[()=>UM,0,0]],pee=[3,l,h5,0,[y7,Vi,Mt],[()=>UM,()=>FM,()=>Qi]],uM=[3,l,T1,0,[Yc,wQ],[0,4]],fee=[3,l,F5,0,[Dn,I1,Wi],[()=>en,0,0]],lM=[3,l,H5,0,[eu,Yf,N1],[1,1,1]],dM=[3,l,V5,0,[vS,P1],[()=>PM,0]],mee=[-3,l,v5,{[ye]:_e},[xe,Dn],[0,()=>en]];pe.TypeRegistry.for(l).registerError(mee,d1);var hee=[3,l,C1,0,[Yr,ne,bo,or,Rn,Qr],[()=>Ut,0,0,128,()=>On,0]],ks=[3,l,Mt,0,[ne,N1,eu,Yf,KL,Zc,Kr],[0,1,1,1,()=>lM,()=>QO,()=>QO]],pM=[3,l,RS,0,[b5,fL],[0,()=>xre]],gee=[-3,l,T5,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(gee,Sk);var yee=[3,l,N5,0,[ne,Be,PS,Ff],[0,0,0,0]],Eee=[3,l,S5,0,[ne,CS],[0,0]],See=[3,l,_5,0,[IS],[()=>cM]],_ee=[3,l,x5,0,[Be,ir,Ns,vr,Tr,Zr],[0,()=>wr,()=>To,()=>Jr,()=>ar,()=>au]],bee=[3,l,C5,0,[Pn,KS],[0,()=>kM]],Tee=[3,l,A5,0,[Gf],[()=>h_]],vee=[3,l,R5,0,[Pt],[0]],wee=[3,l,L5,0,[Pt],[0]],xee=[3,l,M5,0,[Pt,qf,Ds,Ps,Kr,YL],[0,0,()=>ou,()=>su,()=>OM,0]],Iee=[3,l,j5,0,[Wc,ne,ir,Zc,Kr,Yc,vr,zf,Wf,d_,a_,DS,Zr,FZ,Tr],[()=>Zf,0,()=>wr,()=>E_,()=>Jf,0,()=>Jr,()=>Qf,()=>iu,()=>__,0,2,()=>au,0,()=>ar]],Cee=[3,l,G5,0,[Yi],[()=>Xi]],Aee=[3,l,O5,0,[W5,uX],[0,64]],Ree=[3,l,Hi,0,[Yr,ne,bo,or,Rn,Qr],[()=>Ut,0,0,128,()=>On,0]],Pee=[3,l,Y5,0,[Kc],[0]],Dee=[3,l,Q5,0,[xS],[()=>aM]],Nee=[3,l,p9,0,[Be],[0]],Oee=[3,l,S9,0,[Pt],[0]],kee=[3,l,T9,0,[ne,Yr,BS,Xc,JS,Vt,tu,bo,or,Rn,Qr],[0,()=>Ut,()=>T_,0,0,0,0,0,128,()=>On,0]],Lee=[3,l,w9,0,[wS,Mt,Vi],[()=>en,()=>ks,()=>Xf]],Mee=[3,l,k9,0,[Pt],[0]],Uee=[3,l,L9,0,[Pt],[0]],Bee=[3,l,L1,0,[Yr],[()=>Ut]],Fee=[3,l,U9,0,[Ki,B1],[0,0]],$ee=[3,l,B9,0,[YS],[0]],jee=[3,l,j9,0,[ne],[0]],Gee=[3,l,q9,0,[Yi],[()=>Xi]],qee=[3,l,X5,0,[Kc],[0]],Hee=[3,l,Z5,0,[xS],[()=>aM]],Vee=[3,l,t9,0,[ne],[0]],zee=[3,l,r9,0,[RS],[()=>pM]],Wee=[3,l,s9,0,[ne,Be],[0,0]],Kee=[3,l,o9,0,[ne,Be,D5,PS,aL,z1,Ff],[0,0,64,0,4,()=>Cte,0]],Yee=[3,l,u9,0,[],[]],Xee=[3,l,l9,0,[q1],[()=>nse]],Qee=[3,l,a9,0,[OS],[0]],Zee=[3,l,c9,0,[kS],[()=>mM]],Jee=[3,l,m9,0,[Pn],[0]],ete=[3,l,h9,0,[Gf],[()=>h_]],tte=[3,l,y9,0,[Pn],[0]],rte=[3,l,E9,0,[Pn,DL],[0,()=>LM]],nte=[3,l,v9,0,[FS],[0]],ste=[3,l,x9,0,[HS],[()=>gM]],ote=[3,l,A9,0,[ne],[0]],ite=[3,l,R9,0,[ne,oL],[0,()=>gse]],ate=[3,l,N9,0,[],[]],cte=[3,l,O9,0,[L8,M8,BJ,FJ],[1,1,1,1]],ute=[3,l,G9,0,[ne],[0]],lte=[3,l,H9,0,[KL],[()=>Xi]],dte=[3,l,z9,0,[ne],[0]],pte=[3,l,W9,0,[i_],[()=>vM]],fte=[3,l,Y9,0,[ne],[0]],mte=[3,l,X9,0,[u_],[()=>IM]],hte=[-3,l,b9,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(hte,jk);var fM=[3,l,LS,0,[TS],[0]],gte=[3,l,IY,0,[K8,k5],[0,1]],yte=[3,l,fY,0,[s_,WS,qi,Xr,Vt,zi,Qr],[0,()=>S_,2,0,0,1,0]],Ete=[3,l,mY,0,[VS,Xr,Mt,zS],[()=>em,0,()=>ks,()=>Ut]],Ste=[3,l,EY,0,[KJ,D1,Vt],[()=>_se,[0,4],0]],_te=[3,l,SY,0,[Hf,Mt],[()=>DM,()=>Qi]],bte=[3,l,tY,0,[f_,CY,P1,vS],[()=>xr,2,0,()=>PM]],Tte=[-3,l,nY,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Tte,Wk);var mM=[3,l,kS,0,[OS,F1,n_,MS,aY,Nn,nu,G1,$f,e_,t_,FL,$L,qL,V1,K1,U1,a5,Qc,US,$S],[0,0,4,4,0,0,0,4,0,0,0,0,0,0,0,0,0,1,1,0,()=>yM]],vte=[-3,l,uY,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(vte,Lk);var wte=[3,l,gY,0,[OS,F1,US],[0,0,0]],xte=[3,l,TY,0,[Nn,G1,$f,e_,t_,FL,$L,qL,U1,US,$S],[0,4,[0,4],0,0,0,0,0,0,0,()=>yM]],Ite=[3,l,vY,0,[kS],[()=>mM]],Cte=[3,l,z1,0,[cY,sY],[0,0]],Ate=[3,l,Y1,0,[Yr,ne,Jc,or],[()=>Ut,0,0,128]],Rte=[3,l,PY,0,[ne,Yr,Bf,qi,Vt,Jc,or],[0,()=>Ut,64,2,0,0,128]],Pte=[3,l,DY,0,[Dn,Mt],[()=>en,()=>ks]],Dte=[3,l,OY,0,[Ki],[0]],Nte=[3,l,kY,0,[TL,YS],[0,0]],Ote=[3,l,HY,0,[Be,ir,Ns,vr,Tr,Zr],[0,()=>wr,()=>To,()=>Jr,()=>ar,()=>au]],kte=[3,l,LY,0,[Be,_L],[0,()=>Os]],Lte=[3,l,UY,0,[Be,ir,Ns,qS,Y8,vr,tL,Qc,J1,Tr,Zr],[0,()=>wr,()=>To,0,2,()=>bM,1,1,0,()=>ar,()=>hM]],Mte=[3,l,FY,0,[Be,ir,Ns,vr,Tr],[0,()=>wr,()=>To,()=>Jr,()=>ar]],Ute=[3,l,jY,0,[Kf,jf,Hi],[()=>Lne,()=>_ee,()=>Nee]],hM=[3,l,qY,0,[QS,m_,o_],[1,1,0]],Bte=[3,l,VY,0,[Pn,KS],[0,()=>kM]],Fte=[-3,l,WY,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Fte,Ck);var h_=[3,l,Gf,0,[KS,zY,A1,eX,Pn],[()=>NM,0,4,0,0]],$te=[3,l,Z1,0,[Be,bL,sZ],[0,1,()=>Os]],jte=[-3,l,QY,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(jte,Uk);var Gte=[3,l,nX,0,[Pt,$7],[0,0]],qte=[3,l,oX,0,[jf,Hi],[()=>vee,()=>Oee]],Hte=[-3,l,vX,{[ye]:_e},[Wi],[0]];pe.TypeRegistry.for(l).registerError(Hte,qk);var Vte=[-3,l,lX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Vte,Jk);var zte=[-3,l,bX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(zte,Fk);var Wte=[3,l,AX,0,[FS,nL,Nn,Vf,O1,jS,n_,MS],[0,0,0,()=>g_,0,0,4,4]],gM=[3,l,HS,0,[FS,nL,Nn,nu,$f,Vf,rY,O1,jS,GS,eL,c_,n_,MS,QQ,LQ,SX,V1,K1],[0,0,0,0,0,()=>g_,1,0,0,()=>EM,0,()=>wM,4,4,1,1,1,0,0]],Kte=[3,l,PX,0,[$f,Vf,jS,GS,eL,c_],[[0,4],()=>g_,0,()=>EM,0,()=>wM]],Yte=[3,l,DX,0,[HS],[()=>gM]],yM=[3,l,$S,0,[oY,_Y,xY],[4,4,0]],Xte=[-3,l,TX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Xte,u1);var EM=[3,l,GS,0,[z5],[()=>Aee]],Qte=[-3,l,CX,{[ye]:V7},[xe],[0]];pe.TypeRegistry.for(l).registerError(Qte,nk);var Zte=[-3,l,yX,{[ye]:_e,[oM]:421},[Wi],[0]];pe.TypeRegistry.for(l).registerError(Zte,uk);var Jte=[-3,l,EX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Jte,Yk);var ere=[-3,l,IX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(ere,n1);var Xf=[3,l,Vi,0,[dX,uJ],[()=>Bse,65]],tre=[-3,l,hX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(tre,hk);var rre=[3,l,wX,0,[Dn],[()=>en]],nre=[3,l,NX,0,[jX,Bf,qi,Jc,or],[()=>hse,64,2,0,128]],sre=[3,l,FX,0,[Uf,$X],[0,0]],ore=[3,l,kX,0,[ru,NS,F9,TS],[0,0,0,0]],SM=[3,l,UX,0,[ne,ru,LS],[0,0,()=>fM]],_M=[3,l,BX,0,[ne,ru,NS,LS],[0,0,0,()=>fM]],ire=[-3,l,ZX,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(ire,bk);var are=[3,l,HX,0,[ne,zi,HJ,VJ,dY,AS],[0,1,4,4,0,0]],cre=[3,l,VX,0,[x1,QX],[()=>ese,0]],ure=[3,l,WX,0,[ne,Xr,cL],[0,0,1]],lre=[3,l,KX,0,[R1,Xr],[()=>rse,0]],dre=[3,l,eQ,0,[Nn,cL,Xr],[0,1,0]],pre=[3,l,tQ,0,[j1,Xr],[()=>sse,0]],fre=[3,l,sQ,0,[pY,zi,Pt],[0,1,0]],mre=[3,l,oQ,0,[cX,JX],[()=>lse,0]],hre=[3,l,cQ,0,[Nn,XQ,Xr],[0,1,0]],gre=[3,l,uQ,0,[rL,Xr],[()=>fse,0]],yre=[3,l,SQ,0,[hY,zi],[0,1]],Ere=[3,l,_Q,0,[jJ,rQ],[64,0]],Sre=[3,l,TQ,0,[Ki,Xr],[0,0]],_re=[3,l,vQ,0,[d_,Xr],[()=>__,0]],bre=[3,l,gQ,0,[Be,ir,Ns],[0,()=>wr,()=>To]],Tre=[3,l,pQ,0,[Be,ir,Ns,tL,Qc,J1],[0,()=>wr,()=>To,1,1,0]],vre=[3,l,mQ,0,[Be,ir,Ns],[0,()=>wr,()=>To]],ar=[3,l,Tr,0,[lL,CQ],[1,1]],su=[3,l,Ps,0,[lL],[1]],wre=[3,l,JQ,0,[s_,WS,Qr],[0,()=>S_,0]],xre=[3,l,fL,0,[$Q,CL,lY,lQ],[0,1,4,4]],Ire=[3,l,mL,0,[FQ,CL],[2,1]],Cre=[-3,l,jQ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Cre,Qk);var Are=[-3,l,GQ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Are,Ok);var To=[3,l,Ns,0,[nZ,PQ],[0,64]],Jr=[3,l,vr,0,[eu,Yf],[1,1]],bM=[3,l,tZ,0,[aQ,YX,DQ,eu,Yf],[4,4,1,1,1]],Rre=[-3,l,rZ,{[ye]:_e},[xe,ZL],[0,()=>b_]];pe.TypeRegistry.for(l).registerError(Rre,dk);var ou=[3,l,Ds,0,[eu],[1]],Pre=[3,l,vL,0,[Dn,ne,bo,or,Rn,Qr],[()=>v_,0,0,128,()=>On,0]],Dre=[3,l,MQ,0,[ne,Dn,BS,JS,Vt,tu,Xc,bo,or,Rn,Qr],[0,()=>v_,()=>T_,0,0,0,0,0,128,()=>On,0]],Nre=[3,l,BQ,0,[wS,Mt,Vi],[()=>en,()=>ks,()=>Xf]],Ore=[3,l,gL,0,[Dn],[()=>v_]],kre=[3,l,KQ,0,[Ki,TL,B1,B5],[0,0,0,[2,{[G7]:W7}]]],Lre=[3,l,YQ,0,[YS],[0]],Mre=[3,l,aZ,0,[ne,Be,WL,Bf,zi,qi,sL,iZ,Xc,fJ,$1,Vt,Jc,W1,OX,or,Rn],[0,0,0,64,1,2,()=>Fse,()=>BM,0,2,()=>Ut,0,0,0,0,128,()=>On]],Ure=[3,l,cZ,0,[VS,k1,ML,zS,Mt],[()=>em,1,1,()=>Ut,()=>ks]],Bre=[3,l,sJ,0,[Pt],[0]],Fre=[-3,l,uZ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Fre,o1);var $re=[3,l,lZ,0,[Pt,Kr,AL,PL,XS],[0,()=>xse,()=>Rs,()=>Rs,0]],jre=[3,l,pZ,0,[Pt,RZ,jZ],[0,()=>Ise,()=>Os]],Gre=[3,l,hZ,0,[Pt,XS,qZ,zZ,qf,Ds,Ps,Zr,Kr,NZ,kL],[0,0,0,0,0,()=>ou,()=>su,()=>xM,()=>Cse,4,()=>y_]],qre=[3,l,yZ,0,[Be,Ds,Ps],[0,()=>ou,()=>su]],Hre=[3,l,EZ,0,[Be,qS,yL,SL],[0,0,()=>Rs,()=>Rs]],Vre=[3,l,_Z,0,[Be,zQ],[0,()=>Os]],zre=[3,l,TZ,0,[Be,Ds,Ps,Zr],[0,()=>ou,()=>su,()=>hM]],Wre=[3,l,IZ,0,[Be,qS,EL,yL,bL,SL],[0,0,1,()=>Rs,1,()=>Rs]],Kre=[3,l,xL,0,[Be,EL,VQ],[0,1,()=>Os]],Yre=[-3,l,UZ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Yre,a1);var Xre=[3,l,VZ,0,[Pt,XS,mZ,RL,AL,GZ,PL,xZ,kL],[0,0,()=>uM,1,()=>Rs,1,()=>Rs,()=>Ase,()=>y_]],Qre=[3,l,NL,0,[Pt,RL,$Z,xL,KZ],[0,1,()=>Os,()=>Rse,0]],Zre=[-3,l,nJ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(Zre,yk);var Jre=[3,l,PZ,0,[jf,Kf,Hi],[()=>xee,()=>Hne,()=>Uee]],ene=[3,l,tJ,0,[jf,Hi],[()=>wee,()=>Mee]],tne=[-3,l,MZ,{[ye]:_e},[xe,ZL],[0,()=>b_]];pe.TypeRegistry.for(l).registerError(tne,ok);var rne=[-3,l,kZ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(rne,Rk);var nne=[-3,l,BZ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(nne,fk);var sne=[3,l,OL,0,[iJ,HL,wL,OZ],[0,0,4,2]],one=[3,l,XZ,0,[tM,Kc,b1,X1,iL,Ds,Ps,jL],[0,0,0,()=>Jf,()=>E_,()=>Jr,()=>ar,()=>iu]],ine=[3,l,QZ,0,[Yi],[()=>Xi]],ane=[3,l,JZ,0,[HL,SJ,tM,x7,wL,b1,X1,iL,Ds,Ps,jL],[0,0,0,2,4,0,()=>Jf,()=>E_,()=>Jr,()=>ar,()=>iu]],cne=[3,l,eJ,0,[Yi],[()=>Xi]],g_=[3,l,Vf,0,[t_,e_,mJ],[0,0,0]],une=[3,l,dJ,0,[ne,Be,Bf,zi,WL,lJ,Xc,$1,Vt,YJ,vJ,Jc,W1,or,Rn,qi],[0,0,64,1,0,()=>BM,0,()=>Ut,0,1,1,0,0,128,()=>On,2]],lne=[3,l,hJ,0,[VS,k1,ML,zS,Mt],[()=>em,1,1,()=>Ut,()=>ks]],dne=[3,l,VL,0,[ne,nu,Nn,JL,ir,xJ,vr,Tr,Qc,Yc],[0,0,0,1,()=>wr,4,()=>Jr,()=>ar,1,0]],pne=[3,l,zL,0,[Zc,Kr,aJ,u_,r_],[()=>Sse,()=>ase,()=>Qf,()=>IM,()=>TM]],TM=[3,l,r_,0,[o_,GL,MX,gX],[0,0,0,4]],iu=[3,l,Wf,0,[H1,GL,qf],[2,0,0]],Qf=[3,l,zf,0,[cJ,_J],[2,0]],fne=[-3,l,wJ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(fne,t1);var vM=[3,l,i_,0,[ne,eM,LL],[0,0,()=>vse]],y_=[3,l,XL,0,[a_,aL],[0,4]],wM=[3,l,c_,0,[ne,Wc,ir,Yc,vr,Tr,Wf,Kr],[0,()=>Zf,()=>wr,0,()=>Jr,()=>ar,()=>iu,()=>Jf]],Xi=[3,l,Yi,0,[Wc,ne,ir,eM,A1,vr,JL,Qc,Nn,nu,T1,Zc,Kr,zf,yQ,dQ,tX,LL,rX,OL,r_,h1,XL,DS,Tr,Zr,uL],[()=>Zf,0,()=>wr,0,4,()=>bM,1,1,0,0,()=>uM,()=>Ese,()=>ise,()=>Qf,0,0,0,()=>NM,()=>dse,()=>sne,()=>TM,()=>K7,()=>y_,2,()=>ar,()=>xM,0]],mne=[-3,l,LJ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(mne,vk);var hne=[-3,l,$J,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(hne,xk);var xM=[3,l,r7,0,[QS,m_,o_],[1,1,0]],gne=[3,l,n7,0,[Yr,f_],[0,0]],yne=[3,l,GJ,0,[Ki,d_],[0,()=>__]],Ene=[-3,l,AJ,{[ye]:_e,[oM]:400,[j7]:["Throttling",400]},[xe,z7],[0,()=>b_]];pe.TypeRegistry.for(l).registerError(Ene,ak);var Sne=[3,l,WJ,0,[q7,H7],[0,0]],IM=[3,l,u_,0,[XJ,Uf],[0,0]],CM=[3,l,l_,0,[H1,Uf],[2,0]],_ne=[3,l,RJ,0,[Y1],[()=>Ate]],bne=[3,l,PJ,0,[QL,Vt],[()=>Ose,0]],Tne=[3,l,NJ,0,[Mt,Hf],[()=>Qi,()=>DM]],vne=[-3,l,IJ,{[ye]:_e},[Wi,$5],[0,()=>tse]];pe.TypeRegistry.for(l).registerError(vne,f1);var wne=[-3,l,CJ,{[ye]:_e},[xe],[0]];pe.TypeRegistry.for(l).registerError(wne,Dk);var xne=[-3,l,kJ,{[ye]:_e},[Wi],[0]];pe.TypeRegistry.for(l).registerError(xne,Vk);var Ine=[3,l,QJ,0,[C1,vL,Hi,Kf],[()=>hee,()=>Pre,()=>Ree,()=>Pne]],Cne=[3,l,ZJ,0,[QL,Vt,tu,D1],[()=>kse,0,0,[0,4]]],Ane=[3,l,e7,0,[Mt,Vi],[()=>Qi,()=>FM]],Rne=[3,l,A7,0,[Ki,MJ],[0,64]],Pne=[3,l,Kf,0,[Yr,sM,ne,bo,or,Rn,Qr],[()=>Ut,0,0,0,128,()=>On,0]],Dne=[3,l,o7,0,[ne,mL],[0,()=>Ire]],Nne=[3,l,i7,0,[RS],[()=>pM]],One=[3,l,c7,0,[ne,Be,P5,Ff],[0,0,0,0]],kne=[3,l,u7,0,[ne,Be,PS,Ff],[0,0,0,0]],Lne=[3,l,l7,0,[Be,vr,Tr,Zr],[0,()=>Jr,()=>ar,()=>au]],Mne=[3,l,p7,0,[Pn,ZS],[0,()=>Nse]],Une=[3,l,f7,0,[Gf],[()=>h_]],Bne=[3,l,h7,0,[Pn,KY,JY,ZY,Z1,NL],[0,0,1,()=>Os,()=>use,()=>Pse]],Fne=[3,l,g7,0,[Pn,DL],[0,()=>LM]],$ne=[3,l,E7,0,[ne,Yr,E1,BS,Xc,JS,Vt,tu,sM,bo,or,Rn,Qr],[0,()=>Ut,()=>Mse,()=>T_,0,0,0,0,0,0,128,()=>On,0]],jne=[3,l,S7,0,[wS,Mt,Vi],[()=>en,()=>ks,()=>Xf]],AM=[3,l,p_,0,[TS],[0]],Gne=[3,l,v7,0,[ne,ru,p_],[0,0,()=>AM]],qne=[3,l,w7,0,[ne,ru,NS,p_],[0,0,0,()=>AM]],Hne=[3,l,C7,0,[Pt,qf,Ds,Ps,Kr,YL],[0,0,()=>ou,()=>su,()=>OM,0]],Vne=[3,l,P7,0,[Wc,ne,Yc,vr,Q1,zf,Wf,ZS,a_,DS,uL,aX,Tr,Zr],[()=>Zf,0,0,()=>Jr,()=>cse,()=>Qf,()=>iu,()=>Dse,0,2,0,()=>pse,()=>ar,()=>au]],zne=[3,l,D7,0,[Yi],[()=>Xi]],Wne=[3,l,O7,0,[Q1,ne,_L,ZS],[()=>ose,0,()=>Os,()=>wse]],Kne=[3,l,k7,0,[i_],[()=>vM]],Yne=[3,l,M7,0,[ne,l_],[0,()=>CM]],Xne=[3,l,U7,0,[l_],[()=>CM]],au=[3,l,Zr,0,[QS,m_],[1,1]],Qne=[3,l,B7,0,[gL,L1],[()=>Ore,()=>Bee]],RM="unit",Zne=[-3,iM,"DynamoDBServiceException",0,[],[]];pe.TypeRegistry.for(iM).registerError(Zne,fe);var Zf=[1,l,Wc,0,()=>Y7],PM=[1,l,vS,0,()=>xr],Jne=[1,l,F8,0,()=>Q7],ese=[1,l,x1,0,()=>nee],tse=[1,l,U5,0,()=>fee],Qi=[1,l,w5,0,()=>ks],rse=[1,l,R1,0,()=>yee],nse=[1,l,q1,0,()=>gte],sse=[1,l,j1,0,()=>wte],ose=[1,l,MY,0,()=>kte],ise=[1,l,BY,0,()=>Lte],ase=[1,l,Kr,0,()=>Mte],Jf=[1,l,$Y,0,()=>Ote],cse=[1,l,GY,0,()=>Ute],use=[1,l,YY,0,()=>$te],lse=[1,l,XY,0,()=>Bte],dse=[1,l,sX,0,()=>Gte],pse=[1,l,iX,0,()=>qte],fse=[1,l,rL,0,()=>Wte],mse=[1,l,fX,0,()=>Xf],em=[1,l,_X,0,()=>en],DM=[1,l,xX,0,()=>rre],hse=[1,l,LX,0,()=>Ut],wr=[1,l,ir,0,()=>sre],gse=[1,l,oL,0,()=>ore],yse=[1,l,GX,0,()=>xr],Ese=[1,l,fQ,0,()=>Tre],Sse=[1,l,Zc,0,()=>vre],E_=[1,l,hQ,0,()=>bre],_se=[1,l,eZ,0,()=>wre],bse=[1,l,qQ,0,()=>uee],Tse=[1,l,HQ,0,()=>lee],S_=[1,l,ZQ,0,()=>xr],vse=[1,l,dZ,0,()=>$re],wse=[1,l,fZ,0,()=>jre],NM=[1,l,gZ,0,()=>Gre],xse=[1,l,SZ,0,()=>Hre],Ise=[1,l,bZ,0,()=>Vre],Cse=[1,l,vZ,0,()=>zre],OM=[1,l,wZ,0,()=>qre],Ase=[1,l,CZ,0,()=>Wre],Rse=[1,l,AZ,0,()=>Kre],kM=[1,l,LZ,0,()=>Bre],LM=[1,l,HZ,0,()=>Xre],Pse=[1,l,WZ,0,()=>Qre],Dse=[1,l,DZ,0,()=>Jre],Nse=[1,l,rJ,0,()=>ene],__=[1,l,UJ,0,()=>gne],b_=[1,l,qJ,0,()=>Sne],Ose=[1,l,DJ,0,()=>_ne],kse=[1,l,JJ,0,()=>Ine],Lse=[1,l,F7,0,()=>Qne],en=[2,l,k8,0,0,()=>xr],Mse=[2,l,E1,0,0,()=>X7],MM=[2,l,n5,0,0,()=>nre],Use=[2,l,r5,0,0,()=>em],UM=[2,l,g5,0,0,()=>Lse],T_=[2,l,J9,0,0,()=>bte],On=[2,l,eY,0,0,()=>xr],BM=[2,l,AY,0,0,()=>dM],Bse=[2,l,pX,0,0,()=>xr],FM=[2,l,mX,0,0,()=>mse],Ut=[2,l,Yr,0,0,()=>xr],Fse=[2,l,sL,0,0,()=>dM],$se=[2,l,IQ,0,0,()=>xr],v_=[2,l,UQ,0,0,()=>xr],QO=[2,l,pJ,0,0,()=>lM],xr=[3,l,z8,0,[bJ,RQ,y5,EJ,NQ,d5,AQ,xQ,OQ,i5],[0,0,21,64,64,85,()=>$se,()=>yse,2,2]],jse=[9,l,X8,0,()=>see,()=>oee],Gse=[9,l,J8,0,()=>iee,()=>aee],qse=[9,l,f5,0,()=>dee,()=>pee],Hse=[9,l,E5,0,()=>Eee,()=>See],Vse=[9,l,I5,0,()=>bee,()=>Tee],zse=[9,l,q5,0,()=>Iee,()=>Cee],Wse=[9,l,K5,0,()=>Pee,()=>Dee],Kse=[9,l,_9,0,()=>kee,()=>Lee],Yse=[9,l,M9,0,()=>Fee,()=>$ee],Xse=[9,l,$9,0,()=>jee,()=>Gee],Qse=[9,l,J5,0,()=>qee,()=>Hee],Zse=[9,l,e9,0,()=>Vee,()=>zee],Jse=[9,l,n9,0,()=>Wee,()=>Kee],eoe=[9,l,i9,0,()=>Yee,()=>Xee],toe=[9,l,d9,0,()=>Qee,()=>Zee],roe=[9,l,f9,0,()=>Jee,()=>ete],noe=[9,l,g9,0,()=>tte,()=>rte],soe=[9,l,I9,0,()=>nte,()=>ste],ooe=[9,l,C9,0,()=>ote,()=>ite],ioe=[9,l,D9,0,()=>ate,()=>cte],aoe=[9,l,Q9,0,()=>ute,()=>lte],coe=[9,l,V9,0,()=>dte,()=>pte],uoe=[9,l,K9,0,()=>fte,()=>mte],loe=[9,l,P9,0,()=>SM,()=>_M],doe=[9,l,iY,0,()=>SM,()=>_M],poe=[9,l,yY,0,()=>yte,()=>Ete],foe=[9,l,wY,0,()=>Ste,()=>_te],moe=[9,l,bY,0,()=>xte,()=>Ite],hoe=[9,l,RY,0,()=>Rte,()=>Pte],goe=[9,l,NY,0,()=>Dte,()=>Nte],yoe=[9,l,RX,0,()=>Kte,()=>Yte],Eoe=[9,l,qX,0,()=>are,()=>cre],Soe=[9,l,zX,0,()=>ure,()=>lre],_oe=[9,l,XX,0,()=>dre,()=>pre],boe=[9,l,nQ,0,()=>fre,()=>mre],Toe=[9,l,iQ,0,()=>hre,()=>gre],voe=[9,l,EQ,0,()=>yre,()=>Ere],woe=[9,l,bQ,0,()=>Sre,()=>_re],xoe=[9,l,kQ,0,()=>Dre,()=>Nre],Ioe=[9,l,WQ,0,()=>kre,()=>Lre],Coe=[9,l,oZ,0,()=>Mre,()=>Ure],Aoe=[9,l,YZ,0,()=>one,()=>ine],Roe=[9,l,ZZ,0,()=>ane,()=>cne],Poe=[9,l,TJ,0,()=>une,()=>lne],Doe=[9,l,zJ,0,()=>yne,()=>RM],Noe=[9,l,OJ,0,()=>bne,()=>Tne],Ooe=[9,l,t7,0,()=>Cne,()=>Ane],koe=[9,l,I7,0,()=>Rne,()=>RM],Loe=[9,l,s7,0,()=>Dne,()=>Nne],Moe=[9,l,a7,0,()=>One,()=>kne],Uoe=[9,l,d7,0,()=>Mne,()=>Une],Boe=[9,l,m7,0,()=>Bne,()=>Fne],Foe=[9,l,_7,0,()=>$ne,()=>jne],$oe=[9,l,T7,0,()=>Gne,()=>qne],joe=[9,l,R7,0,()=>Vne,()=>zne],Goe=[9,l,N7,0,()=>Wne,()=>Kne],qoe=[9,l,L7,0,()=>Yne,()=>Xne],$c=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").sc(eoe).build(){},Hoe=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(s){let o=e.findIndex(i=>i.schemeId===s.schemeId);o===-1?e.push(s):e.splice(o,1,s)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},Voe=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),zoe=(t,e)=>{let r=Object.assign(YO.getAwsRegionExtensionConfiguration(t),B.getDefaultExtensionConfiguration(t),XO.getHttpHandlerExtensionConfiguration(t),Hoe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,YO.resolveAwsRegionExtensionConfiguration(r),B.resolveDefaultRuntimeConfig(r),XO.resolveHttpHandlerRuntimeConfig(r),Voe(r))},Wr=class extends B.Client{config;constructor(...[e]){let r=A8.getRuntimeConfig(e||{});super(r),this.initConfig=r;let n=R8(r),s=T8.resolveAccountIdEndpointModeConfig(n),o=zO.resolveUserAgentConfig(s),i=WO.resolveRetryConfig(o),a=I8.resolveRegionConfig(i),c=VO.resolveHostHeaderConfig(a),u=q.resolveEndpointConfig(c),f=KO.resolveHttpAuthSchemeConfig(u),m=v8.resolveEndpointDiscoveryConfig(f,{endpointDiscoveryCommandCtor:$c}),g=zoe(m,e?.extensions||[]);this.config=g,this.middlewareStack.use(pe.getSchemaSerdePlugin(this.config)),this.middlewareStack.use(zO.getUserAgentPlugin(this.config)),this.middlewareStack.use(WO.getRetryPlugin(this.config)),this.middlewareStack.use(C8.getContentLengthPlugin(this.config)),this.middlewareStack.use(VO.getHostHeaderPlugin(this.config)),this.middlewareStack.use(w8.getLoggerPlugin(this.config)),this.middlewareStack.use(x8.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(An.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:KO.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new An.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(An.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},$p=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").sc(jse).build(){},jp=class extends B.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").sc(Gse).build(){},Gp=class extends B.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:e=>Object.keys(e?.RequestItems??{})}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").sc(qse).build(){},qp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").sc(Hse).build(){},Hp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").sc(Vse).build(){},Vp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").sc(zse).build(){},zp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").sc(Wse).build(){},Wp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").sc(Kse).build(){},Kp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").sc(Yse).build(){},Yp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").sc(Xse).build(){},Xp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").sc(Qse).build(){},Qp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").sc(Zse).build(){},Zp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").sc(Jse).build(){},Jp=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").sc(toe).build(){},ef=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").sc(roe).build(){},tf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").sc(noe).build(){},rf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").sc(soe).build(){},nf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").sc(ooe).build(){},sf=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").sc(ioe).build(){},Gi=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").sc(aoe).build(){},of=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").sc(coe).build(){},af=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").sc(uoe).build(){},cf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").sc(loe).build(){},uf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").sc(doe).build(){},lf=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").sc(poe).build(){},df=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").sc(foe).build(){},pf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").sc(moe).build(){},ff=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").sc(hoe).build(){},mf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").sc(goe).build(){},hf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"operationContextParams",get:e=>e?.TableCreationParameters?.TableName}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").sc(yoe).build(){},gf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").sc(Eoe).build(){},jc=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").sc(Soe).build(){},Gc=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").sc(_oe).build(){},yf=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").sc(boe).build(){},qc=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").sc(Toe).build(){},Hc=class extends B.Command.classBuilder().ep(H).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").sc(voe).build(){},Ef=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").sc(woe).build(){},Sf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").sc(xoe).build(){},_f=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").sc(Ioe).build(){},Vc=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").sc(Coe).build(){},bf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").sc(Aoe).build(){},Tf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").sc(Roe).build(){},zc=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").sc(Poe).build(){},vf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").sc(Doe).build(){},wf=class extends B.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").sc(Noe).build(){},xf=class extends B.Command.classBuilder().ep({...H,ResourceArnList:{type:"operationContextParams",get:e=>e?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").sc(Ooe).build(){},If=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").sc(koe).build(){},Cf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").sc(Loe).build(){},Af=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").sc(Moe).build(){},Rf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").sc(Uoe).build(){},Pf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").sc(Boe).build(){},Df=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").sc(Foe).build(){},Nf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").sc($oe).build(){},Of=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").sc(joe).build(){},kf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").sc(Goe).build(){},Lf=class extends B.Command.classBuilder().ep({...H,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(e,r,n,s){return[q.getEndpointPlugin(n,e.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").sc(qoe).build(){},Woe={BatchExecuteStatementCommand:$p,BatchGetItemCommand:jp,BatchWriteItemCommand:Gp,CreateBackupCommand:qp,CreateGlobalTableCommand:Hp,CreateTableCommand:Vp,DeleteBackupCommand:zp,DeleteItemCommand:Wp,DeleteResourcePolicyCommand:Kp,DeleteTableCommand:Yp,DescribeBackupCommand:Xp,DescribeContinuousBackupsCommand:Qp,DescribeContributorInsightsCommand:Zp,DescribeEndpointsCommand:$c,DescribeExportCommand:Jp,DescribeGlobalTableCommand:ef,DescribeGlobalTableSettingsCommand:tf,DescribeImportCommand:rf,DescribeKinesisStreamingDestinationCommand:nf,DescribeLimitsCommand:sf,DescribeTableCommand:Gi,DescribeTableReplicaAutoScalingCommand:of,DescribeTimeToLiveCommand:af,DisableKinesisStreamingDestinationCommand:cf,EnableKinesisStreamingDestinationCommand:uf,ExecuteStatementCommand:lf,ExecuteTransactionCommand:df,ExportTableToPointInTimeCommand:pf,GetItemCommand:ff,GetResourcePolicyCommand:mf,ImportTableCommand:hf,ListBackupsCommand:gf,ListContributorInsightsCommand:jc,ListExportsCommand:Gc,ListGlobalTablesCommand:yf,ListImportsCommand:qc,ListTablesCommand:Hc,ListTagsOfResourceCommand:Ef,PutItemCommand:Sf,PutResourcePolicyCommand:_f,QueryCommand:Vc,RestoreTableFromBackupCommand:bf,RestoreTableToPointInTimeCommand:Tf,ScanCommand:zc,TagResourceCommand:vf,TransactGetItemsCommand:wf,TransactWriteItemsCommand:xf,UntagResourceCommand:If,UpdateContinuousBackupsCommand:Cf,UpdateContributorInsightsCommand:Af,UpdateGlobalTableCommand:Rf,UpdateGlobalTableSettingsCommand:Pf,UpdateItemCommand:Df,UpdateKinesisStreamingDestinationCommand:Nf,UpdateTableCommand:Of,UpdateTableReplicaAutoScalingCommand:kf,UpdateTimeToLiveCommand:Lf},Mf=class extends Wr{};B.createAggregatedClient(Woe,Mf);var Koe=An.createPaginator(Wr,jc,"NextToken","NextToken","MaxResults"),Yoe=An.createPaginator(Wr,Gc,"NextToken","NextToken","MaxResults"),Xoe=An.createPaginator(Wr,qc,"NextToken","NextToken","PageSize"),Qoe=An.createPaginator(Wr,Hc,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Zoe=An.createPaginator(Wr,Vc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Joe=An.createPaginator(Wr,zc,"ExclusiveStartKey","LastEvaluatedKey","Limit"),$M=async(t,e)=>{let r;try{let n=await t.send(new Gi(e));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:br.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:br.WaiterState.RETRY,reason:r}}return{state:br.WaiterState.RETRY,reason:r}},eie=async(t,e)=>{let r={minDelay:20,maxDelay:120};return br.createWaiter({...r,...t},e,$M)},tie=async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await br.createWaiter({...r,...t},e,$M);return br.checkExceptions(n)},jM=async(t,e)=>{let r;try{r=await t.send(new Gi(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:br.WaiterState.SUCCESS,reason:r}}return{state:br.WaiterState.RETRY,reason:r}},rie=async(t,e)=>{let r={minDelay:20,maxDelay:120};return br.createWaiter({...r,...t},e,jM)},nie=async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await br.createWaiter({...r,...t},e,jM);return br.checkExceptions(n)},sie={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},oie={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},iie={B:"B",N:"N",S:"S"},aie={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},cie={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},uie={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},lie={HASH:"HASH",RANGE:"RANGE"},die={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},pie={AES256:"AES256",KMS:"KMS"},fie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},mie={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},hie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},gie={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},yie={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Eie={ALL_OLD:"ALL_OLD",NONE:"NONE"},Sie={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},_ie={NONE:"NONE",SIZE:"SIZE"},bie={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Tie={AND:"AND",OR:"OR"},vie={DISABLED:"DISABLED",ENABLED:"ENABLED"},wie={DISABLED:"DISABLED",ENABLED:"ENABLED"},xie={DISABLE:"DISABLE",ENABLE:"ENABLE"},Iie={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},Cie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Aie={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Rie={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Pie={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Die={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Nie={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Oie={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},kie={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Lie={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Mie={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Uie={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Bie={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},Fie={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},$ie={AES256:"AES256",KMS:"KMS"},jie={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Gie={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},qie={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Hie={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Vie={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return B.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return B.Client}});x.ApproximateCreationDateTimePrecision=sie;x.AttributeAction=oie;x.BackupInUseException=JO;x.BackupNotFoundException=tk;x.BackupStatus=aie;x.BackupType=cie;x.BackupTypeFilter=gie;x.BatchExecuteStatementCommand=$p;x.BatchGetItemCommand=jp;x.BatchStatementErrorCodeEnum=Sie;x.BatchWriteItemCommand=Gp;x.BillingMode=uie;x.ComparisonOperator=bie;x.ConditionalCheckFailedException=d1;x.ConditionalOperator=Tie;x.ContinuousBackupsStatus=vie;x.ContinuousBackupsUnavailableException=Sk;x.ContributorInsightsAction=xie;x.ContributorInsightsMode=Iie;x.ContributorInsightsStatus=Cie;x.CreateBackupCommand=qp;x.CreateGlobalTableCommand=Hp;x.CreateTableCommand=Vp;x.DeleteBackupCommand=zp;x.DeleteItemCommand=Wp;x.DeleteResourcePolicyCommand=Kp;x.DeleteTableCommand=Yp;x.DescribeBackupCommand=Xp;x.DescribeContinuousBackupsCommand=Qp;x.DescribeContributorInsightsCommand=Zp;x.DescribeEndpointsCommand=$c;x.DescribeExportCommand=Jp;x.DescribeGlobalTableCommand=ef;x.DescribeGlobalTableSettingsCommand=tf;x.DescribeImportCommand=rf;x.DescribeKinesisStreamingDestinationCommand=nf;x.DescribeLimitsCommand=sf;x.DescribeTableCommand=Gi;x.DescribeTableReplicaAutoScalingCommand=of;x.DescribeTimeToLiveCommand=af;x.DestinationStatus=Hie;x.DisableKinesisStreamingDestinationCommand=cf;x.DuplicateItemException=jk;x.DynamoDB=Mf;x.DynamoDBClient=Wr;x.DynamoDBServiceException=fe;x.EnableKinesisStreamingDestinationCommand=uf;x.ExecuteStatementCommand=lf;x.ExecuteTransactionCommand=df;x.ExportConflictException=Wk;x.ExportFormat=Mie;x.ExportNotFoundException=Lk;x.ExportStatus=Uie;x.ExportTableToPointInTimeCommand=pf;x.ExportType=Bie;x.ExportViewType=Fie;x.GetItemCommand=ff;x.GetResourcePolicyCommand=mf;x.GlobalTableAlreadyExistsException=Ck;x.GlobalTableNotFoundException=Uk;x.GlobalTableStatus=Aie;x.IdempotentParameterMismatchException=qk;x.ImportConflictException=Jk;x.ImportNotFoundException=Fk;x.ImportStatus=jie;x.ImportTableCommand=hf;x.IndexNotFoundException=u1;x.IndexStatus=Rie;x.InputCompressionType=Gie;x.InputFormat=qie;x.InternalServerError=nk;x.InvalidEndpointException=uk;x.InvalidExportTimeException=Yk;x.InvalidRestoreTimeException=n1;x.ItemCollectionSizeLimitExceededException=hk;x.KeyType=lie;x.LimitExceededException=bk;x.ListBackupsCommand=gf;x.ListContributorInsightsCommand=jc;x.ListExportsCommand=Gc;x.ListGlobalTablesCommand=yf;x.ListImportsCommand=qc;x.ListTablesCommand=Hc;x.ListTagsOfResourceCommand=Ef;x.MultiRegionConsistency=kie;x.PointInTimeRecoveryStatus=wie;x.PointInTimeRecoveryUnavailableException=Qk;x.PolicyNotFoundException=Ok;x.ProjectionType=die;x.ProvisionedThroughputExceededException=dk;x.PutItemCommand=Sf;x.PutResourcePolicyCommand=_f;x.QueryCommand=Vc;x.ReplicaAlreadyExistsException=o1;x.ReplicaNotFoundException=a1;x.ReplicaStatus=Pie;x.ReplicatedWriteConflictException=yk;x.RequestLimitExceeded=ok;x.ResourceInUseException=Rk;x.ResourceNotFoundException=fk;x.RestoreTableFromBackupCommand=bf;x.RestoreTableToPointInTimeCommand=Tf;x.ReturnConsumedCapacity=yie;x.ReturnItemCollectionMetrics=_ie;x.ReturnValue=Lie;x.ReturnValuesOnConditionCheckFailure=Eie;x.S3SseAlgorithm=$ie;x.SSEStatus=fie;x.SSEType=pie;x.ScalarAttributeType=iie;x.ScanCommand=zc;x.Select=Vie;x.StreamViewType=mie;x.TableAlreadyExistsException=t1;x.TableClass=Die;x.TableInUseException=vk;x.TableNotFoundException=xk;x.TableStatus=Nie;x.TagResourceCommand=vf;x.ThrottlingException=ak;x.TimeToLiveStatus=hie;x.TransactGetItemsCommand=wf;x.TransactWriteItemsCommand=xf;x.TransactionCanceledException=f1;x.TransactionConflictException=Dk;x.TransactionInProgressException=Vk;x.UntagResourceCommand=If;x.UpdateContinuousBackupsCommand=Cf;x.UpdateContributorInsightsCommand=Af;x.UpdateGlobalTableCommand=Rf;x.UpdateGlobalTableSettingsCommand=Pf;x.UpdateItemCommand=Df;x.UpdateKinesisStreamingDestinationCommand=Nf;x.UpdateTableCommand=Of;x.UpdateTableReplicaAutoScalingCommand=kf;x.UpdateTimeToLiveCommand=Lf;x.WitnessStatus=Oie;x.paginateListContributorInsights=Koe;x.paginateListExports=Yoe;x.paginateListImports=Xoe;x.paginateListTables=Qoe;x.paginateQuery=Zoe;x.paginateScan=Joe;x.waitForTableExists=eie;x.waitForTableNotExists=rie;x.waitUntilTableExists=tie;x.waitUntilTableNotExists=nie});var ZM=R(Ji=>{"use strict";var Zi=class t{value;constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new t(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}},uu=(t,e)=>{if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return tm();if(Array.isArray(t))return zie(t,e);if(t?.constructor?.name==="Set")return Wie(t,e);if(t?.constructor?.name==="Map")return Kie(t,e);if(t?.constructor?.name==="Object"||!t.constructor&&typeof t=="object")return GM(t,e);if(QM(t))return t.length===0&&e?.convertEmptyValues?tm():WM(t);if(typeof t=="boolean"||t?.constructor?.name==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||t?.constructor?.name==="Number")return XM(t,e);if(t instanceof Zi)return t.toAttributeValue();if(typeof t=="bigint")return YM(t);if(typeof t=="string"||t?.constructor?.name==="String")return t.length===0&&e?.convertEmptyValues?tm():KM(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return GM(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},zie=(t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>uu(r,e))}),Wie=(t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(s=>s!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return tm();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof Zi)return{NS:Array.from(r).map(s=>s.toString())};if(typeof n=="number")return{NS:Array.from(r).map(s=>XM(s,e)).map(s=>s.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(YM).map(s=>s.N)};if(typeof n=="string")return{SS:Array.from(r).map(KM).map(s=>s.S)};if(QM(n))return{BS:Array.from(r).map(WM).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},Kie=(t,e)=>({M:(r=>{let n={};for(let[s,o]of r)typeof o!="function"&&(o!==void 0||!e?.removeUndefinedValues)&&(n[s]=uu(o,e));return n})(t)}),GM=(t,e)=>({M:(r=>{let n={};for(let s in r){let o=r[s];typeof o!="function"&&(o!==void 0||!e?.removeUndefinedValues)&&(n[s]=uu(o,e))}return n})(t)}),tm=()=>({NULL:!0}),WM=t=>({B:t}),KM=t=>({S:t.toString()}),YM=t=>({N:t.toString()}),qM=t=>{throw new Error(`${t} Use NumberValue from @aws-sdk/lib-dynamodb.`)},XM=(t,e)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return e?.allowImpreciseNumbers||(Number(t)>Number.MAX_SAFE_INTEGER?qM(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(t)<Number.MIN_SAFE_INTEGER&&qM(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:t.toString()}},QM=t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1},cu=(t,e)=>{for(let[r,n]of Object.entries(t))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return HM(n,e);case"B":return zM(n);case"S":return VM(n);case"L":return Yie(n,e);case"M":return Xie(n,e);case"NS":return new Set(n.map(s=>HM(s,e)));case"BS":return new Set(n.map(zM));case"SS":return new Set(n.map(VM));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},HM=(t,e)=>{if(typeof e?.wrapNumbers=="function")return e?.wrapNumbers(t);if(e?.wrapNumbers)return Zi.from(t);let r=Number(t),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},VM=t=>t,zM=t=>t,Yie=(t,e)=>t.map(r=>cu(r,e)),Xie=(t,e)=>Object.entries(t).reduce((r,[n,s])=>(r[n]=cu(s,e),r),{});function Qie(t,e){let r=uu(t,e),[n,s]=Object.entries(r)[0];switch(n){case"M":case"L":return e?.convertTopLevelContainer?r:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var Zie=(t,e)=>e?.convertWithoutMapWrapper?cu(t,e):cu({M:t},e);Ji.NumberValueImpl=Zi;Ji.convertToAttr=uu;Ji.convertToNative=cu;Ji.marshall=Qie;Ji.unmarshall=Zie});var tU=R(Ge=>{"use strict";var zt=w_(),mm=te(),Jie=(tt(),ie(_n)),I_=ZM(),eU=(lt(),ie(Zs)),lu=null,J={},kn=[],JM="*",rm=(t,e,r)=>{if(t!==void 0){if(r==null)return e(t);{let n=Object.keys(r),s=n.length===1&&n[0]===JM,o=n.length>=1&&!s,i=n.length===0;if(o)return C_(t,e,r);if(i)return eae(t,e,lu);if(s)return Object.entries(t??{}).reduce((a,[c,u])=>(typeof u!="function"&&(a[c]=rm(u,e,r[JM])),a),Array.isArray(t)?[]:{})}}},C_=(t,e,r)=>{let n;if(Array.isArray(t))n=t.filter(s=>typeof s!="function");else{n={};for(let[s,o]of Object.entries(t))typeof o!="function"&&(n[s]=o)}for(let[s,o]of Object.entries(r)){if(typeof t[s]=="function")continue;let i=rm(t[s],e,o);i!==void 0&&typeof i!="function"&&(n[s]=i)}return n},eae=(t,e,r)=>Array.isArray(t)?t.filter(n=>typeof n!="function").map(n=>rm(n,e,r)):Object.entries(t).reduce((n,[s,o])=>{if(typeof o=="function")return n;let i=rm(o,e,r);return i!==void 0&&typeof i!="function"&&(n[s]=i),n},{}),tae=(t,e,r)=>C_(t,s=>I_.marshall(s,r),e),rae=(t,e,r)=>C_(t,s=>I_.unmarshall(s,r),e),Tt=class extends mm.Command{addMarshallingMiddleware(e){let{marshallOptions:r={},unmarshallOptions:n={}}=e.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>(Jie.setFeature(o,"DDB_MAPPER","d"),s({...i,input:tae(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>{let a=await s(i);return a.output=rae(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},nm=class extends Tt{input;inputKeyNodes={Statements:{"*":{Parameters:kn}}};outputKeyNodes={Responses:{"*":{Error:{Item:J},Item:J}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},sm=class extends Tt{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":J}}}};outputKeyNodes={Responses:{"*":{"*":J}},UnprocessedKeys:{"*":{Keys:{"*":J}}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},om=class extends Tt{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:J},DeleteRequest:{Key:J}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:J},DeleteRequest:{Key:J}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:J}}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},im=class extends Tt{input;inputKeyNodes={Key:J,Expected:{"*":{Value:lu,AttributeValueList:kn}},ExpressionAttributeValues:J};outputKeyNodes={Attributes:J,ItemCollectionMetrics:{ItemCollectionKey:J}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},am=class extends Tt{input;inputKeyNodes={Parameters:kn};outputKeyNodes={Items:{"*":J},LastEvaluatedKey:J};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},cm=class extends Tt{input;inputKeyNodes={TransactStatements:{"*":{Parameters:kn}}};outputKeyNodes={Responses:{"*":{Item:J}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},um=class extends Tt{input;inputKeyNodes={Key:J};outputKeyNodes={Item:J};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},lm=class extends Tt{input;inputKeyNodes={Item:J,Expected:{"*":{Value:lu,AttributeValueList:kn}},ExpressionAttributeValues:J};outputKeyNodes={Attributes:J,ItemCollectionMetrics:{ItemCollectionKey:J}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},du=class extends Tt{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:kn}},QueryFilter:{"*":{AttributeValueList:kn}},ExclusiveStartKey:J,ExpressionAttributeValues:J};outputKeyNodes={Items:{"*":J},LastEvaluatedKey:J};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},pu=class extends Tt{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:kn}},ExclusiveStartKey:J,ExpressionAttributeValues:J};outputKeyNodes={Items:{"*":J},LastEvaluatedKey:J};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},dm=class extends Tt{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:J}}}};outputKeyNodes={Responses:{"*":{Item:J}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},pm=class extends Tt{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:J,ExpressionAttributeValues:J},Put:{Item:J,ExpressionAttributeValues:J},Delete:{Key:J,ExpressionAttributeValues:J},Update:{Key:J,ExpressionAttributeValues:J}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:J}}}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},fm=class extends Tt{input;inputKeyNodes={Key:J,AttributeUpdates:{"*":{Value:lu}},Expected:{"*":{Value:lu,AttributeValueList:kn}},ExpressionAttributeValues:J};outputKeyNodes={Attributes:J,ItemCollectionMetrics:{ItemCollectionKey:J}};clientCommand;middlewareStack;constructor(e){super(),this.input=e,this.clientCommand=new zt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(e,r,n){this.addMarshallingMiddleware(r);let s=e.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},ea=class t extends mm.Client{config;constructor(e,r){if(super(e.config),this.config=e.config,this.config.translateConfig=r,this.middlewareStack=e.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(e,r){return new t(e,r)}destroy(){}},x_=class t extends ea{static from(e,r){return new t(e,r)}batchExecuteStatement(e,r,n){let s=new nm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}batchGet(e,r,n){let s=new sm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}batchWrite(e,r,n){let s=new om(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}delete(e,r,n){let s=new im(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}executeStatement(e,r,n){let s=new am(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}executeTransaction(e,r,n){let s=new cm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}get(e,r,n){let s=new um(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}put(e,r,n){let s=new lm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}query(e,r,n){let s=new du(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}scan(e,r,n){let s=new pu(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}transactGet(e,r,n){let s=new dm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}transactWrite(e,r,n){let s=new pm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}update(e,r,n){let s=new fm(e);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}},nae=eU.createPaginator(ea,du,"ExclusiveStartKey","LastEvaluatedKey","Limit"),sae=eU.createPaginator(ea,pu,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(Ge,"$Command",{enumerable:!0,get:function(){return mm.Command}});Object.defineProperty(Ge,"__Client",{enumerable:!0,get:function(){return mm.Client}});Object.defineProperty(Ge,"NumberValue",{enumerable:!0,get:function(){return I_.NumberValueImpl}});Ge.BatchExecuteStatementCommand=nm;Ge.BatchGetCommand=sm;Ge.BatchWriteCommand=om;Ge.DeleteCommand=im;Ge.DynamoDBDocument=x_;Ge.DynamoDBDocumentClient=ea;Ge.DynamoDBDocumentClientCommand=Tt;Ge.ExecuteStatementCommand=am;Ge.ExecuteTransactionCommand=cm;Ge.GetCommand=um;Ge.PutCommand=lm;Ge.QueryCommand=du;Ge.ScanCommand=pu;Ge.TransactGetCommand=dm;Ge.TransactWriteCommand=pm;Ge.UpdateCommand=fm;Ge.paginateQuery=nae;Ge.paginateScan=sae});var iU=R((x_e,oU)=>{var oae=ue("path").relative;oU.exports=lae;var iae=process.cwd();function nU(t,e){for(var r=t.split(/[ ,]+/),n=String(e).toLowerCase(),s=0;s<r.length;s++){var o=r[s];if(o&&(o==="*"||o.toLowerCase()===n))return!0}return!1}function aae(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e),s=n.value;return n.get=function(){return s},n.writable&&(n.set=function(i){return s=i}),delete n.value,delete n.writable,Object.defineProperty(t,e,n),n}function cae(t){for(var e="",r=0;r<t;r++)e+=", arg"+r;return e.substr(2)}function uae(t){var e=this.name+": "+this.namespace;this.message&&(e+=" deprecated "+this.message);for(var r=0;r<t.length;r++)e+=`
    at `+t[r].toString();return e}function lae(t){if(!t)throw new TypeError("argument namespace is required");var e=gm(),r=ta(e[1]),n=r[0];function s(o){hm.call(s,o)}return s._file=n,s._ignored=pae(t),s._namespace=t,s._traced=fae(t),s._warned=Object.create(null),s.function=yae,s.property=Eae,s}function dae(t,e){var r=typeof t.listenerCount!="function"?t.listeners(e).length:t.listenerCount(e);return r>0}function pae(t){if(process.noDeprecation)return!0;var e=process.env.NO_DEPRECATION||"";return nU(e,t)}function fae(t){if(process.traceDeprecation)return!0;var e=process.env.TRACE_DEPRECATION||"";return nU(e,t)}function hm(t,e){var r=dae(process,"deprecation");if(!(!r&&this._ignored)){var n,s,o,i,a=0,c=!1,u=gm(),f=this._file;for(e?(i=e,o=ta(u[1]),o.name=i.name,f=o[0]):(a=2,i=ta(u[a]),o=i);a<u.length;a++)if(n=ta(u[a]),s=n[0],s===f)c=!0;else if(s===this._file)f=this._file;else if(c)break;var m=n?i.join(":")+"__"+n.join(":"):void 0;if(!(m!==void 0&&m in this._warned)){this._warned[m]=!0;var g=t;if(g||(g=o===i||!o.name?rU(i):rU(o)),r){var h=sU(this._namespace,g,u.slice(a));process.emit("deprecation",h);return}var E=process.stderr.isTTY?hae:mae,w=E.call(this,g,n,u.slice(a));process.stderr.write(w+`
`,"utf8")}}}function ta(t){var e=t.getFileName()||"<anonymous>",r=t.getLineNumber(),n=t.getColumnNumber();t.isEval()&&(e=t.getEvalOrigin()+", "+e);var s=[e,r,n];return s.callSite=t,s.name=t.getFunctionName(),s}function rU(t){var e=t.callSite,r=t.name;r||(r="<anonymous@"+A_(t)+">");var n=e.getThis(),s=n&&e.getTypeName();return s==="Object"&&(s=void 0),s==="Function"&&(s=n.name||s),s&&e.getMethodName()?s+"."+r:r}function mae(t,e,r){var n=new Date().toUTCString(),s=n+" "+this._namespace+" deprecated "+t;if(this._traced){for(var o=0;o<r.length;o++)s+=`
    at `+r[o].toString();return s}return e&&(s+=" at "+A_(e)),s}function hae(t,e,r){var n="\x1B[36;1m"+this._namespace+"\x1B[22;39m \x1B[33;1mdeprecated\x1B[22;39m \x1B[0m"+t+"\x1B[39m";if(this._traced){for(var s=0;s<r.length;s++)n+=`
    \x1B[36mat `+r[s].toString()+"\x1B[39m";return n}return e&&(n+=" \x1B[36m"+A_(e)+"\x1B[39m"),n}function A_(t){return oae(iae,t[0])+":"+t[1]+":"+t[2]}function gm(){var t=Error.stackTraceLimit,e={},r=Error.prepareStackTrace;Error.prepareStackTrace=gae,Error.stackTraceLimit=Math.max(10,t),Error.captureStackTrace(e);var n=e.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=t,n}function gae(t,e){return e}function yae(t,e){if(typeof t!="function")throw new TypeError("argument fn must be a function");var r=cae(t.length),n=gm(),s=ta(n[1]);s.name=t.name;var o=new Function("fn","log","deprecate","message","site",`"use strict"
return function (`+r+`) {log.call(deprecate, message, site)
return fn.apply(this, arguments)
}`)(t,hm,this,e,s);return o}function Eae(t,e,r){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var s=this,o=gm(),i=ta(o[1]);i.name=e,"value"in n&&(n=aae(t,e,r));var a=n.get,c=n.set;typeof a=="function"&&(n.get=function(){return hm.call(s,r,i),a.apply(this,arguments)}),typeof c=="function"&&(n.set=function(){return hm.call(s,r,i),c.apply(this,arguments)}),Object.defineProperty(t,e,n)}function sU(t,e,r){var n=new Error,s;return Object.defineProperty(n,"constructor",{value:sU}),Object.defineProperty(n,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(n,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(n,"namespace",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(n,"stack",{configurable:!0,enumerable:!1,get:function(){return s!==void 0?s:s=uae.call(this,r)},set:function(i){s=i}}),n}});var cU=R((I_e,aU)=>{"use strict";aU.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?Sae:_ae);function Sae(t,e){return t.__proto__=e,t}function _ae(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r]);return t}});var uU=R((C_e,bae)=>{bae.exports={"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I'm a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}});var pU=R((A_e,dU)=>{"use strict";var R_=uU();dU.exports=Ir;Ir.message=R_;Ir.code=Tae(R_);Ir.codes=vae(R_);Ir.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0};Ir.empty={204:!0,205:!0,304:!0};Ir.retry={502:!0,503:!0,504:!0};function Tae(t){var e={};return Object.keys(t).forEach(function(n){var s=t[n],o=Number(n);e[s.toLowerCase()]=o}),e}function vae(t){return Object.keys(t).map(function(r){return Number(r)})}function wae(t){var e=t.toLowerCase();if(!Object.prototype.hasOwnProperty.call(Ir.code,e))throw new Error('invalid status message: "'+t+'"');return Ir.code[e]}function lU(t){if(!Object.prototype.hasOwnProperty.call(Ir.message,t))throw new Error("invalid status code: "+t);return Ir.message[t]}function Ir(t){if(typeof t=="number")return lU(t);if(typeof t!="string")throw new TypeError("code must be a number or string");var e=parseInt(t,10);return isNaN(e)?wae(t):lU(e)}});var fU=R((R_e,P_)=>{typeof Object.create=="function"?P_.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:P_.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var mU=R((P_e,N_)=>{try{if(D_=ue("util"),typeof D_.inherits!="function")throw"";N_.exports=D_.inherits}catch{N_.exports=fU()}var D_});var gU=R((D_e,hU)=>{"use strict";hU.exports=xae;function xae(t){return t.split(" ").map(function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}});var bU=R((N_e,vo)=>{"use strict";var Iae=iU()("http-errors"),yU=cU(),ra=pU(),O_=mU(),Cae=gU();vo.exports=ym;vo.exports.HttpError=Aae();vo.exports.isHttpError=Pae(vo.exports.HttpError);Nae(vo.exports,ra.codes,vo.exports.HttpError);function EU(t){return+(String(t).charAt(0)+"00")}function ym(){for(var t,e,r=500,n={},s=0;s<arguments.length;s++){var o=arguments[s],i=typeof o;if(i==="object"&&o instanceof Error)t=o,r=t.status||t.statusCode||r;else if(i==="number"&&s===0)r=o;else if(i==="string")e=o;else if(i==="object")n=o;else throw new TypeError("argument #"+(s+1)+" unsupported type "+i)}typeof r=="number"&&(r<400||r>=600)&&Iae("non-error status code; use only 4xx or 5xx status codes"),(typeof r!="number"||!ra.message[r]&&(r<400||r>=600))&&(r=500);var a=ym[r]||ym[EU(r)];t||(t=a?new a(e):new Error(e||ra.message[r]),Error.captureStackTrace(t,ym)),(!a||!(t instanceof a)||t.status!==r)&&(t.expose=r<500,t.status=t.statusCode=r);for(var c in n)c!=="status"&&c!=="statusCode"&&(t[c]=n[c]);return t}function Aae(){function t(){throw new TypeError("cannot construct abstract class")}return O_(t,Error),t}function Rae(t,e,r){var n=_U(e);function s(o){var i=o??ra.message[r],a=new Error(i);return Error.captureStackTrace(a,s),yU(a,s.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:i,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),a}return O_(s,t),SU(s,n),s.prototype.status=r,s.prototype.statusCode=r,s.prototype.expose=!0,s}function Pae(t){return function(r){return!r||typeof r!="object"?!1:r instanceof t?!0:r instanceof Error&&typeof r.expose=="boolean"&&typeof r.statusCode=="number"&&r.status===r.statusCode}}function Dae(t,e,r){var n=_U(e);function s(o){var i=o??ra.message[r],a=new Error(i);return Error.captureStackTrace(a,s),yU(a,s.prototype),Object.defineProperty(a,"message",{enumerable:!0,configurable:!0,value:i,writable:!0}),Object.defineProperty(a,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),a}return O_(s,t),SU(s,n),s.prototype.status=r,s.prototype.statusCode=r,s.prototype.expose=!1,s}function SU(t,e){var r=Object.getOwnPropertyDescriptor(t,"name");r&&r.configurable&&(r.value=e,Object.defineProperty(t,"name",r))}function Nae(t,e,r){e.forEach(function(s){var o,i=Cae(ra.message[s]);switch(EU(s)){case 400:o=Rae(r,i,s);break;case 500:o=Dae(r,i,s);break}o&&(t[s]=o,t[i]=o)})}function _U(t){return t.slice(-5)==="Error"?t:t+"Error"}});var OU=T(w_(),1),Fs=T(tU(),1),gu=T(bU(),1);import{randomUUID as qce}from"node:crypto";var Wt={};at(Wt,{BRAND:()=>sce,DIRTY:()=>wo,EMPTY_PATH:()=>Mae,INVALID:()=>K,NEVER:()=>Gce,OK:()=>vt,ParseStatus:()=>it,Schema:()=>ce,ZodAny:()=>Us,ZodArray:()=>Bn,ZodBigInt:()=>Io,ZodBoolean:()=>Co,ZodBranded:()=>mu,ZodCatch:()=>Bo,ZodDate:()=>Ao,ZodDefault:()=>Uo,ZodDiscriminatedUnion:()=>_m,ZodEffects:()=>lr,ZodEnum:()=>Lo,ZodError:()=>Bt,ZodFirstPartyTypeKind:()=>X,ZodFunction:()=>Tm,ZodIntersection:()=>No,ZodIssueCode:()=>O,ZodLazy:()=>Oo,ZodLiteral:()=>ko,ZodMap:()=>ca,ZodNaN:()=>la,ZodNativeEnum:()=>Mo,ZodNever:()=>Cr,ZodNull:()=>Po,ZodNullable:()=>nn,ZodNumber:()=>xo,ZodObject:()=>Ft,ZodOptional:()=>cr,ZodParsedType:()=>M,ZodPipeline:()=>hu,ZodPromise:()=>Bs,ZodReadonly:()=>Fo,ZodRecord:()=>bm,ZodSchema:()=>ce,ZodSet:()=>ua,ZodString:()=>Ms,ZodSymbol:()=>ia,ZodTransformer:()=>lr,ZodTuple:()=>rn,ZodType:()=>ce,ZodUndefined:()=>Ro,ZodUnion:()=>Do,ZodUnknown:()=>Un,ZodVoid:()=>aa,addIssueToContext:()=>k,any:()=>fce,array:()=>yce,bigint:()=>cce,boolean:()=>NU,coerce:()=>jce,custom:()=>RU,date:()=>uce,datetimeRegex:()=>CU,defaultErrorMap:()=>Ln,discriminatedUnion:()=>bce,effect:()=>Oce,enum:()=>Pce,function:()=>Cce,getErrorMap:()=>na,getParsedType:()=>tn,instanceof:()=>ice,intersection:()=>Tce,isAborted:()=>Em,isAsync:()=>sa,isDirty:()=>Sm,isValid:()=>Ls,late:()=>oce,lazy:()=>Ace,literal:()=>Rce,makeIssue:()=>fu,map:()=>xce,nan:()=>ace,nativeEnum:()=>Dce,never:()=>hce,null:()=>pce,nullable:()=>Lce,number:()=>DU,object:()=>Ece,objectUtil:()=>k_,oboolean:()=>$ce,onumber:()=>Fce,optional:()=>kce,ostring:()=>Bce,pipeline:()=>Uce,preprocess:()=>Mce,promise:()=>Nce,quotelessJson:()=>Oae,record:()=>wce,set:()=>Ice,setErrorMap:()=>Lae,strictObject:()=>Sce,string:()=>PU,symbol:()=>lce,transformer:()=>Oce,tuple:()=>vce,undefined:()=>dce,union:()=>_ce,unknown:()=>mce,util:()=>me,void:()=>gce});var me;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let o={};for(let i of s)o[i]=i;return o},t.getValidEnumValues=s=>{let o=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),i={};for(let a of o)i[a]=s[a];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let o=[];for(let i in s)Object.prototype.hasOwnProperty.call(s,i)&&o.push(i);return o},t.find=(s,o)=>{for(let i of s)if(o(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(me||(me={}));var k_;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(k_||(k_={}));var M=me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tn=t=>{switch(typeof t){case"undefined":return M.undefined;case"string":return M.string;case"number":return Number.isNaN(t)?M.nan:M.number;case"boolean":return M.boolean;case"function":return M.function;case"bigint":return M.bigint;case"symbol":return M.symbol;case"object":return Array.isArray(t)?M.array:t===null?M.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?M.promise:typeof Map<"u"&&t instanceof Map?M.map:typeof Set<"u"&&t instanceof Set?M.set:typeof Date<"u"&&t instanceof Date?M.date:M.object;default:return M.unknown}};var O=me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Oae=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Bt=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(let i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let a=n,c=0;for(;c<i.path.length;){let u=i.path[c];c===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(i))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let s of this.issues)if(s.path.length>0){let o=s.path[0];r[o]=r[o]||[],r[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Bt.create=t=>new Bt(t);var kae=(t,e)=>{let r;switch(t.code){case O.invalid_type:t.received===M.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,me.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:r=`Unrecognized key(s) in object: ${me.joinValues(t.keys,", ")}`;break;case O.invalid_union:r="Invalid input";break;case O.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${me.joinValues(t.options)}`;break;case O.invalid_enum_value:r=`Invalid enum value. Expected ${me.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:r="Invalid function arguments";break;case O.invalid_return_type:r="Invalid function return type";break;case O.invalid_date:r="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:me.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case O.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case O.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case O.custom:r="Invalid input";break;case O.invalid_intersection_types:r="Intersection results could not be merged";break;case O.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:r="Number must be finite";break;default:r=e.defaultError,me.assertNever(t)}return{message:r}},Ln=kae;var TU=Ln;function Lae(t){TU=t}function na(){return TU}var fu=t=>{let{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let a="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)a=u(i,{data:e,defaultError:a}).message;return{...s,path:o,message:a}},Mae=[];function k(t,e){let r=na(),n=fu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ln?void 0:Ln].filter(s=>!!s)});t.common.issues.push(n)}var it=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let s of r){if(s.status==="aborted")return K;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let s of r){let o=await s.key,i=await s.value;n.push({key:o,value:i})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let s of r){let{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return K;o.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(n[o.value]=i.value)}return{status:e.value,value:n}}},K=Object.freeze({status:"aborted"}),wo=t=>({status:"dirty",value:t}),vt=t=>({status:"valid",value:t}),Em=t=>t.status==="aborted",Sm=t=>t.status==="dirty",Ls=t=>t.status==="valid",sa=t=>typeof Promise<"u"&&t instanceof Promise;var F;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(F||(F={}));var ur=class{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},vU=(t,e)=>{if(Ls(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Bt(t.common.issues);return this._error=r,this._error}}};function se(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,a)=>{let{message:c}=t;return i.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??n??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:c??r??a.defaultError}},description:s}}var ce=class{get description(){return this._def.description}_getType(e){return tn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new it,ctx:{common:e.parent.common,data:e.data,parsedType:tn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(sa(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},s=this._parseSync({data:e,path:n.path,parent:n});return vU(n,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)};if(!this["~standard"].async)try{let n=this._parseSync({data:e,path:[],parent:r});return Ls(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Ls(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:tn(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(sa(s)?s:Promise.resolve(s));return vU(n,o)}refine(e,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{let i=e(s),a=()=>o.addIssue({code:O.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new lr({schema:this,typeName:X.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return cr.create(this,this._def)}nullable(){return nn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Bn.create(this)}promise(){return Bs.create(this,this._def)}or(e){return Do.create([this,e],this._def)}and(e){return No.create(this,e,this._def)}transform(e){return new lr({...se(this._def),schema:this,typeName:X.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Uo({...se(this._def),innerType:this,defaultValue:r,typeName:X.ZodDefault})}brand(){return new mu({typeName:X.ZodBranded,type:this,...se(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Bo({...se(this._def),innerType:this,catchValue:r,typeName:X.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return hu.create(this,e)}readonly(){return Fo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Uae=/^c[^\s-]{8,}$/i,Bae=/^[0-9a-z]+$/,Fae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,$ae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jae=/^[a-z0-9_-]{21}$/i,Gae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,qae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",L_,zae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Zae=new RegExp(`^${xU}$`);function IU(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Jae(t){return new RegExp(`^${IU(t)}$`)}function CU(t){let e=`${xU}T${IU(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function ece(t,e){return!!((e==="v4"||!e)&&zae.test(t)||(e==="v6"||!e)&&Kae.test(t))}function tce(t,e){if(!Gae.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function rce(t,e){return!!((e==="v4"||!e)&&Wae.test(t)||(e==="v6"||!e)&&Yae.test(t))}var Ms=class t extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==M.string){let o=this._getOrReturnCtx(e);return k(o,{code:O.invalid_type,expected:M.string,received:o.parsedType}),K}let n=new it,s;for(let o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),k(s,{code:O.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),k(s,{code:O.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){let i=e.data.length>o.value,a=e.data.length<o.value;(i||a)&&(s=this._getOrReturnCtx(e,s),i?k(s,{code:O.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&k(s,{code:O.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Hae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"email",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")L_||(L_=new RegExp(Vae,"u")),L_.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"emoji",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")$ae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"uuid",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")jae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"nanoid",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Uae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"cuid",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Bae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"cuid2",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Fae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"ulid",code:O.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),k(s,{validation:"url",code:O.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"regex",code:O.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?CU(o).test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?Zae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?Jae(o).test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{code:O.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?qae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"duration",code:O.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?ece(e.data,o.version)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"ip",code:O.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?tce(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"jwt",code:O.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?rce(e.data,o.version)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"cidr",code:O.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?Xae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"base64",code:O.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?Qae.test(e.data)||(s=this._getOrReturnCtx(e,s),k(s,{validation:"base64url",code:O.invalid_string,message:o.message}),n.dirty()):me.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:O.invalid_string,...F.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...F.errToObj(e)})}url(e){return this._addCheck({kind:"url",...F.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...F.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...F.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...F.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...F.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...F.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...F.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...F.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...F.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...F.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...F.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...F.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...F.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...F.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...F.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...F.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...F.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...F.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...F.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...F.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...F.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...F.errToObj(r)})}nonempty(e){return this.min(1,F.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ms.create=t=>new Ms({checks:[],typeName:X.ZodString,coerce:t?.coerce??!1,...se(t)});function nce(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(t.toFixed(s).replace(".","")),i=Number.parseInt(e.toFixed(s).replace(".",""));return o%i/10**s}var xo=class t extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==M.number){let o=this._getOrReturnCtx(e);return k(o,{code:O.invalid_type,expected:M.number,received:o.parsedType}),K}let n,s=new it;for(let o of this._def.checks)o.kind==="int"?me.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),k(n,{code:O.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?nce(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),k(n,{code:O.not_finite,message:o.message}),s.dirty()):me.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:F.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:F.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:F.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:F.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&me.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};xo.create=t=>new xo({checks:[],typeName:X.ZodNumber,coerce:t?.coerce||!1,...se(t)});var Io=class t extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==M.bigint)return this._getInvalidInput(e);let n,s=new it;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),k(n,{code:O.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):me.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return k(r,{code:O.invalid_type,expected:M.bigint,received:r.parsedType}),K}gte(e,r){return this.setLimit("min",e,!0,F.toString(r))}gt(e,r){return this.setLimit("min",e,!1,F.toString(r))}lte(e,r){return this.setLimit("max",e,!0,F.toString(r))}lt(e,r){return this.setLimit("max",e,!1,F.toString(r))}setLimit(e,r,n,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:F.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:F.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:F.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:F.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:F.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:F.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Io.create=t=>new Io({checks:[],typeName:X.ZodBigInt,coerce:t?.coerce??!1,...se(t)});var Co=class extends ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==M.boolean){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.boolean,received:n.parsedType}),K}return vt(e.data)}};Co.create=t=>new Co({typeName:X.ZodBoolean,coerce:t?.coerce||!1,...se(t)});var Ao=class t extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==M.date){let o=this._getOrReturnCtx(e);return k(o,{code:O.invalid_type,expected:M.date,received:o.parsedType}),K}if(Number.isNaN(e.data.getTime())){let o=this._getOrReturnCtx(e);return k(o,{code:O.invalid_date}),K}let n=new it,s;for(let o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),k(s,{code:O.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),k(s,{code:O.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):me.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:F.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:F.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Ao.create=t=>new Ao({checks:[],coerce:t?.coerce||!1,typeName:X.ZodDate,...se(t)});var ia=class extends ce{_parse(e){if(this._getType(e)!==M.symbol){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.symbol,received:n.parsedType}),K}return vt(e.data)}};ia.create=t=>new ia({typeName:X.ZodSymbol,...se(t)});var Ro=class extends ce{_parse(e){if(this._getType(e)!==M.undefined){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.undefined,received:n.parsedType}),K}return vt(e.data)}};Ro.create=t=>new Ro({typeName:X.ZodUndefined,...se(t)});var Po=class extends ce{_parse(e){if(this._getType(e)!==M.null){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.null,received:n.parsedType}),K}return vt(e.data)}};Po.create=t=>new Po({typeName:X.ZodNull,...se(t)});var Us=class extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return vt(e.data)}};Us.create=t=>new Us({typeName:X.ZodAny,...se(t)});var Un=class extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vt(e.data)}};Un.create=t=>new Un({typeName:X.ZodUnknown,...se(t)});var Cr=class extends ce{_parse(e){let r=this._getOrReturnCtx(e);return k(r,{code:O.invalid_type,expected:M.never,received:r.parsedType}),K}};Cr.create=t=>new Cr({typeName:X.ZodNever,...se(t)});var aa=class extends ce{_parse(e){if(this._getType(e)!==M.undefined){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.void,received:n.parsedType}),K}return vt(e.data)}};aa.create=t=>new aa({typeName:X.ZodVoid,...se(t)});var Bn=class t extends ce{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==M.array)return k(r,{code:O.invalid_type,expected:M.array,received:r.parsedType}),K;if(s.exactLength!==null){let i=r.data.length>s.exactLength.value,a=r.data.length<s.exactLength.value;(i||a)&&(k(r,{code:i?O.too_big:O.too_small,minimum:a?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(k(r,{code:O.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(k(r,{code:O.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,a)=>s.type._parseAsync(new ur(r,i,r.path,a)))).then(i=>it.mergeArray(n,i));let o=[...r.data].map((i,a)=>s.type._parseSync(new ur(r,i,r.path,a)));return it.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:F.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:F.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:F.toString(r)}})}nonempty(e){return this.min(1,e)}};Bn.create=(t,e)=>new Bn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:X.ZodArray,...se(e)});function oa(t){if(t instanceof Ft){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=cr.create(oa(n))}return new Ft({...t._def,shape:()=>e})}else return t instanceof Bn?new Bn({...t._def,type:oa(t.element)}):t instanceof cr?cr.create(oa(t.unwrap())):t instanceof nn?nn.create(oa(t.unwrap())):t instanceof rn?rn.create(t.items.map(e=>oa(e))):t}var Ft=class t extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=me.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==M.object){let u=this._getOrReturnCtx(e);return k(u,{code:O.invalid_type,expected:M.object,received:u.parsedType}),K}let{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Cr&&this._def.unknownKeys==="strip"))for(let u in s.data)i.includes(u)||a.push(u);let c=[];for(let u of i){let f=o[u],m=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new ur(s,m,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Cr){let u=this._def.unknownKeys;if(u==="passthrough")for(let f of a)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")a.length>0&&(k(s,{code:O.unrecognized_keys,keys:a}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let f of a){let m=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new ur(s,m,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let u=[];for(let f of c){let m=await f.key,g=await f.value;u.push({key:m,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>it.mergeObjectSync(n,u)):it.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return F.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{let s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:F.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:X.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let n of me.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let n of me.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new t({...this._def,shape:()=>r})}deepPartial(){return oa(this)}partial(e){let r={};for(let n of me.objectKeys(this.shape)){let s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let n of me.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof cr;)o=o._def.innerType;r[n]=o}return new t({...this._def,shape:()=>r})}keyof(){return AU(me.objectKeys(this.shape))}};Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:Cr.create(),typeName:X.ZodObject,...se(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:Cr.create(),typeName:X.ZodObject,...se(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:Cr.create(),typeName:X.ZodObject,...se(e)});var Do=class extends ce{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(let a of o)if(a.result.status==="valid")return a.result;for(let a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let i=o.map(a=>new Bt(a.ctx.common.issues));return k(r,{code:O.invalid_union,unionErrors:i}),K}if(r.common.async)return Promise.all(n.map(async o=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let o,i=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;let a=i.map(c=>new Bt(c));return k(r,{code:O.invalid_union,unionErrors:a}),K}}get options(){return this._def.options}};Do.create=(t,e)=>new Do({options:t,typeName:X.ZodUnion,...se(e)});var Mn=t=>t instanceof Oo?Mn(t.schema):t instanceof lr?Mn(t.innerType()):t instanceof ko?[t.value]:t instanceof Lo?t.options:t instanceof Mo?me.objectValues(t.enum):t instanceof Uo?Mn(t._def.innerType):t instanceof Ro?[void 0]:t instanceof Po?[null]:t instanceof cr?[void 0,...Mn(t.unwrap())]:t instanceof nn?[null,...Mn(t.unwrap())]:t instanceof mu||t instanceof Fo?Mn(t.unwrap()):t instanceof Bo?Mn(t._def.innerType):[],_m=class t extends ce{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.object)return k(r,{code:O.invalid_type,expected:M.object,received:r.parsedType}),K;let n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(k(r,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),K)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let s=new Map;for(let o of r){let i=Mn(o.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of i){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,o)}}return new t({typeName:X.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...se(n)})}};function M_(t,e){let r=tn(t),n=tn(e);if(t===e)return{valid:!0,data:t};if(r===M.object&&n===M.object){let s=me.objectKeys(e),o=me.objectKeys(t).filter(a=>s.indexOf(a)!==-1),i={...t,...e};for(let a of o){let c=M_(t[a],e[a]);if(!c.valid)return{valid:!1};i[a]=c.data}return{valid:!0,data:i}}else if(r===M.array&&n===M.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let o=0;o<t.length;o++){let i=t[o],a=e[o],c=M_(i,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===M.date&&n===M.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var No=class extends ce{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=(o,i)=>{if(Em(o)||Em(i))return K;let a=M_(o.value,i.value);return a.valid?((Sm(o)||Sm(i))&&r.dirty(),{status:r.value,value:a.data}):(k(n,{code:O.invalid_intersection_types}),K)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};No.create=(t,e,r)=>new No({left:t,right:e,typeName:X.ZodIntersection,...se(r)});var rn=class t extends ce{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.array)return k(n,{code:O.invalid_type,expected:M.array,received:n.parsedType}),K;if(n.data.length<this._def.items.length)return k(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&n.data.length>this._def.items.length&&(k(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let o=[...n.data].map((i,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new ur(n,i,n.path,a)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>it.mergeArray(r,i)):it.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};rn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rn({items:t,typeName:X.ZodTuple,rest:null,...se(e)})};var bm=class t extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.object)return k(n,{code:O.invalid_type,expected:M.object,received:n.parsedType}),K;let s=[],o=this._def.keyType,i=this._def.valueType;for(let a in n.data)s.push({key:o._parse(new ur(n,a,n.path,a)),value:i._parse(new ur(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?it.mergeObjectAsync(r,s):it.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ce?new t({keyType:e,valueType:r,typeName:X.ZodRecord,...se(n)}):new t({keyType:Ms.create(),valueType:e,typeName:X.ZodRecord,...se(r)})}},ca=class extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.map)return k(n,{code:O.invalid_type,expected:M.map,received:n.parsedType}),K;let s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([a,c],u)=>({key:s._parse(new ur(n,a,n.path,[u,"key"])),value:o._parse(new ur(n,c,n.path,[u,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of i){let u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return K;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of i){let u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return K;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),a.set(u.value,f.value)}return{status:r.value,value:a}}}};ca.create=(t,e,r)=>new ca({valueType:e,keyType:t,typeName:X.ZodMap,...se(r)});var ua=class t extends ce{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==M.set)return k(n,{code:O.invalid_type,expected:M.set,received:n.parsedType}),K;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(k(n,{code:O.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(k(n,{code:O.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let o=this._def.valueType;function i(c){let u=new Set;for(let f of c){if(f.status==="aborted")return K;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}let a=[...n.data.values()].map((c,u)=>o._parse(new ur(n,c,n.path,u)));return n.common.async?Promise.all(a).then(c=>i(c)):i(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:F.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:F.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};ua.create=(t,e)=>new ua({valueType:t,minSize:null,maxSize:null,typeName:X.ZodSet,...se(e)});var Tm=class t extends ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.function)return k(r,{code:O.invalid_type,expected:M.function,received:r.parsedType}),K;function n(a,c){return fu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,na(),Ln].filter(u=>!!u),issueData:{code:O.invalid_arguments,argumentsError:c}})}function s(a,c){return fu({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,na(),Ln].filter(u=>!!u),issueData:{code:O.invalid_return_type,returnTypeError:c}})}let o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Bs){let a=this;return vt(async function(...c){let u=new Bt([]),f=await a._def.args.parseAsync(c,o).catch(h=>{throw u.addIssue(n(c,h)),u}),m=await Reflect.apply(i,this,f);return await a._def.returns._def.type.parseAsync(m,o).catch(h=>{throw u.addIssue(s(m,h)),u})})}else{let a=this;return vt(function(...c){let u=a._def.args.safeParse(c,o);if(!u.success)throw new Bt([n(c,u.error)]);let f=Reflect.apply(i,this,u.data),m=a._def.returns.safeParse(f,o);if(!m.success)throw new Bt([s(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:rn.create(e).rest(Un.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||rn.create([]).rest(Un.create()),returns:r||Un.create(),typeName:X.ZodFunction,...se(n)})}},Oo=class extends ce{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Oo.create=(t,e)=>new Oo({getter:t,typeName:X.ZodLazy,...se(e)});var ko=class extends ce{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return k(r,{received:r.data,code:O.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:e.data}}get value(){return this._def.value}};ko.create=(t,e)=>new ko({value:t,typeName:X.ZodLiteral,...se(e)});function AU(t,e){return new Lo({values:t,typeName:X.ZodEnum,...se(e)})}var Lo=class t extends ce{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return k(r,{expected:me.joinValues(n),received:r.parsedType,code:O.invalid_type}),K}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return k(r,{received:r.data,code:O.invalid_enum_value,options:n}),K}return vt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};Lo.create=AU;var Mo=class extends ce{_parse(e){let r=me.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==M.string&&n.parsedType!==M.number){let s=me.objectValues(r);return k(n,{expected:me.joinValues(s),received:n.parsedType,code:O.invalid_type}),K}if(this._cache||(this._cache=new Set(me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=me.objectValues(r);return k(n,{received:n.data,code:O.invalid_enum_value,options:s}),K}return vt(e.data)}get enum(){return this._def.values}};Mo.create=(t,e)=>new Mo({values:t,typeName:X.ZodNativeEnum,...se(e)});var Bs=class extends ce{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==M.promise&&r.common.async===!1)return k(r,{code:O.invalid_type,expected:M.promise,received:r.parsedType}),K;let n=r.parsedType===M.promise?r.data:Promise.resolve(r.data);return vt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Bs.create=(t,e)=>new Bs({type:t,typeName:X.ZodPromise,...se(e)});var lr=class extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===X.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:i=>{k(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){let i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async a=>{if(r.value==="aborted")return K;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?K:c.status==="dirty"?wo(c.value):r.value==="dirty"?wo(c.value):c});{if(r.value==="aborted")return K;let a=this._def.schema._parseSync({data:i,path:n.path,parent:n});return a.status==="aborted"?K:a.status==="dirty"?wo(a.value):r.value==="dirty"?wo(a.value):a}}if(s.type==="refinement"){let i=a=>{let c=s.refinement(a,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?K:(a.status==="dirty"&&r.dirty(),i(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?K:(a.status==="dirty"&&r.dirty(),i(a.value).then(()=>({status:r.value,value:a.value}))))}if(s.type==="transform")if(n.common.async===!1){let i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ls(i))return K;let a=s.transform(i.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>Ls(i)?Promise.resolve(s.transform(i.value,o)).then(a=>({status:r.value,value:a})):K);me.assertNever(s)}};lr.create=(t,e,r)=>new lr({schema:t,typeName:X.ZodEffects,effect:e,...se(r)});lr.createWithPreprocess=(t,e,r)=>new lr({schema:e,effect:{type:"preprocess",transform:t},typeName:X.ZodEffects,...se(r)});var cr=class extends ce{_parse(e){return this._getType(e)===M.undefined?vt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};cr.create=(t,e)=>new cr({innerType:t,typeName:X.ZodOptional,...se(e)});var nn=class extends ce{_parse(e){return this._getType(e)===M.null?vt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};nn.create=(t,e)=>new nn({innerType:t,typeName:X.ZodNullable,...se(e)});var Uo=class extends ce{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===M.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Uo.create=(t,e)=>new Uo({innerType:t,typeName:X.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...se(e)});var Bo=class extends ce{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sa(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Bt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Bt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Bo.create=(t,e)=>new Bo({innerType:t,typeName:X.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...se(e)});var la=class extends ce{_parse(e){if(this._getType(e)!==M.nan){let n=this._getOrReturnCtx(e);return k(n,{code:O.invalid_type,expected:M.nan,received:n.parsedType}),K}return{status:"valid",value:e.data}}};la.create=t=>new la({typeName:X.ZodNaN,...se(t)});var sce=Symbol("zod_brand"),mu=class extends ce{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},hu=class t extends ce{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?K:o.status==="dirty"?(r.dirty(),wo(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?K:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:X.ZodPipeline})}},Fo=class extends ce{_parse(e){let r=this._def.innerType._parse(e),n=s=>(Ls(s)&&(s.value=Object.freeze(s.value)),s);return sa(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};Fo.create=(t,e)=>new Fo({innerType:t,typeName:X.ZodReadonly,...se(e)});function wU(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function RU(t,e={},r){return t?Us.create().superRefine((n,s)=>{let o=t(n);if(o instanceof Promise)return o.then(i=>{if(!i){let a=wU(e,n),c=a.fatal??r??!0;s.addIssue({code:"custom",...a,fatal:c})}});if(!o){let i=wU(e,n),a=i.fatal??r??!0;s.addIssue({code:"custom",...i,fatal:a})}}):Us.create()}var oce={object:Ft.lazycreate},X;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(X||(X={}));var ice=(t,e={message:`Input not instance of ${t.name}`})=>RU(r=>r instanceof t,e),PU=Ms.create,DU=xo.create,ace=la.create,cce=Io.create,NU=Co.create,uce=Ao.create,lce=ia.create,dce=Ro.create,pce=Po.create,fce=Us.create,mce=Un.create,hce=Cr.create,gce=aa.create,yce=Bn.create,Ece=Ft.create,Sce=Ft.strictCreate,_ce=Do.create,bce=_m.create,Tce=No.create,vce=rn.create,wce=bm.create,xce=ca.create,Ice=ua.create,Cce=Tm.create,Ace=Oo.create,Rce=ko.create,Pce=Lo.create,Dce=Mo.create,Nce=Bs.create,Oce=lr.create,kce=cr.create,Lce=nn.create,Mce=lr.createWithPreprocess,Uce=hu.create,Bce=()=>PU().optional(),Fce=()=>DU().optional(),$ce=()=>NU().optional(),jce={string:t=>Ms.create({...t,coerce:!0}),number:t=>xo.create({...t,coerce:!0}),boolean:t=>Co.create({...t,coerce:!0}),bigint:t=>Io.create({...t,coerce:!0}),date:t=>Ao.create({...t,coerce:!0})};var Gce=K;var vm=process.env.MENTRA_TABLE_NAME;if(!vm)throw new Error("MENTRA_TABLE_NAME environment variable is required");var B_=Fs.DynamoDBDocumentClient.from(new OU.DynamoDBClient({}),{marshallOptions:{removeUndefinedValues:!0}}),kU={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"GET,POST,OPTIONS"},LU={...kU,"Content-Type":"application/json"},Hce=Wt.object({itemId:Wt.string().optional(),title:Wt.string().min(1,"Title is required"),category:Wt.string().min(1,"Category is required"),subcategory:Wt.string().min(1,"Subcategory is required"),description:Wt.string().trim().optional(),videoUrl:Wt.string().url("Video URL must be valid").optional(),steps:Wt.array(Wt.string().trim().min(1)).optional()}).refine(t=>!!t.description||!!t.videoUrl,{message:"Provide a description or a video URL before posting",path:["description"]}),F_=t=>({id:t.SK.replace(/^ITEM#/u,""),title:t.title,category:t.category,subcategory:t.subcategory,description:t.description??null,videoUrl:t.videoUrl??null,steps:t.steps??[],updatedAt:t.updatedAt??null,createdAt:t.createdAt??null}),$o=(t,e)=>({statusCode:t,headers:LU,body:JSON.stringify(e)}),Vce=t=>({statusCode:t.status??500,headers:LU,body:JSON.stringify({message:t.message})}),U_=t=>{let e=t?.tenantId;if(!e)throw new gu.default.BadRequest("Missing tenantId in request path");return e},zce=t=>{let e=t?.itemId;if(!e)throw new gu.default.BadRequest("Missing itemId in request path");return e},Wce=async t=>((await B_.send(new Fs.QueryCommand({TableName:vm,KeyConditionExpression:"PK = :pk AND begins_with(SK, :sk)",ExpressionAttributeValues:{":pk":`TENANT#${t}#MENU`,":sk":"ITEM#"}}))).Items??[]).map(r=>F_(r)),Kce=async(t,e)=>{let r=await B_.send(new Fs.GetCommand({TableName:vm,Key:{PK:`TENANT#${t}#MENU`,SK:`ITEM#${e}`}}));if(!r.Item)throw new gu.default.NotFound("Menu item not found");return F_(r.Item)},Yce=async(t,e)=>{let r=new Date().toISOString(),n=e.itemId??qce(),s={PK:`TENANT#${t}#MENU`,SK:`ITEM#${n}`,title:e.title,category:e.category,subcategory:e.subcategory,description:e.description?.trim()||void 0,videoUrl:e.videoUrl,steps:e.steps??[],createdAt:r,updatedAt:r};return await B_.send(new Fs.PutCommand({TableName:vm,Item:s})),F_(s)},Xce=t=>!!t&&typeof t=="object"&&"status"in t,abe=async t=>{try{if(t.requestContext.http.method==="OPTIONS")return{statusCode:204,headers:kU,body:""};switch(t.routeKey){case"GET /health":return $o(200,{status:"ok"});case"GET /menu/{tenantId}":{let e=U_(t.pathParameters),r=await Wce(e);return $o(200,{items:r})}case"GET /menu/{tenantId}/{itemId}":{let e=U_(t.pathParameters),r=zce(t.pathParameters),n=await Kce(e,r);return $o(200,{item:n})}case"POST /menu/{tenantId}":{let e=U_(t.pathParameters),r={};if(t.body)try{r=JSON.parse(t.body)}catch{throw new gu.default.BadRequest("Request body must be valid JSON")}let n=Hce.parse(r),s=await Yce(e,n);return $o(201,{item:s})}default:return $o(404,{message:"Route not found"})}}catch(e){if(e instanceof Wt.ZodError){let r=e.issues[0];return $o(400,{message:r?.message??"Invalid request payload"})}return Xce(e)?Vce(e):(console.error("Unhandled Mentra API error",e),$o(500,{message:"Internal server error"}))}};export{B_ as docClient,abe as handler};
/*! Bundled license information:

depd/index.js:
  (*!
   * depd
   * Copyright(c) 2014-2018 Douglas Christopher Wilson
   * MIT Licensed
   *)

statuses/index.js:
  (*!
   * statuses
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

toidentifier/index.js:
  (*!
   * toidentifier
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)

http-errors/index.js:
  (*!
   * http-errors
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2016 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
//# sourceMappingURL=index.mjs.map
